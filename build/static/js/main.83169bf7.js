/*! For license information please see main.83169bf7.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,n,a)=>{var t=a(853),r=a(43),l=a(950);function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do{0!==(4098&(n=e).flags)&&(a=n.return),e=n.return}while(e)}return 3===n.tag?a:null}function c(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&(null!==(e=e.alternate)&&(n=e.memoizedState)),null!==n)return n.dehydrated}return null}function u(e){if(o(e)!==e)throw Error(i(188))}function d(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e;for(e=e.child;null!==e;){if(null!==(n=d(e)))return n;e=e.sibling}return null}var m=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),k=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var z=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===z?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case g:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case h:return"Portal";case j:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return(e=e.displayName)||(e=""!==(e=n.displayName||n.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(n=e.displayName||null)?n:O(e.type)||"Memo";case k:n=e._payload,e=e._init;try{return O(e(n))}catch(a){}}return null}var T=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},D=[],M=-1;function I(e){return{current:e}}function F(e){0>M||(e.current=D[M],D[M]=null,M--)}function q(e,n){M++,D[M]=e.current,e.current=n}var H=I(null),B=I(null),V=I(null),W=I(null);function G(e,n){switch(q(V,n),q(B,e),q(H,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)e=ld(n=rd(n),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(H),q(H,e)}function $(){F(H),F(B),F(V)}function Q(e){null!==e.memoizedState&&q(W,e);var n=H.current,a=ld(n,e.type);n!==a&&(q(B,e),q(H,a))}function J(e){B.current===e&&(F(H),F(B)),W.current===e&&(F(W),Qd._currentValue=U)}var K=Object.prototype.hasOwnProperty,Y=t.unstable_scheduleCallback,X=t.unstable_cancelCallback,Z=t.unstable_shouldYield,ee=t.unstable_requestPaint,ne=t.unstable_now,ae=t.unstable_getCurrentPriorityLevel,te=t.unstable_ImmediatePriority,re=t.unstable_UserBlockingPriority,le=t.unstable_NormalPriority,ie=t.unstable_LowPriority,se=t.unstable_IdlePriority,oe=t.log,ce=t.unstable_setDisableYieldValue,ue=null,de=null;function me(e){if("function"===typeof oe&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(n){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/he|0)|0},pe=Math.log,he=Math.LN2;var ve=256,ge=4194304;function be(e){var n=42&e;if(0!==n)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,n,a){var t=e.pendingLanes;if(0===t)return 0;var r=0,l=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&t;return 0!==s?0!==(t=s&~l)?r=be(t):0!==(i&=s)?r=be(i):a||0!==(a=s&~e)&&(r=be(a)):0!==(s=t&~l)?r=be(s):0!==i?r=be(i):a||0!==(a=t&~e)&&(r=be(a)),0===r?0:0!==n&&n!==r&&0===(n&l)&&((l=r&-r)>=(a=n&-n)||32===l&&0!==(4194048&a))?n:r}function xe(e,n){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)}function je(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return-1}}function Ne(){var e=ve;return 0===(4194048&(ve<<=1))&&(ve=256),e}function _e(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function Se(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function we(e,n){e.pendingLanes|=n,268435456!==n&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ke(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var t=31-fe(n);e.entangledLanes|=n,e.entanglements[t]=1073741824|e.entanglements[t]|4194090&a}function Ee(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var t=31-fe(a),r=1<<t;r&n|e[t]&n&&(e[t]|=n),a&=~r}}function Ce(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Le(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:cm(e.type)}var ze=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ze,Te="__reactProps$"+ze,Ae="__reactContainer$"+ze,Re="__reactEvents$"+ze,Ue="__reactListeners$"+ze,De="__reactHandles$"+ze,Me="__reactResources$"+ze,Ie="__reactMarker$"+ze;function Fe(e){delete e[Oe],delete e[Te],delete e[Re],delete e[Ue],delete e[De]}function qe(e){var n=e[Oe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Ae]||a[Oe]){if(a=n.alternate,null!==n.child||null!==a&&null!==a.child)for(e=yd(e);null!==e;){if(a=e[Oe])return a;e=yd(e)}return n}a=(e=a).parentNode}return null}function He(e){if(e=e[Oe]||e[Ae]){var n=e.tag;if(5===n||6===n||13===n||26===n||27===n||3===n)return e}return null}function Be(e){var n=e.tag;if(5===n||26===n||27===n||6===n)return e.stateNode;throw Error(i(33))}function Ve(e){var n=e[Me];return n||(n=e[Me]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[Ie]=!0}var Ge=new Set,$e={};function Qe(e,n){Je(e,n),Je(e+"Capture",n)}function Je(e,n){for($e[e]=n,e=0;e<n.length;e++)Ge.add(n[e])}var Ke,Ye,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},en={};function nn(e,n,a){if(r=n,K.call(en,r)||!K.call(Ze,r)&&(Xe.test(r)?en[r]=!0:(Ze[r]=!0,0)))if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":return void e.removeAttribute(n);case"boolean":var t=n.toLowerCase().slice(0,5);if("data-"!==t&&"aria-"!==t)return void e.removeAttribute(n)}e.setAttribute(n,""+a)}var r}function an(e,n,a){if(null===a)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttribute(n,""+a)}}function tn(e,n,a,t){if(null===t)e.removeAttribute(a);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(a)}e.setAttributeNS(n,a,""+t)}}function rn(e){if(void 0===Ke)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ke=n&&n[1]||"",Ye=-1<a.stack.indexOf("\n    at")?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ke+e+Ye}var ln=!1;function sn(e,n){if(!e||ln)return"";ln=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var t={DetermineComponentFrameRoot:function(){try{if(n){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(r){var t=r}Reflect.construct(e,[],a)}else{try{a.call()}catch(l){t=l}e.call(a.prototype)}}else{try{throw Error()}catch(i){t=i}(a=e())&&"function"===typeof a.catch&&a.catch(function(){})}}catch(s){if(s&&t&&"string"===typeof s.stack)return[s.stack,t.stack]}return[null,null]}};t.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(t.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(t.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=t.DetermineComponentFrameRoot(),i=l[0],s=l[1];if(i&&s){var o=i.split("\n"),c=s.split("\n");for(r=t=0;t<o.length&&!o[t].includes("DetermineComponentFrameRoot");)t++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(t===o.length||r===c.length)for(t=o.length-1,r=c.length-1;1<=t&&0<=r&&o[t]!==c[r];)r--;for(;1<=t&&0<=r;t--,r--)if(o[t]!==c[r]){if(1!==t||1!==r)do{if(t--,0>--r||o[t]!==c[r]){var u="\n"+o[t].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=t&&0<=r);break}}}finally{ln=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?rn(a):""}function on(e){switch(e.tag){case 26:case 27:case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 15:return sn(e.type,!1);case 11:return sn(e.type.render,!1);case 1:return sn(e.type,!0);case 31:return rn("Activity");default:return""}}function cn(e){try{var n="";do{n+=on(e),e=e.return}while(e);return n}catch(a){return"\nError generating stack: "+a.message+"\n"+a.stack}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dn(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function mn(e){e._valueTracker||(e._valueTracker=function(e){var n=dn(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),t=""+e[n];if(!e.hasOwnProperty(n)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var r=a.get,l=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return r.call(this)},set:function(e){t=""+e,l.call(this,e)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return t},setValue:function(e){t=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function fn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),t="";return e&&(t=dn(e)?e.checked?"true":"false":e.value),(e=t)!==a&&(n.setValue(e),!0)}function pn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}var hn=/[\n"\\]/g;function vn(e){return e.replace(hn,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gn(e,n,a,t,r,l,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=n?"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+un(n)):e.value!==""+un(n)&&(e.value=""+un(n)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=n?yn(e,i,un(n)):null!=a?yn(e,i,un(a)):null!=t&&e.removeAttribute("value"),null==r&&null!=l&&(e.defaultChecked=!!l),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+un(s):e.removeAttribute("name")}function bn(e,n,a,t,r,l,i,s){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=n||null!=a){if(!("submit"!==l&&"reset"!==l||void 0!==n&&null!==n))return;a=null!=a?""+un(a):"",n=null!=n?""+un(n):a,s||n===e.value||(e.value=n),e.defaultValue=n}t="function"!==typeof(t=null!=t?t:r)&&"symbol"!==typeof t&&!!t,e.checked=s?e.checked:!!t,e.defaultChecked=!!t,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yn(e,n,a){"number"===n&&pn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xn(e,n,a,t){if(e=e.options,n){n={};for(var r=0;r<a.length;r++)n["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=n.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&t&&(e[a].defaultSelected=!0)}else{for(a=""+un(a),n=null,r=0;r<e.length;r++){if(e[r].value===a)return e[r].selected=!0,void(t&&(e[r].defaultSelected=!0));null!==n||e[r].disabled||(n=e[r])}null!==n&&(n.selected=!0)}}function jn(e,n,a){null==n||((n=""+un(n))!==e.value&&(e.value=n),null!=a)?e.defaultValue=null!=a?""+un(a):"":e.defaultValue!==n&&(e.defaultValue=n)}function Nn(e,n,a,t){if(null==n){if(null!=t){if(null!=a)throw Error(i(92));if(T(t)){if(1<t.length)throw Error(i(93));t=t[0]}a=t}null==a&&(a=""),n=a}a=un(n),e.defaultValue=a,(t=e.textContent)===a&&""!==t&&null!==t&&(e.value=t)}function _n(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=n)}e.textContent=n}var Sn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wn(e,n,a){var t=0===n.indexOf("--");null==a||"boolean"===typeof a||""===a?t?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="":t?e.setProperty(n,a):"number"!==typeof a||0===a||Sn.has(n)?"float"===n?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function kn(e,n,a){if(null!=n&&"object"!==typeof n)throw Error(i(62));if(e=e.style,null!=a){for(var t in a)!a.hasOwnProperty(t)||null!=n&&n.hasOwnProperty(t)||(0===t.indexOf("--")?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="");for(var r in n)t=n[r],n.hasOwnProperty(r)&&a[r]!==t&&wn(e,r,t)}else for(var l in n)n.hasOwnProperty(l)&&wn(e,l,n[l])}function En(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(e){return Pn.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zn=null;function On(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tn=null,An=null;function Rn(e){var n=He(e);if(n&&(e=n.stateNode)){var a=e[Te]||null;e:switch(e=n.stateNode,n.type){case"input":if(gn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,"radio"===a.type&&null!=n){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var t=a[n];if(t!==e&&t.form===e.form){var r=t[Te]||null;if(!r)throw Error(i(90));gn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(n=0;n<a.length;n++)(t=a[n]).form===e.form&&fn(t)}break e;case"textarea":jn(e,a.value,a.defaultValue);break e;case"select":null!=(n=a.value)&&xn(e,!!a.multiple,n,!1)}}}var Un=!1;function Dn(e,n,a){if(Un)return e(n,a);Un=!0;try{return e(n)}finally{if(Un=!1,(null!==Tn||null!==An)&&(qc(),Tn&&(n=Tn,e=An,An=Tn=null,Rn(n),e)))for(n=0;n<e.length;n++)Rn(e[n])}}function Mn(e,n){var a=e.stateNode;if(null===a)return null;var t=a[Te]||null;if(null===t)return null;a=t[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(t=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!t;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(i(231,n,typeof a));return a}var In=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Fn=!1;if(In)try{var qn={};Object.defineProperty(qn,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",qn,qn),window.removeEventListener("test",qn,qn)}catch(Tm){Fn=!1}var Hn=null,Bn=null,Vn=null;function Wn(){if(Vn)return Vn;var e,n,a=Bn,t=a.length,r="value"in Hn?Hn.value:Hn.textContent,l=r.length;for(e=0;e<t&&a[e]===r[e];e++);var i=t-e;for(n=1;n<=i&&a[t-n]===r[l-n];n++);return Vn=r.slice(e,1<n?1-n:void 0)}function Gn(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function $n(){return!0}function Qn(){return!1}function Jn(e){function n(n,a,t,r,l){for(var i in this._reactName=n,this._targetInst=t,this.type=a,this.nativeEvent=r,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?$n:Qn,this.isPropagationStopped=Qn,this}return m(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var Kn,Yn,Xn,Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Jn(Zn),na=m({},Zn,{view:0,detail:0}),aa=Jn(na),ta=m({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pa,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&"mousemove"===e.type?(Kn=e.screenX-Xn.screenX,Yn=e.screenY-Xn.screenY):Yn=Kn=0,Xn=e),Kn)},movementY:function(e){return"movementY"in e?e.movementY:Yn}}),ra=Jn(ta),la=Jn(m({},ta,{dataTransfer:0})),ia=Jn(m({},na,{relatedTarget:0})),sa=Jn(m({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0})),oa=Jn(m({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ca=Jn(m({},Zn,{data:0})),ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},da={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ma={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fa(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=ma[e])&&!!n[e]}function pa(){return fa}var ha=Jn(m({},na,{key:function(e){if(e.key){var n=ua[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=Gn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?da[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pa,charCode:function(e){return"keypress"===e.type?Gn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),va=Jn(m({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ga=Jn(m({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pa})),ba=Jn(m({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0})),ya=Jn(m({},ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xa=Jn(m({},Zn,{newState:0,oldState:0})),ja=[9,13,27,32],Na=In&&"CompositionEvent"in window,_a=null;In&&"documentMode"in document&&(_a=document.documentMode);var Sa=In&&"TextEvent"in window&&!_a,wa=In&&(!Na||_a&&8<_a&&11>=_a),ka=String.fromCharCode(32),Ea=!1;function Ca(e,n){switch(e){case"keyup":return-1!==ja.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pa(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var La=!1;var za={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!za[e.type]:"textarea"===n}function Ta(e,n,a,t){Tn?An?An.push(t):An=[t]:Tn=t,0<(n=Vu(n,"onChange")).length&&(a=new ea("onChange","change",null,a,t),e.push({event:a,listeners:n}))}var Aa=null,Ra=null;function Ua(e){Uu(e,0)}function Da(e){if(fn(Be(e)))return e}function Ma(e,n){if("change"===e)return n}var Ia=!1;if(In){var Fa;if(In){var qa="oninput"in document;if(!qa){var Ha=document.createElement("div");Ha.setAttribute("oninput","return;"),qa="function"===typeof Ha.oninput}Fa=qa}else Fa=!1;Ia=Fa&&(!document.documentMode||9<document.documentMode)}function Ba(){Aa&&(Aa.detachEvent("onpropertychange",Va),Ra=Aa=null)}function Va(e){if("value"===e.propertyName&&Da(Ra)){var n=[];Ta(n,Ra,e,On(e)),Dn(Ua,n)}}function Wa(e,n,a){"focusin"===e?(Ba(),Ra=a,(Aa=n).attachEvent("onpropertychange",Va)):"focusout"===e&&Ba()}function Ga(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Da(Ra)}function $a(e,n){if("click"===e)return Da(n)}function Qa(e,n){if("input"===e||"change"===e)return Da(n)}var Ja="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n};function Ka(e,n){if(Ja(e,n))return!0;if("object"!==typeof e||null===e||"object"!==typeof n||null===n)return!1;var a=Object.keys(e),t=Object.keys(n);if(a.length!==t.length)return!1;for(t=0;t<a.length;t++){var r=a[t];if(!K.call(n,r)||!Ja(e[r],n[r]))return!1}return!0}function Ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xa(e,n){var a,t=Ya(e);for(e=0;t;){if(3===t.nodeType){if(a=e+t.textContent.length,e<=n&&a>=n)return{node:t,offset:n-e};e=a}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Ya(t)}}function Za(e,n){return!(!e||!n)&&(e===n||(!e||3!==e.nodeType)&&(n&&3===n.nodeType?Za(e,n.parentNode):"contains"in e?e.contains(n):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(n))))}function et(e){for(var n=pn((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);n instanceof e.HTMLIFrameElement;){try{var a="string"===typeof n.contentWindow.location.href}catch(t){a=!1}if(!a)break;n=pn((e=n.contentWindow).document)}return n}function nt(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var at=In&&"documentMode"in document&&11>=document.documentMode,tt=null,rt=null,lt=null,it=!1;function st(e,n,a){var t=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;it||null==tt||tt!==pn(t)||("selectionStart"in(t=tt)&&nt(t)?t={start:t.selectionStart,end:t.selectionEnd}:t={anchorNode:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset},lt&&Ka(lt,t)||(lt=t,0<(t=Vu(rt,"onSelect")).length&&(n=new ea("onSelect","select",null,n,a),e.push({event:n,listeners:t}),n.target=tt)))}function ot(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ct={animationend:ot("Animation","AnimationEnd"),animationiteration:ot("Animation","AnimationIteration"),animationstart:ot("Animation","AnimationStart"),transitionrun:ot("Transition","TransitionRun"),transitionstart:ot("Transition","TransitionStart"),transitioncancel:ot("Transition","TransitionCancel"),transitionend:ot("Transition","TransitionEnd")},ut={},dt={};function mt(e){if(ut[e])return ut[e];if(!ct[e])return e;var n,a=ct[e];for(n in a)if(a.hasOwnProperty(n)&&n in dt)return ut[e]=a[n];return e}In&&(dt=document.createElement("div").style,"AnimationEvent"in window||(delete ct.animationend.animation,delete ct.animationiteration.animation,delete ct.animationstart.animation),"TransitionEvent"in window||delete ct.transitionend.transition);var ft=mt("animationend"),pt=mt("animationiteration"),ht=mt("animationstart"),vt=mt("transitionrun"),gt=mt("transitionstart"),bt=mt("transitioncancel"),yt=mt("transitionend"),xt=new Map,jt="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nt(e,n){xt.set(e,n),Qe(n,[e])}jt.push("scrollEnd");var _t=new WeakMap;function St(e,n){if("object"===typeof e&&null!==e){var a=_t.get(e);return void 0!==a?a:(n={value:e,source:n,stack:cn(n)},_t.set(e,n),n)}return{value:e,source:n,stack:cn(n)}}var wt=[],kt=0,Et=0;function Ct(){for(var e=kt,n=Et=kt=0;n<e;){var a=wt[n];wt[n++]=null;var t=wt[n];wt[n++]=null;var r=wt[n];wt[n++]=null;var l=wt[n];if(wt[n++]=null,null!==t&&null!==r){var i=t.pending;null===i?r.next=r:(r.next=i.next,i.next=r),t.pending=r}0!==l&&Ot(a,r,l)}}function Pt(e,n,a,t){wt[kt++]=e,wt[kt++]=n,wt[kt++]=a,wt[kt++]=t,Et|=t,e.lanes|=t,null!==(e=e.alternate)&&(e.lanes|=t)}function Lt(e,n,a,t){return Pt(e,n,a,t),Tt(e)}function zt(e,n){return Pt(e,null,null,n),Tt(e)}function Ot(e,n,a){e.lanes|=a;var t=e.alternate;null!==t&&(t.lanes|=a);for(var r=!1,l=e.return;null!==l;)l.childLanes|=a,null!==(t=l.alternate)&&(t.childLanes|=a),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(r=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,r&&null!==n&&(r=31-fe(a),null===(t=(e=l.hiddenUpdates)[r])?e[r]=[n]:t.push(n),n.lane=536870912|a),l):null}function Tt(e){if(50<Oc)throw Oc=0,Tc=null,Error(i(185));for(var n=e.return;null!==n;)n=(e=n).return;return 3===e.tag?e.stateNode:null}var At={};function Rt(e,n,a,t){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,n,a,t){return new Rt(e,n,a,t)}function Dt(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mt(e,n){var a=e.alternate;return null===a?((a=Ut(e.tag,n,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=65011712&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function It(e,n){e.flags&=65011714;var a=e.alternate;return null===a?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ft(e,n,a,t,r,l){var s=0;if(t=e,"function"===typeof e)Dt(e)&&(s=1);else if("string"===typeof e)s=function(e,n,a){if(1===a||null!=n.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof n.precedence||"string"!==typeof n.href||""===n.href)break;return!0;case"link":if("string"!==typeof n.rel||"string"!==typeof n.href||""===n.href||n.onLoad||n.onError)break;return"stylesheet"!==n.rel||(e=n.disabled,"string"===typeof n.precedence&&null==e);case"script":if(n.async&&"function"!==typeof n.async&&"symbol"!==typeof n.async&&!n.onLoad&&!n.onError&&n.src&&"string"===typeof n.src)return!0}return!1}(e,a,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Ut(31,a,n,r)).elementType=E,e.lanes=l,e;case v:return qt(a.children,r,l,n);case g:s=8,r|=24;break;case b:return(e=Ut(12,a,n,2|r)).elementType=b,e.lanes=l,e;case _:return(e=Ut(13,a,n,r)).elementType=_,e.lanes=l,e;case S:return(e=Ut(19,a,n,r)).elementType=S,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case j:s=10;break e;case x:s=9;break e;case N:s=11;break e;case w:s=14;break e;case k:s=16,t=null;break e}s=29,a=Error(i(130,null===e?"null":typeof e,"")),t=null}return(n=Ut(s,a,n,r)).elementType=e,n.type=t,n.lanes=l,n}function qt(e,n,a,t){return(e=Ut(7,e,t,n)).lanes=a,e}function Ht(e,n,a){return(e=Ut(6,e,null,n)).lanes=a,e}function Bt(e,n,a){return(n=Ut(4,null!==e.children?e.children:[],e.key,n)).lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Vt=[],Wt=0,Gt=null,$t=0,Qt=[],Jt=0,Kt=null,Yt=1,Xt="";function Zt(e,n){Vt[Wt++]=$t,Vt[Wt++]=Gt,Gt=e,$t=n}function er(e,n,a){Qt[Jt++]=Yt,Qt[Jt++]=Xt,Qt[Jt++]=Kt,Kt=e;var t=Yt;e=Xt;var r=32-fe(t)-1;t&=~(1<<r),a+=1;var l=32-fe(n)+r;if(30<l){var i=r-r%5;l=(t&(1<<i)-1).toString(32),t>>=i,r-=i,Yt=1<<32-fe(n)+r|a<<r|t,Xt=l+e}else Yt=1<<l|a<<r|t,Xt=e}function nr(e){null!==e.return&&(Zt(e,1),er(e,1,0))}function ar(e){for(;e===Gt;)Gt=Vt[--Wt],Vt[Wt]=null,$t=Vt[--Wt],Vt[Wt]=null;for(;e===Kt;)Kt=Qt[--Jt],Qt[Jt]=null,Xt=Qt[--Jt],Qt[Jt]=null,Yt=Qt[--Jt],Qt[Jt]=null}var tr=null,rr=null,lr=!1,ir=null,sr=!1,or=Error(i(519));function cr(e){throw hr(St(Error(i(418,"")),e)),or}function ur(e){var n=e.stateNode,a=e.type,t=e.memoizedProps;switch(n[Oe]=e,n[Te]=t,a){case"dialog":Du("cancel",n),Du("close",n);break;case"iframe":case"object":case"embed":Du("load",n);break;case"video":case"audio":for(a=0;a<Au.length;a++)Du(Au[a],n);break;case"source":Du("error",n);break;case"img":case"image":case"link":Du("error",n),Du("load",n);break;case"details":Du("toggle",n);break;case"input":Du("invalid",n),bn(n,t.value,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name,!0),mn(n);break;case"select":Du("invalid",n);break;case"textarea":Du("invalid",n),Nn(n,t.value,t.defaultValue,t.children),mn(n)}"string"!==typeof(a=t.children)&&"number"!==typeof a&&"bigint"!==typeof a||n.textContent===""+a||!0===t.suppressHydrationWarning||Ku(n.textContent,a)?(null!=t.popover&&(Du("beforetoggle",n),Du("toggle",n)),null!=t.onScroll&&Du("scroll",n),null!=t.onScrollEnd&&Du("scrollend",n),null!=t.onClick&&(n.onclick=Yu),n=!0):n=!1,n||cr(e)}function dr(e){for(tr=e.return;tr;)switch(tr.tag){case 5:case 13:return void(sr=!1);case 27:case 3:return void(sr=!0);default:tr=tr.return}}function mr(e){if(e!==tr)return!1;if(!lr)return dr(e),lr=!0,!1;var n,a=e.tag;if((n=3!==a&&27!==a)&&((n=5===a)&&(n=!("form"!==(n=e.type)&&"button"!==n)||id(e.type,e.memoizedProps)),n=!n),n&&rr&&cr(e),dr(e),13===a){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,a=0;e;){if(8===e.nodeType)if("/$"===(n=e.data)){if(0===a){rr=gd(e.nextSibling);break e}a--}else"$"!==n&&"$!"!==n&&"$?"!==n||a++;e=e.nextSibling}rr=null}}else 27===a?(a=rr,fd(e.type)?(e=bd,bd=null,rr=e):rr=a):rr=tr?gd(e.stateNode.nextSibling):null;return!0}function fr(){rr=tr=null,lr=!1}function pr(){var e=ir;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),ir=null),e}function hr(e){null===ir?ir=[e]:ir.push(e)}var vr=I(null),gr=null,br=null;function yr(e,n,a){q(vr,n._currentValue),n._currentValue=a}function xr(e){e._currentValue=vr.current,F(vr)}function jr(e,n,a){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==t&&(t.childLanes|=n)):null!==t&&(t.childLanes&n)!==n&&(t.childLanes|=n),e===a)break;e=e.return}}function Nr(e,n,a,t){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var l=r.dependencies;if(null!==l){var s=r.child;l=l.firstContext;e:for(;null!==l;){var o=l;l=r;for(var c=0;c<n.length;c++)if(o.context===n[c]){l.lanes|=a,null!==(o=l.alternate)&&(o.lanes|=a),jr(l.return,a,e),t||(s=null);break e}l=o.next}}else if(18===r.tag){if(null===(s=r.return))throw Error(i(341));s.lanes|=a,null!==(l=s.alternate)&&(l.lanes|=a),jr(s,a,e),s=null}else s=r.child;if(null!==s)s.return=r;else for(s=r;null!==s;){if(s===e){s=null;break}if(null!==(r=s.sibling)){r.return=s.return,s=r;break}s=s.return}r=s}}function _r(e,n,a,t){e=null;for(var r=n,l=!1;null!==r;){if(!l)if(0!==(524288&r.flags))l=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var s=r.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var o=r.type;Ja(r.pendingProps.value,s.value)||(null!==e?e.push(o):e=[o])}}else if(r===W.current){if(null===(s=r.alternate))throw Error(i(387));s.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Qd):e=[Qd])}r=r.return}null!==e&&Nr(n,e,a,t),n.flags|=262144}function Sr(e){for(e=e.firstContext;null!==e;){if(!Ja(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wr(e){gr=e,br=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function kr(e){return Cr(gr,e)}function Er(e,n){return null===gr&&wr(e),Cr(e,n)}function Cr(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},null===br){if(null===e)throw Error(i(308));br=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else br=br.next=n;return a}var Pr="undefined"!==typeof AbortController?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(e){return e()})}},Lr=t.unstable_scheduleCallback,zr=t.unstable_NormalPriority,Or={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tr(){return{controller:new Pr,data:new Map,refCount:0}}function Ar(e){e.refCount--,0===e.refCount&&Lr(zr,function(){e.controller.abort()})}var Rr=null,Ur=0,Dr=0,Mr=null;function Ir(){if(0===--Ur&&null!==Rr){null!==Mr&&(Mr.status="fulfilled");var e=Rr;Rr=null,Dr=0,Mr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}var Fr=A.S;A.S=function(e,n){"object"===typeof n&&null!==n&&"function"===typeof n.then&&function(e,n){if(null===Rr){var a=Rr=[];Ur=0,Dr=Pu(),Mr={status:"pending",value:void 0,then:function(e){a.push(e)}}}Ur++,n.then(Ir,Ir)}(0,n),null!==Fr&&Fr(e,n)};var qr=I(null);function Hr(){var e=qr.current;return null!==e?e:tc.pooledCache}function Br(e,n){q(qr,null===n?qr.current:n.pool)}function Vr(){var e=Hr();return null===e?null:{parent:Or._currentValue,pool:e}}var Wr=Error(i(460)),Gr=Error(i(474)),$r=Error(i(542)),Qr={then:function(){}};function Jr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Kr(){}function Yr(e,n,a){switch(void 0===(a=e[a])?e.push(n):a!==n&&(n.then(Kr,Kr),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw el(e=n.reason),e;default:if("string"===typeof n.status)n.then(Kr,Kr);else{if(null!==(e=tc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=n).status="pending",e.then(function(e){if("pending"===n.status){var a=n;a.status="fulfilled",a.value=e}},function(e){if("pending"===n.status){var a=n;a.status="rejected",a.reason=e}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw el(e=n.reason),e}throw Xr=n,Wr}}var Xr=null;function Zr(){if(null===Xr)throw Error(i(459));var e=Xr;return Xr=null,e}function el(e){if(e===Wr||e===$r)throw Error(i(483))}var nl=!1;function al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tl(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ll(e,n,a){var t=e.updateQueue;if(null===t)return null;if(t=t.shared,0!==(2&ac)){var r=t.pending;return null===r?n.next=n:(n.next=r.next,r.next=n),t.pending=n,n=Tt(e),Ot(e,null,a),n}return Pt(e,t,n,a),Tt(e)}function il(e,n,a){if(null!==(n=n.updateQueue)&&(n=n.shared,0!==(4194048&a))){var t=n.lanes;a|=t&=e.pendingLanes,n.lanes=a,Ee(e,a)}}function sl(e,n){var a=e.updateQueue,t=e.alternate;if(null!==t&&a===(t=t.updateQueue)){var r=null,l=null;if(null!==(a=a.firstBaseUpdate)){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};null===l?r=l=i:l=l.next=i,a=a.next}while(null!==a);null===l?r=l=n:l=l.next=n}else r=l=n;return a={baseState:t.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:t.shared,callbacks:t.callbacks},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ol=!1;function cl(){if(ol){if(null!==Mr)throw Mr}}function ul(e,n,a,t){ol=!1;var r=e.updateQueue;nl=!1;var l=r.firstBaseUpdate,i=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var o=s,c=o.next;o.next=null,null===i?l=c:i.next=c,i=o;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=o))}if(null!==l){var d=r.baseState;for(i=0,u=c=o=null,s=l;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(lc&f)===f:(t&f)===f){0!==f&&f===Dr&&(ol=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var h=e,v=s;f=n;var g=a;switch(v.tag){case 1:if("function"===typeof(h=v.payload)){d=h.call(g,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=v.payload)?h.call(g,d,f):h)||void 0===f)break e;d=m({},d,f);break e;case 2:nl=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=r.callbacks)?r.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,o=d):u=u.next=p,i|=f;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(p=s).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}null===u&&(o=d),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===l&&(r.shared.lanes=0),fc|=i,e.lanes=i,e.memoizedState=d}}function dl(e,n){if("function"!==typeof e)throw Error(i(191,e));e.call(n)}function ml(e,n){var a=e.callbacks;if(null!==a)for(e.callbacks=null,e=0;e<a.length;e++)dl(a[e],n)}var fl=I(null),pl=I(0);function hl(e,n){q(pl,e=dc),q(fl,n),dc=e|n.baseLanes}function vl(){q(pl,dc),q(fl,fl.current)}function gl(){dc=pl.current,F(fl),F(pl)}var bl=0,yl=null,xl=null,jl=null,Nl=!1,_l=!1,Sl=!1,wl=0,kl=0,El=null,Cl=0;function Pl(){throw Error(i(321))}function Ll(e,n){if(null===n)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Ja(e[a],n[a]))return!1;return!0}function zl(e,n,a,t,r,l){return bl=l,yl=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=null===e||null===e.memoizedState?Wi:Gi,Sl=!1,l=a(t,r),Sl=!1,_l&&(l=Tl(n,a,t,r)),Ol(e),l}function Ol(e){A.H=Vi;var n=null!==xl&&null!==xl.next;if(bl=0,jl=xl=yl=null,Nl=!1,kl=0,El=null,n)throw Error(i(300));null===e||ks||null!==(e=e.dependencies)&&Sr(e)&&(ks=!0)}function Tl(e,n,a,t){yl=e;var r=0;do{if(_l&&(El=null),kl=0,_l=!1,25<=r)throw Error(i(301));if(r+=1,jl=xl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}A.H=$i,l=n(a,t)}while(_l);return l}function Al(){var e=A.H,n=e.useState()[0];return n="function"===typeof n.then?Fl(n):n,e=e.useState()[0],(null!==xl?xl.memoizedState:null)!==e&&(yl.flags|=1024),n}function Rl(){var e=0!==wl;return wl=0,e}function Ul(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Dl(e){if(Nl){for(e=e.memoizedState;null!==e;){var n=e.queue;null!==n&&(n.pending=null),e=e.next}Nl=!1}bl=0,jl=xl=yl=null,_l=!1,kl=wl=0,El=null}function Ml(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===jl?yl.memoizedState=jl=e:jl=jl.next=e,jl}function Il(){if(null===xl){var e=yl.alternate;e=null!==e?e.memoizedState:null}else e=xl.next;var n=null===jl?yl.memoizedState:jl.next;if(null!==n)jl=n,xl=e;else{if(null===e){if(null===yl.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(xl=e).memoizedState,baseState:xl.baseState,baseQueue:xl.baseQueue,queue:xl.queue,next:null},null===jl?yl.memoizedState=jl=e:jl=jl.next=e}return jl}function Fl(e){var n=kl;return kl+=1,null===El&&(El=[]),e=Yr(El,e,n),n=yl,null===(null===jl?n.memoizedState:jl.next)&&(n=n.alternate,A.H=null===n||null===n.memoizedState?Wi:Gi),e}function ql(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Fl(e);if(e.$$typeof===j)return kr(e)}throw Error(i(438,String(e)))}function Hl(e){var n=null,a=yl.updateQueue;if(null!==a&&(n=a.memoCache),null==n){var t=yl.alternate;null!==t&&(null!==(t=t.updateQueue)&&(null!=(t=t.memoCache)&&(n={data:t.data.map(function(e){return e.slice()}),index:0})))}if(null==n&&(n={data:[],index:0}),null===a&&(a={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=a),a.memoCache=n,void 0===(a=n.data[n.index]))for(a=n.data[n.index]=Array(e),t=0;t<e;t++)a[t]=C;return n.index++,a}function Bl(e,n){return"function"===typeof n?n(e):n}function Vl(e){return Wl(Il(),xl,e)}function Wl(e,n,a){var t=e.queue;if(null===t)throw Error(i(311));t.lastRenderedReducer=a;var r=e.baseQueue,l=t.pending;if(null!==l){if(null!==r){var s=r.next;r.next=l.next,l.next=s}n.baseQueue=r=l,t.pending=null}if(l=e.baseState,null===r)e.memoizedState=l;else{var o=s=null,c=null,u=n=r.next,d=!1;do{var m=-536870913&u.lane;if(m!==u.lane?(lc&m)===m:(bl&m)===m){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Dr&&(d=!0);else{if((bl&f)===f){u=u.next,f===Dr&&(d=!0);continue}m={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=m,s=l):c=c.next=m,yl.lanes|=f,fc|=f}m=u.action,Sl&&a(l,m),l=u.hasEagerState?u.eagerState:a(l,m)}else f={lane:m,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(o=c=f,s=l):c=c.next=f,yl.lanes|=m,fc|=m;u=u.next}while(null!==u&&u!==n);if(null===c?s=l:c.next=o,!Ja(l,e.memoizedState)&&(ks=!0,d&&null!==(a=Mr)))throw a;e.memoizedState=l,e.baseState=s,e.baseQueue=c,t.lastRenderedState=l}return null===r&&(t.lanes=0),[e.memoizedState,t.dispatch]}function Gl(e){var n=Il(),a=n.queue;if(null===a)throw Error(i(311));a.lastRenderedReducer=e;var t=a.dispatch,r=a.pending,l=n.memoizedState;if(null!==r){a.pending=null;var s=r=r.next;do{l=e(l,s.action),s=s.next}while(s!==r);Ja(l,n.memoizedState)||(ks=!0),n.memoizedState=l,null===n.baseQueue&&(n.baseState=l),a.lastRenderedState=l}return[l,t]}function $l(e,n,a){var t=yl,r=Il(),l=lr;if(l){if(void 0===a)throw Error(i(407));a=a()}else a=n();var s=!Ja((xl||r).memoizedState,a);if(s&&(r.memoizedState=a,ks=!0),r=r.queue,vi(2048,8,Kl.bind(null,t,r,e),[e]),r.getSnapshot!==n||s||null!==jl&&1&jl.memoizedState.tag){if(t.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Jl.bind(null,t,r,a,n),null),null===tc)throw Error(i(349));l||0!==(124&bl)||Ql(t,n,a)}return a}function Ql(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},null===(n=yl.updateQueue)?(n={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=n,n.stores=[e]):null===(a=n.stores)?n.stores=[e]:a.push(e)}function Jl(e,n,a,t){n.value=a,n.getSnapshot=t,Yl(n)&&Xl(e)}function Kl(e,n,a){return a(function(){Yl(n)&&Xl(e)})}function Yl(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Ja(e,a)}catch(t){return!0}}function Xl(e){var n=zt(e,2);null!==n&&Uc(n,e,2)}function Zl(e){var n=Ml();if("function"===typeof e){var a=e;if(e=a(),Sl){me(!0);try{a()}finally{me(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:e},n}function ei(e,n,a,t){return e.baseState=a,Wl(e,xl,"function"===typeof t?t:Bl)}function ni(e,n,a,t,r){if(qi(e))throw Error(i(485));if(null!==(e=n.action)){var l={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==A.T?a(!0):l.isTransition=!1,t(l),null===(a=n.pending)?(l.next=n.pending=l,ai(n,l)):(l.next=a.next,n.pending=a.next=l)}}function ai(e,n){var a=n.action,t=n.payload,r=e.state;if(n.isTransition){var l=A.T,i={};A.T=i;try{var s=a(r,t),o=A.S;null!==o&&o(i,s),ti(e,n,s)}catch(c){li(e,n,c)}finally{A.T=l}}else try{ti(e,n,l=a(r,t))}catch(u){li(e,n,u)}}function ti(e,n,a){null!==a&&"object"===typeof a&&"function"===typeof a.then?a.then(function(a){ri(e,n,a)},function(a){return li(e,n,a)}):ri(e,n,a)}function ri(e,n,a){n.status="fulfilled",n.value=a,ii(n),e.state=a,null!==(n=e.pending)&&((a=n.next)===n?e.pending=null:(a=a.next,n.next=a,ai(e,a)))}function li(e,n,a){var t=e.pending;if(e.pending=null,null!==t){t=t.next;do{n.status="rejected",n.reason=a,ii(n),n=n.next}while(n!==t)}e.action=null}function ii(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function si(e,n){return n}function oi(e,n){if(lr){var a=tc.formState;if(null!==a){e:{var t=yl;if(lr){if(rr){n:{for(var r=rr,l=sr;8!==r.nodeType;){if(!l){r=null;break n}if(null===(r=gd(r.nextSibling))){r=null;break n}}r="F!"===(l=r.data)||"F"===l?r:null}if(r){rr=gd(r.nextSibling),t="F!"===r.data;break e}}cr(t)}t=!1}t&&(n=a[0])}}return(a=Ml()).memoizedState=a.baseState=n,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:n},a.queue=t,a=Mi.bind(null,yl,t),t.dispatch=a,t=Zl(!1),l=Fi.bind(null,yl,!1,t.queue),r={state:n,dispatch:null,action:e,pending:null},(t=Ml()).queue=r,a=ni.bind(null,yl,r,l,a),r.dispatch=a,t.memoizedState=e,[n,a,!1]}function ci(e){return ui(Il(),xl,e)}function ui(e,n,a){if(n=Wl(e,n,si)[0],e=Vl(Bl)[0],"object"===typeof n&&null!==n&&"function"===typeof n.then)try{var t=Fl(n)}catch(i){if(i===Wr)throw $r;throw i}else t=n;var r=(n=Il()).queue,l=r.dispatch;return a!==n.memoizedState&&(yl.flags|=2048,fi(9,{destroy:void 0,resource:void 0},di.bind(null,r,a),null)),[t,l,e]}function di(e,n){e.action=n}function mi(e){var n=Il(),a=xl;if(null!==a)return ui(n,a,e);Il(),n=n.memoizedState;var t=(a=Il()).queue.dispatch;return a.memoizedState=e,[n,t,!1]}function fi(e,n,a,t){return e={tag:e,create:a,deps:t,inst:n,next:null},null===(n=yl.updateQueue)&&(n={lastEffect:null,events:null,stores:null,memoCache:null},yl.updateQueue=n),null===(a=n.lastEffect)?n.lastEffect=e.next=e:(t=a.next,a.next=e,e.next=t,n.lastEffect=e),e}function pi(){return Il().memoizedState}function hi(e,n,a,t){var r=Ml();t=void 0===t?null:t,yl.flags|=e,r.memoizedState=fi(1|n,{destroy:void 0,resource:void 0},a,t)}function vi(e,n,a,t){var r=Il();t=void 0===t?null:t;var l=r.memoizedState.inst;null!==xl&&null!==t&&Ll(t,xl.memoizedState.deps)?r.memoizedState=fi(n,l,a,t):(yl.flags|=e,r.memoizedState=fi(1|n,l,a,t))}function gi(e,n){hi(8390656,8,e,n)}function bi(e,n){vi(2048,8,e,n)}function yi(e,n){return vi(4,2,e,n)}function xi(e,n){return vi(4,4,e,n)}function ji(e,n){if("function"===typeof n){e=e();var a=n(e);return function(){"function"===typeof a?a():n(null)}}if(null!==n&&void 0!==n)return e=e(),n.current=e,function(){n.current=null}}function Ni(e,n,a){a=null!==a&&void 0!==a?a.concat([e]):null,vi(4,4,ji.bind(null,n,e),a)}function _i(){}function Si(e,n){var a=Il();n=void 0===n?null:n;var t=a.memoizedState;return null!==n&&Ll(n,t[1])?t[0]:(a.memoizedState=[e,n],e)}function wi(e,n){var a=Il();n=void 0===n?null:n;var t=a.memoizedState;if(null!==n&&Ll(n,t[1]))return t[0];if(t=e(),Sl){me(!0);try{e()}finally{me(!1)}}return a.memoizedState=[t,n],t}function ki(e,n,a){return void 0===a||0!==(1073741824&bl)?e.memoizedState=n:(e.memoizedState=a,e=Rc(),yl.lanes|=e,fc|=e,a)}function Ei(e,n,a,t){return Ja(a,n)?a:null!==fl.current?(e=ki(e,a,t),Ja(e,n)||(ks=!0),e):0===(42&bl)?(ks=!0,e.memoizedState=a):(e=Rc(),yl.lanes|=e,fc|=e,n)}function Ci(e,n,a,t,r){var l=R.p;R.p=0!==l&&8>l?l:8;var i=A.T,s={};A.T=s,Fi(e,!1,n,a);try{var o=r(),c=A.S;if(null!==c&&c(s,o),null!==o&&"object"===typeof o&&"function"===typeof o.then)Ii(e,n,function(e,n){var a=[],t={status:"pending",value:null,reason:null,then:function(e){a.push(e)}};return e.then(function(){t.status="fulfilled",t.value=n;for(var e=0;e<a.length;e++)(0,a[e])(n)},function(e){for(t.status="rejected",t.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),t}(o,t),Ac());else Ii(e,n,t,Ac())}catch(u){Ii(e,n,{then:function(){},status:"rejected",reason:u},Ac())}finally{R.p=l,A.T=i}}function Pi(){}function Li(e,n,a,t){if(5!==e.tag)throw Error(i(476));var r=zi(e).queue;Ci(e,r,n,U,null===a?Pi:function(){return Oi(e),a(t)})}function zi(e){var n=e.memoizedState;if(null!==n)return n;var a={};return(n={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:U},next:null}).next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bl,lastRenderedState:a},next:null},e.memoizedState=n,null!==(e=e.alternate)&&(e.memoizedState=n),n}function Oi(e){Ii(e,zi(e).next.queue,{},Ac())}function Ti(){return kr(Qd)}function Ai(){return Il().memoizedState}function Ri(){return Il().memoizedState}function Ui(e){for(var n=e.return;null!==n;){switch(n.tag){case 24:case 3:var a=Ac(),t=ll(n,e=rl(a),a);return null!==t&&(Uc(t,n,a),il(t,n,a)),n={cache:Tr()},void(e.payload=n)}n=n.return}}function Di(e,n,a){var t=Ac();a={lane:t,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},qi(e)?Hi(n,a):null!==(a=Lt(e,n,a,t))&&(Uc(a,e,t),Bi(a,n,t))}function Mi(e,n,a){Ii(e,n,a,Ac())}function Ii(e,n,a,t){var r={lane:t,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(qi(e))Hi(n,r);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=n.lastRenderedReducer))try{var i=n.lastRenderedState,s=l(i,a);if(r.hasEagerState=!0,r.eagerState=s,Ja(s,i))return Pt(e,n,r,0),null===tc&&Ct(),!1}catch(o){}if(null!==(a=Lt(e,n,r,t)))return Uc(a,e,t),Bi(a,n,t),!0}return!1}function Fi(e,n,a,t){if(t={lane:2,revertLane:Pu(),action:t,hasEagerState:!1,eagerState:null,next:null},qi(e)){if(n)throw Error(i(479))}else null!==(n=Lt(e,a,t,2))&&Uc(n,e,2)}function qi(e){var n=e.alternate;return e===yl||null!==n&&n===yl}function Hi(e,n){_l=Nl=!0;var a=e.pending;null===a?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Bi(e,n,a){if(0!==(4194048&a)){var t=n.lanes;a|=t&=e.pendingLanes,n.lanes=a,Ee(e,a)}}var Vi={readContext:kr,use:ql,useCallback:Pl,useContext:Pl,useEffect:Pl,useImperativeHandle:Pl,useLayoutEffect:Pl,useInsertionEffect:Pl,useMemo:Pl,useReducer:Pl,useRef:Pl,useState:Pl,useDebugValue:Pl,useDeferredValue:Pl,useTransition:Pl,useSyncExternalStore:Pl,useId:Pl,useHostTransitionStatus:Pl,useFormState:Pl,useActionState:Pl,useOptimistic:Pl,useMemoCache:Pl,useCacheRefresh:Pl},Wi={readContext:kr,use:ql,useCallback:function(e,n){return Ml().memoizedState=[e,void 0===n?null:n],e},useContext:kr,useEffect:gi,useImperativeHandle:function(e,n,a){a=null!==a&&void 0!==a?a.concat([e]):null,hi(4194308,4,ji.bind(null,n,e),a)},useLayoutEffect:function(e,n){return hi(4194308,4,e,n)},useInsertionEffect:function(e,n){hi(4,2,e,n)},useMemo:function(e,n){var a=Ml();n=void 0===n?null:n;var t=e();if(Sl){me(!0);try{e()}finally{me(!1)}}return a.memoizedState=[t,n],t},useReducer:function(e,n,a){var t=Ml();if(void 0!==a){var r=a(n);if(Sl){me(!0);try{a(n)}finally{me(!1)}}}else r=n;return t.memoizedState=t.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},t.queue=e,e=e.dispatch=Di.bind(null,yl,e),[t.memoizedState,e]},useRef:function(e){return e={current:e},Ml().memoizedState=e},useState:function(e){var n=(e=Zl(e)).queue,a=Mi.bind(null,yl,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:_i,useDeferredValue:function(e,n){return ki(Ml(),e,n)},useTransition:function(){var e=Zl(!1);return e=Ci.bind(null,yl,e.queue,!0,!1),Ml().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var t=yl,r=Ml();if(lr){if(void 0===a)throw Error(i(407));a=a()}else{if(a=n(),null===tc)throw Error(i(349));0!==(124&lc)||Ql(t,n,a)}r.memoizedState=a;var l={value:a,getSnapshot:n};return r.queue=l,gi(Kl.bind(null,t,l,e),[e]),t.flags|=2048,fi(9,{destroy:void 0,resource:void 0},Jl.bind(null,t,l,a,n),null),a},useId:function(){var e=Ml(),n=tc.identifierPrefix;if(lr){var a=Xt;n="\xab"+n+"R"+(a=(Yt&~(1<<32-fe(Yt)-1)).toString(32)+a),0<(a=wl++)&&(n+="H"+a.toString(32)),n+="\xbb"}else n="\xab"+n+"r"+(a=Cl++).toString(32)+"\xbb";return e.memoizedState=n},useHostTransitionStatus:Ti,useFormState:oi,useActionState:oi,useOptimistic:function(e){var n=Ml();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fi.bind(null,yl,!0,a),a.dispatch=n,[e,n]},useMemoCache:Hl,useCacheRefresh:function(){return Ml().memoizedState=Ui.bind(null,yl)}},Gi={readContext:kr,use:ql,useCallback:Si,useContext:kr,useEffect:bi,useImperativeHandle:Ni,useInsertionEffect:yi,useLayoutEffect:xi,useMemo:wi,useReducer:Vl,useRef:pi,useState:function(){return Vl(Bl)},useDebugValue:_i,useDeferredValue:function(e,n){return Ei(Il(),xl.memoizedState,e,n)},useTransition:function(){var e=Vl(Bl)[0],n=Il().memoizedState;return["boolean"===typeof e?e:Fl(e),n]},useSyncExternalStore:$l,useId:Ai,useHostTransitionStatus:Ti,useFormState:ci,useActionState:ci,useOptimistic:function(e,n){return ei(Il(),0,e,n)},useMemoCache:Hl,useCacheRefresh:Ri},$i={readContext:kr,use:ql,useCallback:Si,useContext:kr,useEffect:bi,useImperativeHandle:Ni,useInsertionEffect:yi,useLayoutEffect:xi,useMemo:wi,useReducer:Gl,useRef:pi,useState:function(){return Gl(Bl)},useDebugValue:_i,useDeferredValue:function(e,n){var a=Il();return null===xl?ki(a,e,n):Ei(a,xl.memoizedState,e,n)},useTransition:function(){var e=Gl(Bl)[0],n=Il().memoizedState;return["boolean"===typeof e?e:Fl(e),n]},useSyncExternalStore:$l,useId:Ai,useHostTransitionStatus:Ti,useFormState:mi,useActionState:mi,useOptimistic:function(e,n){var a=Il();return null!==xl?ei(a,0,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Hl,useCacheRefresh:Ri},Qi=null,Ji=0;function Ki(e){var n=Ji;return Ji+=1,null===Qi&&(Qi=[]),Yr(Qi,e,n)}function Yi(e,n){n=n.props.ref,e.ref=void 0!==n?n:null}function Xi(e,n){if(n.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(n),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Zi(e){return(0,e._init)(e._payload)}function es(e){function n(n,a){if(e){var t=n.deletions;null===t?(n.deletions=[a],n.flags|=16):t.push(a)}}function a(a,t){if(!e)return null;for(;null!==t;)n(a,t),t=t.sibling;return null}function t(e){for(var n=new Map;null!==e;)null!==e.key?n.set(e.key,e):n.set(e.index,e),e=e.sibling;return n}function r(e,n){return(e=Mt(e,n)).index=0,e.sibling=null,e}function l(n,a,t){return n.index=t,e?null!==(t=n.alternate)?(t=t.index)<a?(n.flags|=67108866,a):t:(n.flags|=67108866,a):(n.flags|=1048576,a)}function s(n){return e&&null===n.alternate&&(n.flags|=67108866),n}function o(e,n,a,t){return null===n||6!==n.tag?((n=Ht(a,e.mode,t)).return=e,n):((n=r(n,a)).return=e,n)}function c(e,n,a,t){var l=a.type;return l===v?d(e,n,a.props.children,t,a.key):null!==n&&(n.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===k&&Zi(l)===n.type)?(Yi(n=r(n,a.props),a),n.return=e,n):(Yi(n=Ft(a.type,a.key,a.props,null,e.mode,t),a),n.return=e,n)}function u(e,n,a,t){return null===n||4!==n.tag||n.stateNode.containerInfo!==a.containerInfo||n.stateNode.implementation!==a.implementation?((n=Bt(a,e.mode,t)).return=e,n):((n=r(n,a.children||[])).return=e,n)}function d(e,n,a,t,l){return null===n||7!==n.tag?((n=qt(a,e.mode,t,l)).return=e,n):((n=r(n,a)).return=e,n)}function m(e,n,a){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return(n=Ht(""+n,e.mode,a)).return=e,n;if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return Yi(a=Ft(n.type,n.key,n.props,null,e.mode,a),n),a.return=e,a;case h:return(n=Bt(n,e.mode,a)).return=e,n;case k:return m(e,n=(0,n._init)(n._payload),a)}if(T(n)||L(n))return(n=qt(n,e.mode,a,null)).return=e,n;if("function"===typeof n.then)return m(e,Ki(n),a);if(n.$$typeof===j)return m(e,Er(e,n),a);Xi(e,n)}return null}function f(e,n,a,t){var r=null!==n?n.key:null;if("string"===typeof a&&""!==a||"number"===typeof a||"bigint"===typeof a)return null!==r?null:o(e,n,""+a,t);if("object"===typeof a&&null!==a){switch(a.$$typeof){case p:return a.key===r?c(e,n,a,t):null;case h:return a.key===r?u(e,n,a,t):null;case k:return f(e,n,a=(r=a._init)(a._payload),t)}if(T(a)||L(a))return null!==r?null:d(e,n,a,t,null);if("function"===typeof a.then)return f(e,n,Ki(a),t);if(a.$$typeof===j)return f(e,n,Er(e,a),t);Xi(e,a)}return null}function g(e,n,a,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return o(n,e=e.get(a)||null,""+t,r);if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return c(n,e=e.get(null===t.key?a:t.key)||null,t,r);case h:return u(n,e=e.get(null===t.key?a:t.key)||null,t,r);case k:return g(e,n,a,t=(0,t._init)(t._payload),r)}if(T(t)||L(t))return d(n,e=e.get(a)||null,t,r,null);if("function"===typeof t.then)return g(e,n,a,Ki(t),r);if(t.$$typeof===j)return g(e,n,a,Er(n,t),r);Xi(n,t)}return null}function b(o,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===v){if(7===c.tag){a(o,c.sibling),(d=r(c,u.props.children)).return=o,o=d;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===k&&Zi(y)===c.type){a(o,c.sibling),Yi(d=r(c,u.props),u),d.return=o,o=d;break e}a(o,c);break}n(o,c),c=c.sibling}u.type===v?((d=qt(u.props.children,o.mode,d,u.key)).return=o,o=d):(Yi(d=Ft(u.type,u.key,u.props,null,o.mode,d),u),d.return=o,o=d)}return s(o);case h:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){a(o,c.sibling),(d=r(c,u.children||[])).return=o,o=d;break e}a(o,c);break}n(o,c),c=c.sibling}(d=Bt(u,o.mode,d)).return=o,o=d}return s(o);case k:return b(o,c,u=(y=u._init)(u._payload),d)}if(T(u))return function(r,i,s,o){for(var c=null,u=null,d=i,p=i=0,h=null;null!==d&&p<s.length;p++){d.index>p?(h=d,d=null):h=d.sibling;var v=f(r,d,s[p],o);if(null===v){null===d&&(d=h);break}e&&d&&null===v.alternate&&n(r,d),i=l(v,i,p),null===u?c=v:u.sibling=v,u=v,d=h}if(p===s.length)return a(r,d),lr&&Zt(r,p),c;if(null===d){for(;p<s.length;p++)null!==(d=m(r,s[p],o))&&(i=l(d,i,p),null===u?c=d:u.sibling=d,u=d);return lr&&Zt(r,p),c}for(d=t(d);p<s.length;p++)null!==(h=g(d,r,p,s[p],o))&&(e&&null!==h.alternate&&d.delete(null===h.key?p:h.key),i=l(h,i,p),null===u?c=h:u.sibling=h,u=h);return e&&d.forEach(function(e){return n(r,e)}),lr&&Zt(r,p),c}(o,c,u,d);if(L(u)){if("function"!==typeof(y=L(u)))throw Error(i(150));return function(r,s,o,c){if(null==o)throw Error(i(151));for(var u=null,d=null,p=s,h=s=0,v=null,b=o.next();null!==p&&!b.done;h++,b=o.next()){p.index>h?(v=p,p=null):v=p.sibling;var y=f(r,p,b.value,c);if(null===y){null===p&&(p=v);break}e&&p&&null===y.alternate&&n(r,p),s=l(y,s,h),null===d?u=y:d.sibling=y,d=y,p=v}if(b.done)return a(r,p),lr&&Zt(r,h),u;if(null===p){for(;!b.done;h++,b=o.next())null!==(b=m(r,b.value,c))&&(s=l(b,s,h),null===d?u=b:d.sibling=b,d=b);return lr&&Zt(r,h),u}for(p=t(p);!b.done;h++,b=o.next())null!==(b=g(p,r,h,b.value,c))&&(e&&null!==b.alternate&&p.delete(null===b.key?h:b.key),s=l(b,s,h),null===d?u=b:d.sibling=b,d=b);return e&&p.forEach(function(e){return n(r,e)}),lr&&Zt(r,h),u}(o,c,u=y.call(u),d)}if("function"===typeof u.then)return b(o,c,Ki(u),d);if(u.$$typeof===j)return b(o,c,Er(o,u),d);Xi(o,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(a(o,c.sibling),(d=r(c,u)).return=o,o=d):(a(o,c),(d=Ht(u,o.mode,d)).return=o,o=d),s(o)):a(o,c)}return function(e,n,a,t){try{Ji=0;var r=b(e,n,a,t);return Qi=null,r}catch(i){if(i===Wr||i===$r)throw i;var l=Ut(29,i,null,e.mode);return l.lanes=t,l.return=e,l}}}var ns=es(!0),as=es(!1),ts=I(null),rs=null;function ls(e){var n=e.alternate;q(cs,1&cs.current),q(ts,e),null===rs&&(null===n||null!==fl.current||null!==n.memoizedState)&&(rs=e)}function is(e){if(22===e.tag){if(q(cs,cs.current),q(ts,e),null===rs){var n=e.alternate;null!==n&&null!==n.memoizedState&&(rs=e)}}else ss()}function ss(){q(cs,cs.current),q(ts,ts.current)}function os(e){F(ts),rs===e&&(rs=null),F(cs)}var cs=I(0);function us(e){for(var n=e;null!==n;){if(13===n.tag){var a=n.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||vd(a)))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!==(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ds(e,n,a,t){a=null===(a=a(t,n=e.memoizedState))||void 0===a?n:m({},n,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var ms={enqueueSetState:function(e,n,a){e=e._reactInternals;var t=Ac(),r=rl(t);r.payload=n,void 0!==a&&null!==a&&(r.callback=a),null!==(n=ll(e,r,t))&&(Uc(n,e,t),il(n,e,t))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var t=Ac(),r=rl(t);r.tag=1,r.payload=n,void 0!==a&&null!==a&&(r.callback=a),null!==(n=ll(e,r,t))&&(Uc(n,e,t),il(n,e,t))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ac(),t=rl(a);t.tag=2,void 0!==n&&null!==n&&(t.callback=n),null!==(n=ll(e,t,a))&&(Uc(n,e,a),il(n,e,a))}};function fs(e,n,a,t,r,l,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(t,l,i):!n.prototype||!n.prototype.isPureReactComponent||(!Ka(a,t)||!Ka(r,l))}function ps(e,n,a,t){e=n.state,"function"===typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(a,t),"function"===typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(a,t),n.state!==e&&ms.enqueueReplaceState(n,n.state,null)}function hs(e,n){var a=n;if("ref"in n)for(var t in a={},n)"ref"!==t&&(a[t]=n[t]);if(e=e.defaultProps)for(var r in a===n&&(a=m({},a)),e)void 0===a[r]&&(a[r]=e[r]);return a}var vs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function gs(e){vs(e)}function bs(e){console.error(e)}function ys(e){vs(e)}function xs(e,n){try{(0,e.onUncaughtError)(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function js(e,n,a){try{(0,e.onCaughtError)(a.value,{componentStack:a.stack,errorBoundary:1===n.tag?n.stateNode:null})}catch(t){setTimeout(function(){throw t})}}function Ns(e,n,a){return(a=rl(a)).tag=3,a.payload={element:null},a.callback=function(){xs(e,n)},a}function _s(e){return(e=rl(e)).tag=3,e}function Ss(e,n,a,t){var r=a.type.getDerivedStateFromError;if("function"===typeof r){var l=t.value;e.payload=function(){return r(l)},e.callback=function(){js(n,a,t)}}var i=a.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){js(n,a,t),"function"!==typeof r&&(null===Sc?Sc=new Set([this]):Sc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})})}var ws=Error(i(461)),ks=!1;function Es(e,n,a,t){n.child=null===e?as(n,null,a,t):ns(n,e.child,a,t)}function Cs(e,n,a,t,r){a=a.render;var l=n.ref;if("ref"in t){var i={};for(var s in t)"ref"!==s&&(i[s]=t[s])}else i=t;return wr(n),t=zl(e,n,a,i,l,r),s=Rl(),null===e||ks?(lr&&s&&nr(n),n.flags|=1,Es(e,n,t,r),n.child):(Ul(e,n,r),Qs(e,n,r))}function Ps(e,n,a,t,r){if(null===e){var l=a.type;return"function"!==typeof l||Dt(l)||void 0!==l.defaultProps||null!==a.compare?((e=Ft(a.type,null,t,n,n.mode,r)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=l,Ls(e,n,l,t,r))}if(l=e.child,!Js(e,r)){var i=l.memoizedProps;if((a=null!==(a=a.compare)?a:Ka)(i,t)&&e.ref===n.ref)return Qs(e,n,r)}return n.flags|=1,(e=Mt(l,t)).ref=n.ref,e.return=n,n.child=e}function Ls(e,n,a,t,r){if(null!==e){var l=e.memoizedProps;if(Ka(l,t)&&e.ref===n.ref){if(ks=!1,n.pendingProps=t=l,!Js(e,r))return n.lanes=e.lanes,Qs(e,n,r);0!==(131072&e.flags)&&(ks=!0)}}return As(e,n,a,t,r)}function zs(e,n,a){var t=n.pendingProps,r=t.children,l=null!==e?e.memoizedState:null;if("hidden"===t.mode){if(0!==(128&n.flags)){if(t=null!==l?l.baseLanes|a:a,null!==e){for(r=n.child=e.child,l=0;null!==r;)l=l|r.lanes|r.childLanes,r=r.sibling;n.childLanes=l&~t}else n.childLanes=0,n.child=null;return Os(e,n,t,a)}if(0===(536870912&a))return n.lanes=n.childLanes=536870912,Os(e,n,null!==l?l.baseLanes|a:a,a);n.memoizedState={baseLanes:0,cachePool:null},null!==e&&Br(0,null!==l?l.cachePool:null),null!==l?hl(n,l):vl(),is(n)}else null!==l?(Br(0,l.cachePool),hl(n,l),ss(),n.memoizedState=null):(null!==e&&Br(0,null),vl(),ss());return Es(e,n,r,a),n.child}function Os(e,n,a,t){var r=Hr();return r=null===r?null:{parent:Or._currentValue,pool:r},n.memoizedState={baseLanes:a,cachePool:r},null!==e&&Br(0,null),vl(),is(n),null!==e&&_r(e,n,t,!0),null}function Ts(e,n){var a=n.ref;if(null===a)null!==e&&null!==e.ref&&(n.flags|=4194816);else{if("function"!==typeof a&&"object"!==typeof a)throw Error(i(284));null!==e&&e.ref===a||(n.flags|=4194816)}}function As(e,n,a,t,r){return wr(n),a=zl(e,n,a,t,void 0,r),t=Rl(),null===e||ks?(lr&&t&&nr(n),n.flags|=1,Es(e,n,a,r),n.child):(Ul(e,n,r),Qs(e,n,r))}function Rs(e,n,a,t,r,l){return wr(n),n.updateQueue=null,a=Tl(n,t,a,r),Ol(e),t=Rl(),null===e||ks?(lr&&t&&nr(n),n.flags|=1,Es(e,n,a,l),n.child):(Ul(e,n,l),Qs(e,n,l))}function Us(e,n,a,t,r){if(wr(n),null===n.stateNode){var l=At,i=a.contextType;"object"===typeof i&&null!==i&&(l=kr(i)),l=new a(t,l),n.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=ms,n.stateNode=l,l._reactInternals=n,(l=n.stateNode).props=t,l.state=n.memoizedState,l.refs={},al(n),i=a.contextType,l.context="object"===typeof i&&null!==i?kr(i):At,l.state=n.memoizedState,"function"===typeof(i=a.getDerivedStateFromProps)&&(ds(n,a,i,t),l.state=n.memoizedState),"function"===typeof a.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(i=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),i!==l.state&&ms.enqueueReplaceState(l,l.state,null),ul(n,t,l,r),cl(),l.state=n.memoizedState),"function"===typeof l.componentDidMount&&(n.flags|=4194308),t=!0}else if(null===e){l=n.stateNode;var s=n.memoizedProps,o=hs(a,s);l.props=o;var c=l.context,u=a.contextType;i=At,"object"===typeof u&&null!==u&&(i=kr(u));var d=a.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate,s=n.pendingProps!==s,u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(s||c!==i)&&ps(n,l,t,i),nl=!1;var m=n.memoizedState;l.state=m,ul(n,t,l,r),cl(),c=n.memoizedState,s||m!==c||nl?("function"===typeof d&&(ds(n,a,d,t),c=n.memoizedState),(o=nl||fs(n,a,o,t,m,c,i))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(n.flags|=4194308)):("function"===typeof l.componentDidMount&&(n.flags|=4194308),n.memoizedProps=t,n.memoizedState=c),l.props=t,l.state=c,l.context=i,t=o):("function"===typeof l.componentDidMount&&(n.flags|=4194308),t=!1)}else{l=n.stateNode,tl(e,n),u=hs(a,i=n.memoizedProps),l.props=u,d=n.pendingProps,m=l.context,c=a.contextType,o=At,"object"===typeof c&&null!==c&&(o=kr(c)),(c="function"===typeof(s=a.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==d||m!==o)&&ps(n,l,t,o),nl=!1,m=n.memoizedState,l.state=m,ul(n,t,l,r),cl();var f=n.memoizedState;i!==d||m!==f||nl||null!==e&&null!==e.dependencies&&Sr(e.dependencies)?("function"===typeof s&&(ds(n,a,s,t),f=n.memoizedState),(u=nl||fs(n,a,u,t,m,f,o)||null!==e&&null!==e.dependencies&&Sr(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(t,f,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(t,f,o)),"function"===typeof l.componentDidUpdate&&(n.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),n.memoizedProps=t,n.memoizedState=f),l.props=t,l.state=f,l.context=o,t=u):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),t=!1)}return l=t,Ts(e,n),t=0!==(128&n.flags),l||t?(l=n.stateNode,a=t&&"function"!==typeof a.getDerivedStateFromError?null:l.render(),n.flags|=1,null!==e&&t?(n.child=ns(n,e.child,null,r),n.child=ns(n,null,a,r)):Es(e,n,a,r),n.memoizedState=l.state,e=n.child):e=Qs(e,n,r),e}function Ds(e,n,a,t){return fr(),n.flags|=256,Es(e,n,a,t),n.child}var Ms={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Is(e){return{baseLanes:e,cachePool:Vr()}}function Fs(e,n,a){return e=null!==e?e.childLanes&~a:0,n&&(e|=vc),e}function qs(e,n,a){var t,r=n.pendingProps,l=!1,s=0!==(128&n.flags);if((t=s)||(t=(null===e||null!==e.memoizedState)&&0!==(2&cs.current)),t&&(l=!0,n.flags&=-129),t=0!==(32&n.flags),n.flags&=-33,null===e){if(lr){if(l?ls(n):ss(),lr){var o,c=rr;if(o=c){e:{for(o=c,c=sr;8!==o.nodeType;){if(!c){c=null;break e}if(null===(o=gd(o.nextSibling))){c=null;break e}}c=o}null!==c?(n.memoizedState={dehydrated:c,treeContext:null!==Kt?{id:Yt,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},(o=Ut(18,null,null,0)).stateNode=c,o.return=n,n.child=o,tr=n,rr=null,o=!0):o=!1}o||cr(n)}if(null!==(c=n.memoizedState)&&null!==(c=c.dehydrated))return vd(c)?n.lanes=32:n.lanes=536870912,null;os(n)}return c=r.children,r=r.fallback,l?(ss(),c=Bs({mode:"hidden",children:c},l=n.mode),r=qt(r,l,a,null),c.return=n,r.return=n,c.sibling=r,n.child=c,(l=n.child).memoizedState=Is(a),l.childLanes=Fs(e,t,a),n.memoizedState=Ms,r):(ls(n),Hs(n,c))}if(null!==(o=e.memoizedState)&&null!==(c=o.dehydrated)){if(s)256&n.flags?(ls(n),n.flags&=-257,n=Vs(e,n,a)):null!==n.memoizedState?(ss(),n.child=e.child,n.flags|=128,n=null):(ss(),l=r.fallback,c=n.mode,r=Bs({mode:"visible",children:r.children},c),(l=qt(l,c,a,null)).flags|=2,r.return=n,l.return=n,r.sibling=l,n.child=r,ns(n,e.child,null,a),(r=n.child).memoizedState=Is(a),r.childLanes=Fs(e,t,a),n.memoizedState=Ms,n=l);else if(ls(n),vd(c)){if(t=c.nextSibling&&c.nextSibling.dataset)var u=t.dgst;t=u,(r=Error(i(419))).stack="",r.digest=t,hr({value:r,source:null,stack:null}),n=Vs(e,n,a)}else if(ks||_r(e,n,a,!1),t=0!==(a&e.childLanes),ks||t){if(null!==(t=tc)&&(0!==(r=0!==((r=0!==(42&(r=a&-a))?1:Ce(r))&(t.suspendedLanes|a))?0:r)&&r!==o.retryLane))throw o.retryLane=r,zt(e,r),Uc(t,e,r),ws;"$?"===c.data||$c(),n=Vs(e,n,a)}else"$?"===c.data?(n.flags|=192,n.child=e.child,n=null):(e=o.treeContext,rr=gd(c.nextSibling),tr=n,lr=!0,ir=null,sr=!1,null!==e&&(Qt[Jt++]=Yt,Qt[Jt++]=Xt,Qt[Jt++]=Kt,Yt=e.id,Xt=e.overflow,Kt=n),(n=Hs(n,r.children)).flags|=4096);return n}return l?(ss(),l=r.fallback,c=n.mode,u=(o=e.child).sibling,(r=Mt(o,{mode:"hidden",children:r.children})).subtreeFlags=65011712&o.subtreeFlags,null!==u?l=Mt(u,l):(l=qt(l,c,a,null)).flags|=2,l.return=n,r.return=n,r.sibling=l,n.child=r,r=l,l=n.child,null===(c=e.child.memoizedState)?c=Is(a):(null!==(o=c.cachePool)?(u=Or._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=Vr(),c={baseLanes:c.baseLanes|a,cachePool:o}),l.memoizedState=c,l.childLanes=Fs(e,t,a),n.memoizedState=Ms,r):(ls(n),e=(a=e.child).sibling,(a=Mt(a,{mode:"visible",children:r.children})).return=n,a.sibling=null,null!==e&&(null===(t=n.deletions)?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=a,n.memoizedState=null,a)}function Hs(e,n){return(n=Bs({mode:"visible",children:n},e.mode)).return=e,e.child=n}function Bs(e,n){return(e=Ut(22,e,null,n)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vs(e,n,a){return ns(n,e.child,null,a),(e=Hs(n,n.pendingProps.children)).flags|=2,n.memoizedState=null,e}function Ws(e,n,a){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),jr(e.return,n,a)}function Gs(e,n,a,t,r){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:t,tail:a,tailMode:r}:(l.isBackwards=n,l.rendering=null,l.renderingStartTime=0,l.last=t,l.tail=a,l.tailMode=r)}function $s(e,n,a){var t=n.pendingProps,r=t.revealOrder,l=t.tail;if(Es(e,n,t.children,a),0!==(2&(t=cs.current)))t=1&t|2,n.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,a,n);else if(19===e.tag)Ws(e,a,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t&=1}switch(q(cs,t),r){case"forwards":for(a=n.child,r=null;null!==a;)null!==(e=a.alternate)&&null===us(e)&&(r=a),a=a.sibling;null===(a=r)?(r=n.child,n.child=null):(r=a.sibling,a.sibling=null),Gs(n,!1,r,a,l);break;case"backwards":for(a=null,r=n.child,n.child=null;null!==r;){if(null!==(e=r.alternate)&&null===us(e)){n.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}Gs(n,!0,a,null,l);break;case"together":Gs(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Qs(e,n,a){if(null!==e&&(n.dependencies=e.dependencies),fc|=n.lanes,0===(a&n.childLanes)){if(null===e)return null;if(_r(e,n,a,!1),0===(a&n.childLanes))return null}if(null!==e&&n.child!==e.child)throw Error(i(153));if(null!==n.child){for(a=Mt(e=n.child,e.pendingProps),n.child=a,a.return=n;null!==e.sibling;)e=e.sibling,(a=a.sibling=Mt(e,e.pendingProps)).return=n;a.sibling=null}return n.child}function Js(e,n){return 0!==(e.lanes&n)||!(null===(e=e.dependencies)||!Sr(e))}function Ks(e,n,a){if(null!==e)if(e.memoizedProps!==n.pendingProps)ks=!0;else{if(!Js(e,a)&&0===(128&n.flags))return ks=!1,function(e,n,a){switch(n.tag){case 3:G(n,n.stateNode.containerInfo),yr(0,Or,e.memoizedState.cache),fr();break;case 27:case 5:Q(n);break;case 4:G(n,n.stateNode.containerInfo);break;case 10:yr(0,n.type,n.memoizedProps.value);break;case 13:var t=n.memoizedState;if(null!==t)return null!==t.dehydrated?(ls(n),n.flags|=128,null):0!==(a&n.child.childLanes)?qs(e,n,a):(ls(n),null!==(e=Qs(e,n,a))?e.sibling:null);ls(n);break;case 19:var r=0!==(128&e.flags);if((t=0!==(a&n.childLanes))||(_r(e,n,a,!1),t=0!==(a&n.childLanes)),r){if(t)return $s(e,n,a);n.flags|=128}if(null!==(r=n.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),q(cs,cs.current),t)break;return null;case 22:case 23:return n.lanes=0,zs(e,n,a);case 24:yr(0,Or,e.memoizedState.cache)}return Qs(e,n,a)}(e,n,a);ks=0!==(131072&e.flags)}else ks=!1,lr&&0!==(1048576&n.flags)&&er(n,$t,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var t=n.elementType,r=t._init;if(t=r(t._payload),n.type=t,"function"!==typeof t){if(void 0!==t&&null!==t){if((r=t.$$typeof)===N){n.tag=11,n=Cs(null,n,t,e,a);break e}if(r===w){n.tag=14,n=Ps(null,n,t,e,a);break e}}throw n=O(t)||t,Error(i(306,n,""))}Dt(t)?(e=hs(t,e),n.tag=1,n=Us(null,n,t,e,a)):(n.tag=0,n=As(null,n,t,e,a))}return n;case 0:return As(e,n,n.type,n.pendingProps,a);case 1:return Us(e,n,t=n.type,r=hs(t,n.pendingProps),a);case 3:e:{if(G(n,n.stateNode.containerInfo),null===e)throw Error(i(387));t=n.pendingProps;var l=n.memoizedState;r=l.element,tl(e,n),ul(n,t,null,a);var s=n.memoizedState;if(t=s.cache,yr(0,Or,t),t!==l.cache&&Nr(n,[Or],a,!0),cl(),t=s.element,l.isDehydrated){if(l={element:t,isDehydrated:!1,cache:s.cache},n.updateQueue.baseState=l,n.memoizedState=l,256&n.flags){n=Ds(e,n,t,a);break e}if(t!==r){hr(r=St(Error(i(424)),n)),n=Ds(e,n,t,a);break e}if(9===(e=n.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=gd(e.firstChild),tr=n,lr=!0,ir=null,sr=!0,a=as(n,null,t,a),n.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(fr(),t===r){n=Qs(e,n,a);break e}Es(e,n,t,a)}n=n.child}return n;case 26:return Ts(e,n),null===e?(a=Cd(n.type,null,n.pendingProps,null))?n.memoizedState=a:lr||(a=n.type,e=n.pendingProps,(t=td(V.current).createElement(a))[Oe]=n,t[Te]=e,ed(t,a,e),We(t),n.stateNode=t):n.memoizedState=Cd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Q(n),null===e&&lr&&(t=n.stateNode=xd(n.type,n.pendingProps,V.current),tr=n,sr=!0,r=rr,fd(n.type)?(bd=r,rr=gd(t.firstChild)):rr=r),Es(e,n,n.pendingProps.children,a),Ts(e,n),null===e&&(n.flags|=4194304),n.child;case 5:return null===e&&lr&&((r=t=rr)&&(null!==(t=function(e,n,a,t){for(;1===e.nodeType;){var r=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!t&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(t){if(!e[Ie])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==n||"hidden"!==e.type)return e;var l=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===l)return e}if(null===(e=gd(e.nextSibling)))break}return null}(t,n.type,n.pendingProps,sr))?(n.stateNode=t,tr=n,rr=gd(t.firstChild),sr=!1,r=!0):r=!1),r||cr(n)),Q(n),r=n.type,l=n.pendingProps,s=null!==e?e.memoizedProps:null,t=l.children,id(r,l)?t=null:null!==s&&id(r,s)&&(n.flags|=32),null!==n.memoizedState&&(r=zl(e,n,Al,null,null,a),Qd._currentValue=r),Ts(e,n),Es(e,n,t,a),n.child;case 6:return null===e&&lr&&((e=a=rr)&&(null!==(a=function(e,n,a){if(""===n)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!a)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(a,n.pendingProps,sr))?(n.stateNode=a,tr=n,rr=null,e=!0):e=!1),e||cr(n)),null;case 13:return qs(e,n,a);case 4:return G(n,n.stateNode.containerInfo),t=n.pendingProps,null===e?n.child=ns(n,null,t,a):Es(e,n,t,a),n.child;case 11:return Cs(e,n,n.type,n.pendingProps,a);case 7:return Es(e,n,n.pendingProps,a),n.child;case 8:case 12:return Es(e,n,n.pendingProps.children,a),n.child;case 10:return t=n.pendingProps,yr(0,n.type,t.value),Es(e,n,t.children,a),n.child;case 9:return r=n.type._context,t=n.pendingProps.children,wr(n),t=t(r=kr(r)),n.flags|=1,Es(e,n,t,a),n.child;case 14:return Ps(e,n,n.type,n.pendingProps,a);case 15:return Ls(e,n,n.type,n.pendingProps,a);case 19:return $s(e,n,a);case 31:return t=n.pendingProps,a=n.mode,t={mode:t.mode,children:t.children},null===e?((a=Bs(t,a)).ref=n.ref,n.child=a,a.return=n,n=a):((a=Mt(e.child,t)).ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return zs(e,n,a);case 24:return wr(n),t=kr(Or),null===e?(null===(r=Hr())&&(r=tc,l=Tr(),r.pooledCache=l,l.refCount++,null!==l&&(r.pooledCacheLanes|=a),r=l),n.memoizedState={parent:t,cache:r},al(n),yr(0,Or,r)):(0!==(e.lanes&a)&&(tl(e,n),ul(n,null,null,a),cl()),r=e.memoizedState,l=n.memoizedState,r.parent!==t?(r={parent:t,cache:t},n.memoizedState=r,0===n.lanes&&(n.memoizedState=n.updateQueue.baseState=r),yr(0,Or,t)):(t=l.cache,yr(0,Or,t),t!==r.cache&&Nr(n,[Or],a,!0))),Es(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Ys(e){e.flags|=4}function Xs(e,n){if("stylesheet"!==n.type||0!==(4&n.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!qd(n)){if(null!==(n=ts.current)&&((4194048&lc)===lc?null!==rs:(62914560&lc)!==lc&&0===(536870912&lc)||n!==rs))throw Xr=Qr,Gr;e.flags|=8192}}function Zs(e,n){null!==n&&(e.flags|=4),16384&e.flags&&(n=22!==e.tag?_e():536870912,e.lanes|=n,gc|=n)}function eo(e,n){if(!lr)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var t=null;null!==a;)null!==a.alternate&&(t=a),a=a.sibling;null===t?n||null===e.tail?e.tail=null:e.tail.sibling=null:t.sibling=null}}function no(e){var n=null!==e.alternate&&e.alternate.child===e.child,a=0,t=0;if(n)for(var r=e.child;null!==r;)a|=r.lanes|r.childLanes,t|=65011712&r.subtreeFlags,t|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)a|=r.lanes|r.childLanes,t|=r.subtreeFlags,t|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=t,e.childLanes=a,n}function ao(e,n,a){var t=n.pendingProps;switch(ar(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return no(n),null;case 3:return a=n.stateNode,t=null,null!==e&&(t=e.memoizedState.cache),n.memoizedState.cache!==t&&(n.flags|=2048),xr(Or),$(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(mr(n)?Ys(n):null===e||e.memoizedState.isDehydrated&&0===(256&n.flags)||(n.flags|=1024,pr())),no(n),null;case 26:return a=n.memoizedState,null===e?(Ys(n),null!==a?(no(n),Xs(n,a)):(no(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Ys(n),no(n),Xs(n,a)):(no(n),n.flags&=-16777217):(e.memoizedProps!==t&&Ys(n),no(n),n.flags&=-16777217),null;case 27:J(n),a=V.current;var r=n.type;if(null!==e&&null!=n.stateNode)e.memoizedProps!==t&&Ys(n);else{if(!t){if(null===n.stateNode)throw Error(i(166));return no(n),null}e=H.current,mr(n)?ur(n):(e=xd(r,t,a),n.stateNode=e,Ys(n))}return no(n),null;case 5:if(J(n),a=n.type,null!==e&&null!=n.stateNode)e.memoizedProps!==t&&Ys(n);else{if(!t){if(null===n.stateNode)throw Error(i(166));return no(n),null}if(e=H.current,mr(n))ur(n);else{switch(r=td(V.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof t.is?r.createElement("select",{is:t.is}):r.createElement("select"),t.multiple?e.multiple=!0:t.size&&(e.size=t.size);break;default:e="string"===typeof t.is?r.createElement(a,{is:t.is}):r.createElement(a)}}e[Oe]=n,e[Te]=t;e:for(r=n.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;null===r.sibling;){if(null===r.return||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n.stateNode=e;e:switch(ed(e,a,t),a){case"button":case"input":case"select":case"textarea":e=!!t.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Ys(n)}}return no(n),n.flags&=-16777217,null;case 6:if(e&&null!=n.stateNode)e.memoizedProps!==t&&Ys(n);else{if("string"!==typeof t&&null===n.stateNode)throw Error(i(166));if(e=V.current,mr(n)){if(e=n.stateNode,a=n.memoizedProps,t=null,null!==(r=tr))switch(r.tag){case 27:case 5:t=r.memoizedProps}e[Oe]=n,(e=!!(e.nodeValue===a||null!==t&&!0===t.suppressHydrationWarning||Ku(e.nodeValue,a)))||cr(n)}else(e=td(e).createTextNode(t))[Oe]=n,n.stateNode=e}return no(n),null;case 13:if(t=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=mr(n),null!==t&&null!==t.dehydrated){if(null===e){if(!r)throw Error(i(318));if(!(r=null!==(r=n.memoizedState)?r.dehydrated:null))throw Error(i(317));r[Oe]=n}else fr(),0===(128&n.flags)&&(n.memoizedState=null),n.flags|=4;no(n),r=!1}else r=pr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&n.flags?(os(n),n):(os(n),null)}if(os(n),0!==(128&n.flags))return n.lanes=a,n;if(a=null!==t,e=null!==e&&null!==e.memoizedState,a){r=null,null!==(t=n.child).alternate&&null!==t.alternate.memoizedState&&null!==t.alternate.memoizedState.cachePool&&(r=t.alternate.memoizedState.cachePool.pool);var l=null;null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Zs(n,n.updateQueue),no(n),null;case 4:return $(),null===e&&Fu(n.stateNode.containerInfo),no(n),null;case 10:return xr(n.type),no(n),null;case 19:if(F(cs),null===(r=n.memoizedState))return no(n),null;if(t=0!==(128&n.flags),null===(l=r.rendering))if(t)eo(r,!1);else{if(0!==mc||null!==e&&0!==(128&e.flags))for(e=n.child;null!==e;){if(null!==(l=us(e))){for(n.flags|=128,eo(r,!1),e=l.updateQueue,n.updateQueue=e,Zs(n,e),n.subtreeFlags=0,e=a,a=n.child;null!==a;)It(a,e),a=a.sibling;return q(cs,1&cs.current|2),n.child}e=e.sibling}null!==r.tail&&ne()>Nc&&(n.flags|=128,t=!0,eo(r,!1),n.lanes=4194304)}else{if(!t)if(null!==(e=us(l))){if(n.flags|=128,t=!0,e=e.updateQueue,n.updateQueue=e,Zs(n,e),eo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!lr)return no(n),null}else 2*ne()-r.renderingStartTime>Nc&&536870912!==a&&(n.flags|=128,t=!0,eo(r,!1),n.lanes=4194304);r.isBackwards?(l.sibling=n.child,n.child=l):(null!==(e=r.last)?e.sibling=l:n.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.renderingStartTime=ne(),n.sibling=null,e=cs.current,q(cs,t?1&e|2:1&e),n):(no(n),null);case 22:case 23:return os(n),gl(),t=null!==n.memoizedState,null!==e?null!==e.memoizedState!==t&&(n.flags|=8192):t&&(n.flags|=8192),t?0!==(536870912&a)&&0===(128&n.flags)&&(no(n),6&n.subtreeFlags&&(n.flags|=8192)):no(n),null!==(a=n.updateQueue)&&Zs(n,a.retryQueue),a=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),t=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(t=n.memoizedState.cachePool.pool),t!==a&&(n.flags|=2048),null!==e&&F(qr),null;case 24:return a=null,null!==e&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),xr(Or),no(n),null;case 25:case 30:return null}throw Error(i(156,n.tag))}function to(e,n){switch(ar(n),n.tag){case 1:return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return xr(Or),$(),0!==(65536&(e=n.flags))&&0===(128&e)?(n.flags=-65537&e|128,n):null;case 26:case 27:case 5:return J(n),null;case 13:if(os(n),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(i(340));fr()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return F(cs),null;case 4:return $(),null;case 10:return xr(n.type),null;case 22:case 23:return os(n),gl(),null!==e&&F(qr),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 24:return xr(Or),null;default:return null}}function ro(e,n){switch(ar(n),n.tag){case 3:xr(Or),$();break;case 26:case 27:case 5:J(n);break;case 4:$();break;case 13:os(n);break;case 19:F(cs);break;case 10:xr(n.type);break;case 22:case 23:os(n),gl(),null!==e&&F(qr);break;case 24:xr(Or)}}function lo(e,n){try{var a=n.updateQueue,t=null!==a?a.lastEffect:null;if(null!==t){var r=t.next;a=r;do{if((a.tag&e)===e){t=void 0;var l=a.create,i=a.inst;t=l(),i.destroy=t}a=a.next}while(a!==r)}}catch(s){uu(n,n.return,s)}}function io(e,n,a){try{var t=n.updateQueue,r=null!==t?t.lastEffect:null;if(null!==r){var l=r.next;t=l;do{if((t.tag&e)===e){var i=t.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,r=n;var o=a,c=s;try{c()}catch(u){uu(r,o,u)}}}t=t.next}while(t!==l)}}catch(u){uu(n,n.return,u)}}function so(e){var n=e.updateQueue;if(null!==n){var a=e.stateNode;try{ml(n,a)}catch(t){uu(e,e.return,t)}}}function oo(e,n,a){a.props=hs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(t){uu(e,n,t)}}function co(e,n){try{var a=e.ref;if(null!==a){switch(e.tag){case 26:case 27:case 5:var t=e.stateNode;break;default:t=e.stateNode}"function"===typeof a?e.refCleanup=a(t):a.current=t}}catch(r){uu(e,n,r)}}function uo(e,n){var a=e.ref,t=e.refCleanup;if(null!==a)if("function"===typeof t)try{t()}catch(r){uu(e,n,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof a)try{a(null)}catch(l){uu(e,n,l)}else a.current=null}function mo(e){var n=e.type,a=e.memoizedProps,t=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&t.focus();break e;case"img":a.src?t.src=a.src:a.srcSet&&(t.srcset=a.srcSet)}}catch(r){uu(e,e.return,r)}}function fo(e,n,a){try{var t=e.stateNode;!function(e,n,a,t){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,s=null,o=null,c=null,u=null,d=null;for(p in a){var m=a[p];if(a.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:t.hasOwnProperty(p)||Xu(e,n,p,null,t,m)}}for(var f in t){var p=t[f];if(m=a[f],t.hasOwnProperty(f)&&(null!=p||null!=m))switch(f){case"type":l=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,n));break;default:p!==m&&Xu(e,n,f,p,t,m)}}return void gn(e,s,o,c,u,d,l,r);case"select":for(l in p=s=o=f=null,a)if(c=a[l],a.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":p=c;default:t.hasOwnProperty(l)||Xu(e,n,l,null,t,c)}for(r in t)if(l=t[r],c=a[r],t.hasOwnProperty(r)&&(null!=l||null!=c))switch(r){case"value":f=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:l!==c&&Xu(e,n,r,l,t,c)}return n=o,a=s,t=p,void(null!=f?xn(e,!!a,f,!1):!!t!==!!a&&(null!=n?xn(e,!!a,n,!0):xn(e,!!a,a?[]:"",!1)));case"textarea":for(o in p=f=null,a)if(r=a[o],a.hasOwnProperty(o)&&null!=r&&!t.hasOwnProperty(o))switch(o){case"value":case"children":break;default:Xu(e,n,o,null,t,r)}for(s in t)if(r=t[s],l=a[s],t.hasOwnProperty(s)&&(null!=r||null!=l))switch(s){case"value":f=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(i(91));break;default:r!==l&&Xu(e,n,s,r,t,l)}return void jn(e,f,p);case"option":for(var h in a)if(f=a[h],a.hasOwnProperty(h)&&null!=f&&!t.hasOwnProperty(h))if("selected"===h)e.selected=!1;else Xu(e,n,h,null,t,f);for(c in t)if(f=t[c],p=a[c],t.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,n,c,f,t,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in a)f=a[v],a.hasOwnProperty(v)&&null!=f&&!t.hasOwnProperty(v)&&Xu(e,n,v,null,t,f);for(u in t)if(f=t[u],p=a[u],t.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,n));break;default:Xu(e,n,u,f,t,p)}return;default:if(En(n)){for(var g in a)f=a[g],a.hasOwnProperty(g)&&void 0!==f&&!t.hasOwnProperty(g)&&Zu(e,n,g,void 0,t,f);for(d in t)f=t[d],p=a[d],!t.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||Zu(e,n,d,f,t,p);return}}for(var b in a)f=a[b],a.hasOwnProperty(b)&&null!=f&&!t.hasOwnProperty(b)&&Xu(e,n,b,null,t,f);for(m in t)f=t[m],p=a[m],!t.hasOwnProperty(m)||f===p||null==f&&null==p||Xu(e,n,m,f,t,p)}(t,e.type,a,n),t[Te]=n}catch(r){uu(e,e.return,r)}}function po(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ho(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||po(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vo(e,n,a){var t=e.tag;if(5===t||6===t)e=e.stateNode,n?(9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).insertBefore(e,n):((n=9===a.nodeType?a.body:"HTML"===a.nodeName?a.ownerDocument.body:a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==n.onclick||(n.onclick=Yu));else if(4!==t&&(27===t&&fd(e.type)&&(a=e.stateNode,n=null),null!==(e=e.child)))for(vo(e,n,a),e=e.sibling;null!==e;)vo(e,n,a),e=e.sibling}function go(e,n,a){var t=e.tag;if(5===t||6===t)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(4!==t&&(27===t&&fd(e.type)&&(a=e.stateNode),null!==(e=e.child)))for(go(e,n,a),e=e.sibling;null!==e;)go(e,n,a),e=e.sibling}function bo(e){var n=e.stateNode,a=e.memoizedProps;try{for(var t=e.type,r=n.attributes;r.length;)n.removeAttributeNode(r[0]);ed(n,t,a),n[Oe]=e,n[Te]=a}catch(l){uu(e,e.return,l)}}var yo=!1,xo=!1,jo=!1,No="function"===typeof WeakSet?WeakSet:Set,_o=null;function So(e,n,a){var t=a.flags;switch(a.tag){case 0:case 11:case 15:Do(e,a),4&t&&lo(5,a);break;case 1:if(Do(e,a),4&t)if(e=a.stateNode,null===n)try{e.componentDidMount()}catch(i){uu(a,a.return,i)}else{var r=hs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(r,n,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(a,a.return,s)}}64&t&&so(a),512&t&&co(a,a.return);break;case 3:if(Do(e,a),64&t&&null!==(e=a.updateQueue)){if(n=null,null!==a.child)switch(a.child.tag){case 27:case 5:case 1:n=a.child.stateNode}try{ml(e,n)}catch(i){uu(a,a.return,i)}}break;case 27:null===n&&4&t&&bo(a);case 26:case 5:Do(e,a),null===n&&4&t&&mo(a),512&t&&co(a,a.return);break;case 12:Do(e,a);break;case 13:Do(e,a),4&t&&Lo(e,a),64&t&&(null!==(e=a.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,n){var a=e.ownerDocument;if("$?"!==e.data||"complete"===a.readyState)n();else{var t=function(){n(),a.removeEventListener("DOMContentLoaded",t)};a.addEventListener("DOMContentLoaded",t),e._reactRetry=t}}(e,a=pu.bind(null,a))));break;case 22:if(!(t=null!==a.memoizedState||yo)){n=null!==n&&null!==n.memoizedState||xo,r=yo;var l=xo;yo=t,(xo=n)&&!l?Io(e,a,0!==(8772&a.subtreeFlags)):Do(e,a),yo=r,xo=l}break;case 30:break;default:Do(e,a)}}function wo(e){var n=e.alternate;null!==n&&(e.alternate=null,wo(n)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(n=e.stateNode)&&Fe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ko=null,Eo=!1;function Co(e,n,a){for(a=a.child;null!==a;)Po(e,n,a),a=a.sibling}function Po(e,n,a){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,a)}catch(l){}switch(a.tag){case 26:xo||uo(a,n),Co(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode).parentNode.removeChild(a);break;case 27:xo||uo(a,n);var t=ko,r=Eo;fd(a.type)&&(ko=a.stateNode,Eo=!1),Co(e,n,a),jd(a.stateNode),ko=t,Eo=r;break;case 5:xo||uo(a,n);case 6:if(t=ko,r=Eo,ko=null,Co(e,n,a),Eo=r,null!==(ko=t))if(Eo)try{(9===ko.nodeType?ko.body:"HTML"===ko.nodeName?ko.ownerDocument.body:ko).removeChild(a.stateNode)}catch(i){uu(a,n,i)}else try{ko.removeChild(a.stateNode)}catch(i){uu(a,n,i)}break;case 18:null!==ko&&(Eo?(pd(9===(e=ko).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,a.stateNode),Em(e)):pd(ko,a.stateNode));break;case 4:t=ko,r=Eo,ko=a.stateNode.containerInfo,Eo=!0,Co(e,n,a),ko=t,Eo=r;break;case 0:case 11:case 14:case 15:xo||io(2,a,n),xo||io(4,a,n),Co(e,n,a);break;case 1:xo||(uo(a,n),"function"===typeof(t=a.stateNode).componentWillUnmount&&oo(a,n,t)),Co(e,n,a);break;case 21:Co(e,n,a);break;case 22:xo=(t=xo)||null!==a.memoizedState,Co(e,n,a),xo=t;break;default:Co(e,n,a)}}function Lo(e,n){if(null===n.memoizedState&&(null!==(e=n.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Em(e)}catch(a){uu(n,n.return,a)}}function zo(e,n){var a=function(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return null===n&&(n=e.stateNode=new No),n;case 22:return null===(n=(e=e.stateNode)._retryCache)&&(n=e._retryCache=new No),n;default:throw Error(i(435,e.tag))}}(e);n.forEach(function(n){var t=hu.bind(null,e,n);a.has(n)||(a.add(n),n.then(t,t))})}function Oo(e,n){var a=n.deletions;if(null!==a)for(var t=0;t<a.length;t++){var r=a[t],l=e,s=n,o=s;e:for(;null!==o;){switch(o.tag){case 27:if(fd(o.type)){ko=o.stateNode,Eo=!1;break e}break;case 5:ko=o.stateNode,Eo=!1;break e;case 3:case 4:ko=o.stateNode.containerInfo,Eo=!0;break e}o=o.return}if(null===ko)throw Error(i(160));Po(l,s,r),ko=null,Eo=!1,null!==(l=r.alternate)&&(l.return=null),r.return=null}if(13878&n.subtreeFlags)for(n=n.child;null!==n;)Ao(n,e),n=n.sibling}var To=null;function Ao(e,n){var a=e.alternate,t=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Oo(n,e),Ro(e),4&t&&(io(3,e,e.return),lo(3,e),io(5,e,e.return));break;case 1:Oo(n,e),Ro(e),512&t&&(xo||null===a||uo(a,a.return)),64&t&&yo&&(null!==(e=e.updateQueue)&&(null!==(t=e.callbacks)&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===a?t:a.concat(t))));break;case 26:var r=To;if(Oo(n,e),Ro(e),512&t&&(xo||null===a||uo(a,a.return)),4&t){var l=null!==a?a.memoizedState:null;if(t=e.memoizedState,null===a)if(null===t)if(null===e.stateNode){e:{t=e.type,a=e.memoizedProps,r=r.ownerDocument||r;n:switch(t){case"title":(!(l=r.getElementsByTagName("title")[0])||l[Ie]||l[Oe]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=r.createElement(t),r.head.insertBefore(l,r.querySelector("head > title"))),ed(l,t,a),l[Oe]=e,We(l),t=l;break e;case"link":var s=Id("link","href",r).get(t+(a.href||""));if(s)for(var o=0;o<s.length;o++)if((l=s[o]).getAttribute("href")===(null==a.href||""===a.href?null:a.href)&&l.getAttribute("rel")===(null==a.rel?null:a.rel)&&l.getAttribute("title")===(null==a.title?null:a.title)&&l.getAttribute("crossorigin")===(null==a.crossOrigin?null:a.crossOrigin)){s.splice(o,1);break n}ed(l=r.createElement(t),t,a),r.head.appendChild(l);break;case"meta":if(s=Id("meta","content",r).get(t+(a.content||"")))for(o=0;o<s.length;o++)if((l=s[o]).getAttribute("content")===(null==a.content?null:""+a.content)&&l.getAttribute("name")===(null==a.name?null:a.name)&&l.getAttribute("property")===(null==a.property?null:a.property)&&l.getAttribute("http-equiv")===(null==a.httpEquiv?null:a.httpEquiv)&&l.getAttribute("charset")===(null==a.charSet?null:a.charSet)){s.splice(o,1);break n}ed(l=r.createElement(t),t,a),r.head.appendChild(l);break;default:throw Error(i(468,t))}l[Oe]=e,We(l),t=l}e.stateNode=t}else Fd(r,e.type,e.stateNode);else e.stateNode=Ad(r,t,e.memoizedProps);else l!==t?(null===l?null!==a.stateNode&&(a=a.stateNode).parentNode.removeChild(a):l.count--,null===t?Fd(r,e.type,e.stateNode):Ad(r,t,e.memoizedProps)):null===t&&null!==e.stateNode&&fo(e,e.memoizedProps,a.memoizedProps)}break;case 27:Oo(n,e),Ro(e),512&t&&(xo||null===a||uo(a,a.return)),null!==a&&4&t&&fo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Oo(n,e),Ro(e),512&t&&(xo||null===a||uo(a,a.return)),32&e.flags){r=e.stateNode;try{_n(r,"")}catch(p){uu(e,e.return,p)}}4&t&&null!=e.stateNode&&fo(e,r=e.memoizedProps,null!==a?a.memoizedProps:r),1024&t&&(jo=!0);break;case 6:if(Oo(n,e),Ro(e),4&t){if(null===e.stateNode)throw Error(i(162));t=e.memoizedProps,a=e.stateNode;try{a.nodeValue=t}catch(p){uu(e,e.return,p)}}break;case 3:if(Md=null,r=To,To=Sd(n.containerInfo),Oo(n,e),To=r,Ro(e),4&t&&null!==a&&a.memoizedState.isDehydrated)try{Em(n.containerInfo)}catch(p){uu(e,e.return,p)}jo&&(jo=!1,Uo(e));break;case 4:t=To,To=Sd(e.stateNode.containerInfo),Oo(n,e),Ro(e),To=t;break;case 12:default:Oo(n,e),Ro(e);break;case 13:Oo(n,e),Ro(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==a&&null!==a.memoizedState)&&(jc=ne()),4&t&&(null!==(t=e.updateQueue)&&(e.updateQueue=null,zo(e,t)));break;case 22:r=null!==e.memoizedState;var c=null!==a&&null!==a.memoizedState,u=yo,d=xo;if(yo=u||r,xo=d||c,Oo(n,e),xo=d,yo=u,Ro(e),8192&t)e:for(n=e.stateNode,n._visibility=r?-2&n._visibility:1|n._visibility,r&&(null===a||c||yo||xo||Mo(e)),a=null,n=e;;){if(5===n.tag||26===n.tag){if(null===a){c=a=n;try{if(l=c.stateNode,r)"function"===typeof(s=l.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,f=void 0!==m&&null!==m&&m.hasOwnProperty("display")?m.display:null;o.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===n.tag){if(null===a){c=n;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==n.tag&&23!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;null===n.sibling;){if(null===n.return||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}4&t&&(null!==(t=e.updateQueue)&&(null!==(a=t.retryQueue)&&(t.retryQueue=null,zo(e,a))));break;case 19:Oo(n,e),Ro(e),4&t&&(null!==(t=e.updateQueue)&&(e.updateQueue=null,zo(e,t)));case 30:case 21:}}function Ro(e){var n=e.flags;if(2&n){try{for(var a,t=e.return;null!==t;){if(po(t)){a=t;break}t=t.return}if(null==a)throw Error(i(160));switch(a.tag){case 27:var r=a.stateNode;go(e,ho(e),r);break;case 5:var l=a.stateNode;32&a.flags&&(_n(l,""),a.flags&=-33),go(e,ho(e),l);break;case 3:case 4:var s=a.stateNode.containerInfo;vo(e,ho(e),s);break;default:throw Error(i(161))}}catch(o){uu(e,e.return,o)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function Uo(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var n=e;Uo(n),5===n.tag&&1024&n.flags&&n.stateNode.reset(),e=e.sibling}}function Do(e,n){if(8772&n.subtreeFlags)for(n=n.child;null!==n;)So(e,n.alternate,n),n=n.sibling}function Mo(e){for(e=e.child;null!==e;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:io(4,n,n.return),Mo(n);break;case 1:uo(n,n.return);var a=n.stateNode;"function"===typeof a.componentWillUnmount&&oo(n,n.return,a),Mo(n);break;case 27:jd(n.stateNode);case 26:case 5:uo(n,n.return),Mo(n);break;case 22:null===n.memoizedState&&Mo(n);break;default:Mo(n)}e=e.sibling}}function Io(e,n,a){for(a=a&&0!==(8772&n.subtreeFlags),n=n.child;null!==n;){var t=n.alternate,r=e,l=n,i=l.flags;switch(l.tag){case 0:case 11:case 15:Io(r,l,a),lo(4,l);break;case 1:if(Io(r,l,a),"function"===typeof(r=(t=l).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(t,t.return,c)}if(null!==(r=(t=l).updateQueue)){var s=t.stateNode;try{var o=r.shared.hiddenCallbacks;if(null!==o)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)dl(o[r],s)}catch(c){uu(t,t.return,c)}}a&&64&i&&so(l),co(l,l.return);break;case 27:bo(l);case 26:case 5:Io(r,l,a),a&&null===t&&4&i&&mo(l),co(l,l.return);break;case 12:Io(r,l,a);break;case 13:Io(r,l,a),a&&4&i&&Lo(r,l);break;case 22:null===l.memoizedState&&Io(r,l,a),co(l,l.return);break;case 30:break;default:Io(r,l,a)}n=n.sibling}}function Fo(e,n){var a=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(a=e.memoizedState.cachePool.pool),e=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(e=n.memoizedState.cachePool.pool),e!==a&&(null!=e&&e.refCount++,null!=a&&Ar(a))}function qo(e,n){e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Ar(e))}function Ho(e,n,a,t){if(10256&n.subtreeFlags)for(n=n.child;null!==n;)Bo(e,n,a,t),n=n.sibling}function Bo(e,n,a,t){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ho(e,n,a,t),2048&r&&lo(9,n);break;case 1:case 13:default:Ho(e,n,a,t);break;case 3:Ho(e,n,a,t),2048&r&&(e=null,null!==n.alternate&&(e=n.alternate.memoizedState.cache),(n=n.memoizedState.cache)!==e&&(n.refCount++,null!=e&&Ar(e)));break;case 12:if(2048&r){Ho(e,n,a,t),e=n.stateNode;try{var l=n.memoizedProps,i=l.id,s=l.onPostCommit;"function"===typeof s&&s(i,null===n.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(o){uu(n,n.return,o)}}else Ho(e,n,a,t);break;case 23:break;case 22:l=n.stateNode,i=n.alternate,null!==n.memoizedState?2&l._visibility?Ho(e,n,a,t):Wo(e,n):2&l._visibility?Ho(e,n,a,t):(l._visibility|=2,Vo(e,n,a,t,0!==(10256&n.subtreeFlags))),2048&r&&Fo(i,n);break;case 24:Ho(e,n,a,t),2048&r&&qo(n.alternate,n)}}function Vo(e,n,a,t,r){for(r=r&&0!==(10256&n.subtreeFlags),n=n.child;null!==n;){var l=e,i=n,s=a,o=t,c=i.flags;switch(i.tag){case 0:case 11:case 15:Vo(l,i,s,o,r),lo(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Vo(l,i,s,o,r):Wo(l,i):(u._visibility|=2,Vo(l,i,s,o,r)),r&&2048&c&&Fo(i.alternate,i);break;case 24:Vo(l,i,s,o,r),r&&2048&c&&qo(i.alternate,i);break;default:Vo(l,i,s,o,r)}n=n.sibling}}function Wo(e,n){if(10256&n.subtreeFlags)for(n=n.child;null!==n;){var a=e,t=n,r=t.flags;switch(t.tag){case 22:Wo(a,t),2048&r&&Fo(t.alternate,t);break;case 24:Wo(a,t),2048&r&&qo(t.alternate,t);break;default:Wo(a,t)}n=n.sibling}}var Go=8192;function $o(e){if(e.subtreeFlags&Go)for(e=e.child;null!==e;)Qo(e),e=e.sibling}function Qo(e){switch(e.tag){case 26:$o(e),e.flags&Go&&null!==e.memoizedState&&function(e,n,a){if(null===Hd)throw Error(i(475));var t=Hd;if("stylesheet"===n.type&&("string"!==typeof a.media||!1!==matchMedia(a.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var r=Pd(a.href),l=e.querySelector(Ld(r));if(l)return null!==(e=l._p)&&"object"===typeof e&&"function"===typeof e.then&&(t.count++,t=Vd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=l,void We(l);l=e.ownerDocument||e,a=zd(a),(r=Nd.get(r))&&Ud(a,r),We(l=l.createElement("link"));var s=l;s._p=new Promise(function(e,n){s.onload=e,s.onerror=n}),ed(l,"link",a),n.instance=l}null===t.stylesheets&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&0===(3&n.state.loading)&&(t.count++,n=Vd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}(To,e.memoizedState,e.memoizedProps);break;case 5:default:$o(e);break;case 3:case 4:var n=To;To=Sd(e.stateNode.containerInfo),$o(e),To=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=Go,Go=16777216,$o(e),Go=n):$o(e))}}function Jo(e){var n=e.alternate;if(null!==n&&null!==(e=n.child)){n.child=null;do{n=e.sibling,e.sibling=null,e=n}while(null!==e)}}function Ko(e){var n=e.deletions;if(0!==(16&e.flags)){if(null!==n)for(var a=0;a<n.length;a++){var t=n[a];_o=t,Zo(t,e)}Jo(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yo(e),e=e.sibling}function Yo(e){switch(e.tag){case 0:case 11:case 15:Ko(e),2048&e.flags&&io(9,e,e.return);break;case 3:case 12:default:Ko(e);break;case 22:var n=e.stateNode;null!==e.memoizedState&&2&n._visibility&&(null===e.return||13!==e.return.tag)?(n._visibility&=-3,Xo(e)):Ko(e)}}function Xo(e){var n=e.deletions;if(0!==(16&e.flags)){if(null!==n)for(var a=0;a<n.length;a++){var t=n[a];_o=t,Zo(t,e)}Jo(e)}for(e=e.child;null!==e;){switch((n=e).tag){case 0:case 11:case 15:io(8,n,n.return),Xo(n);break;case 22:2&(a=n.stateNode)._visibility&&(a._visibility&=-3,Xo(n));break;default:Xo(n)}e=e.sibling}}function Zo(e,n){for(;null!==_o;){var a=_o;switch(a.tag){case 0:case 11:case 15:io(8,a,n);break;case 23:case 22:if(null!==a.memoizedState&&null!==a.memoizedState.cachePool){var t=a.memoizedState.cachePool.pool;null!=t&&t.refCount++}break;case 24:Ar(a.memoizedState.cache)}if(null!==(t=a.child))t.return=a,_o=t;else e:for(a=e;null!==_o;){var r=(t=_o).sibling,l=t.return;if(wo(t),t===a){_o=null;break e}if(null!==r){r.return=l,_o=r;break e}_o=l}}}var ec={getCacheForType:function(e){var n=kr(Or),a=n.data.get(e);return void 0===a&&(a=e(),n.data.set(e,a)),a}},nc="function"===typeof WeakMap?WeakMap:Map,ac=0,tc=null,rc=null,lc=0,ic=0,sc=null,oc=!1,cc=!1,uc=!1,dc=0,mc=0,fc=0,pc=0,hc=0,vc=0,gc=0,bc=null,yc=null,xc=!1,jc=0,Nc=1/0,_c=null,Sc=null,wc=0,kc=null,Ec=null,Cc=0,Pc=0,Lc=null,zc=null,Oc=0,Tc=null;function Ac(){if(0!==(2&ac)&&0!==lc)return lc&-lc;if(null!==A.T){return 0!==Dr?Dr:Pu()}return Le()}function Rc(){0===vc&&(vc=0===(536870912&lc)||lr?Ne():536870912);var e=ts.current;return null!==e&&(e.flags|=32),vc}function Uc(e,n,a){(e!==tc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Bc(e,0),Fc(e,lc,vc,!1)),we(e,a),0!==(2&ac)&&e===tc||(e===tc&&(0===(2&ac)&&(pc|=a),4===mc&&Fc(e,lc,vc,!1)),Nu(e))}function Dc(e,n,a){if(0!==(6&ac))throw Error(i(327));for(var t=!a&&0===(124&n)&&0===(n&e.expiredLanes)||xe(e,n),r=t?function(e,n){var a=ac;ac|=2;var t=Wc(),r=Gc();tc!==e||lc!==n?(_c=null,Nc=ne()+500,Bc(e,n)):cc=xe(e,n);e:for(;;)try{if(0!==ic&&null!==rc){n=rc;var l=sc;n:switch(ic){case 1:ic=0,sc=null,Zc(e,n,l,1);break;case 2:case 9:if(Jr(l)){ic=0,sc=null,Xc(n);break}n=function(){2!==ic&&9!==ic||tc!==e||(ic=7),Nu(e)},l.then(n,n);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Jr(l)?(ic=0,sc=null,Xc(n)):(ic=0,sc=null,Zc(e,n,l,7));break;case 5:var s=null;switch(rc.tag){case 26:s=rc.memoizedState;case 5:case 27:var o=rc;if(!s||qd(s)){ic=0,sc=null;var c=o.sibling;if(null!==c)rc=c;else{var u=o.return;null!==u?(rc=u,eu(u)):rc=null}break n}}ic=0,sc=null,Zc(e,n,l,5);break;case 6:ic=0,sc=null,Zc(e,n,l,6);break;case 8:Hc(),mc=6;break e;default:throw Error(i(462))}}Kc();break}catch(d){Vc(e,d)}return br=gr=null,A.H=t,A.A=r,ac=a,null!==rc?0:(tc=null,lc=0,Ct(),mc)}(e,n):Qc(e,n,!0),l=t;;){if(0===r){cc&&!t&&Fc(e,n,0,!1);break}if(a=e.current.alternate,!l||Ic(a)){if(2===r){if(l=n,e.errorRecoveryDisabledLanes&l)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){n=s;e:{var o=e;r=bc;var c=o.current.memoizedState.isDehydrated;if(c&&(Bc(o,s).flags|=256),2!==(s=Qc(o,s,!1))){if(uc&&!c){o.errorRecoveryDisabledLanes|=l,pc|=l,r=4;break e}l=yc,yc=r,null!==l&&(null===yc?yc=l:yc.push.apply(yc,l))}r=s}if(l=!1,2!==r)continue}}if(1===r){Bc(e,0),Fc(e,n,0,!0);break}e:{switch(t=e,l=r){case 0:case 1:throw Error(i(345));case 4:if((4194048&n)!==n)break;case 6:Fc(t,n,vc,!oc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&n)===n&&10<(r=jc+300-ne())){if(Fc(t,n,vc,!oc),0!==ye(t,0,!0))break e;t.timeoutHandle=od(Mc.bind(null,t,a,yc,_c,xc,n,vc,pc,gc,oc,l,2,-0,0),r)}else Mc(t,a,yc,_c,xc,n,vc,pc,gc,oc,l,0,-0,0)}break}r=Qc(e,n,!1),l=!1}Nu(e)}function Mc(e,n,a,t,r,l,s,o,c,u,d,m,f,p){if(e.timeoutHandle=-1,(8192&(m=n.subtreeFlags)||16785408===(16785408&m))&&(Hd={stylesheets:null,count:0,unsuspend:Bd},Qo(n),null!==(m=function(){if(null===Hd)throw Error(i(475));var e=Hd;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}())))return e.cancelPendingCommit=m(au.bind(null,e,n,l,a,t,r,s,o,c,d,1,f,p)),void Fc(e,l,s,!u);au(e,n,l,a,t,r,s,o,c)}function Ic(e){for(var n=e;;){var a=n.tag;if((0===a||11===a||15===a)&&16384&n.flags&&(null!==(a=n.updateQueue)&&null!==(a=a.stores)))for(var t=0;t<a.length;t++){var r=a[t],l=r.getSnapshot;r=r.value;try{if(!Ja(l(),r))return!1}catch(i){return!1}}if(a=n.child,16384&n.subtreeFlags&&null!==a)a.return=n,n=a;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Fc(e,n,a,t){n&=~hc,n&=~pc,e.suspendedLanes|=n,e.pingedLanes&=~n,t&&(e.warmLanes|=n),t=e.expirationTimes;for(var r=n;0<r;){var l=31-fe(r),i=1<<l;t[l]=-1,r&=~i}0!==a&&ke(e,a,n)}function qc(){return 0!==(6&ac)||(_u(0,!1),!1)}function Hc(){if(null!==rc){if(0===ic)var e=rc.return;else br=gr=null,Dl(e=rc),Qi=null,Ji=0,e=rc;for(;null!==e;)ro(e.alternate,e),e=e.return;rc=null}}function Bc(e,n){var a=e.timeoutHandle;-1!==a&&(e.timeoutHandle=-1,cd(a)),null!==(a=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,a()),Hc(),tc=e,rc=a=Mt(e.current,null),lc=n,ic=0,sc=null,oc=!1,cc=xe(e,n),uc=!1,gc=vc=hc=pc=fc=mc=0,yc=bc=null,xc=!1,0!==(8&n)&&(n|=32&n);var t=e.entangledLanes;if(0!==t)for(e=e.entanglements,t&=n;0<t;){var r=31-fe(t),l=1<<r;n|=e[r],t&=~l}return dc=n,Ct(),a}function Vc(e,n){yl=null,A.H=Vi,n===Wr||n===$r?(n=Zr(),ic=3):n===Gr?(n=Zr(),ic=4):ic=n===ws?8:null!==n&&"object"===typeof n&&"function"===typeof n.then?6:1,sc=n,null===rc&&(mc=1,xs(e,St(n,e.current)))}function Wc(){var e=A.H;return A.H=Vi,null===e?Vi:e}function Gc(){var e=A.A;return A.A=ec,e}function $c(){mc=4,oc||(4194048&lc)!==lc&&null!==ts.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===tc||Fc(tc,lc,vc,!1)}function Qc(e,n,a){var t=ac;ac|=2;var r=Wc(),l=Gc();tc===e&&lc===n||(_c=null,Bc(e,n)),n=!1;var i=mc;e:for(;;)try{if(0!==ic&&null!==rc){var s=rc,o=sc;switch(ic){case 8:Hc(),i=6;break e;case 3:case 2:case 9:case 6:null===ts.current&&(n=!0);var c=ic;if(ic=0,sc=null,Zc(e,s,o,c),a&&cc){i=0;break e}break;default:c=ic,ic=0,sc=null,Zc(e,s,o,c)}}Jc(),i=mc;break}catch(u){Vc(e,u)}return n&&e.shellSuspendCounter++,br=gr=null,ac=t,A.H=r,A.A=l,null===rc&&(tc=null,lc=0,Ct()),i}function Jc(){for(;null!==rc;)Yc(rc)}function Kc(){for(;null!==rc&&!Z();)Yc(rc)}function Yc(e){var n=Ks(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===n?eu(e):rc=n}function Xc(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Rs(a,n,n.pendingProps,n.type,void 0,lc);break;case 11:n=Rs(a,n,n.pendingProps,n.type.render,n.ref,lc);break;case 5:Dl(n);default:ro(a,n),n=Ks(a,n=rc=It(n,dc),dc)}e.memoizedProps=e.pendingProps,null===n?eu(e):rc=n}function Zc(e,n,a,t){br=gr=null,Dl(n),Qi=null,Ji=0;var r=n.return;try{if(function(e,n,a,t,r){if(a.flags|=32768,null!==t&&"object"===typeof t&&"function"===typeof t.then){if(null!==(n=a.alternate)&&_r(n,a,r,!0),null!==(a=ts.current)){switch(a.tag){case 13:return null===rs?$c():null===a.alternate&&0===mc&&(mc=3),a.flags&=-257,a.flags|=65536,a.lanes=r,t===Qr?a.flags|=16384:(null===(n=a.updateQueue)?a.updateQueue=new Set([t]):n.add(t),du(e,t,r)),!1;case 22:return a.flags|=65536,t===Qr?a.flags|=16384:(null===(n=a.updateQueue)?(n={transitions:null,markerInstances:null,retryQueue:new Set([t])},a.updateQueue=n):null===(a=n.retryQueue)?n.retryQueue=new Set([t]):a.add(t),du(e,t,r)),!1}throw Error(i(435,a.tag))}return du(e,t,r),$c(),!1}if(lr)return null!==(n=ts.current)?(0===(65536&n.flags)&&(n.flags|=256),n.flags|=65536,n.lanes=r,t!==or&&hr(St(e=Error(i(422),{cause:t}),a))):(t!==or&&hr(St(n=Error(i(423),{cause:t}),a)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,t=St(t,a),sl(e,r=Ns(e.stateNode,t,r)),4!==mc&&(mc=2)),!1;var l=Error(i(520),{cause:t});if(l=St(l,a),null===bc?bc=[l]:bc.push(l),4!==mc&&(mc=2),null===n)return!0;t=St(t,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,sl(a,e=Ns(a.stateNode,t,e)),!1;case 1:if(n=a.type,l=a.stateNode,0===(128&a.flags)&&("function"===typeof n.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===Sc||!Sc.has(l))))return a.flags|=65536,r&=-r,a.lanes|=r,Ss(r=_s(r),e,a,t),sl(a,r),!1}a=a.return}while(null!==a);return!1}(e,r,n,a,lc))return mc=1,xs(e,St(a,e.current)),void(rc=null)}catch(l){if(null!==r)throw rc=r,l;return mc=1,xs(e,St(a,e.current)),void(rc=null)}32768&n.flags?(lr||1===t?e=!0:cc||0!==(536870912&lc)?e=!1:(oc=e=!0,(2===t||9===t||3===t||6===t)&&(null!==(t=ts.current)&&13===t.tag&&(t.flags|=16384))),nu(n,e)):eu(n)}function eu(e){var n=e;do{if(0!==(32768&n.flags))return void nu(n,oc);e=n.return;var a=ao(n.alternate,n,dc);if(null!==a)return void(rc=a);if(null!==(n=n.sibling))return void(rc=n);rc=n=e}while(null!==n);0===mc&&(mc=5)}function nu(e,n){do{var a=to(e.alternate,e);if(null!==a)return a.flags&=32767,void(rc=a);if(null!==(a=e.return)&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&null!==(e=e.sibling))return void(rc=e);rc=e=a}while(null!==e);mc=6,rc=null}function au(e,n,a,t,r,l,s,o,c){e.cancelPendingCommit=null;do{su()}while(0!==wc);if(0!==(6&ac))throw Error(i(327));if(null!==n){if(n===e.current)throw Error(i(177));if(l=n.lanes|n.childLanes,function(e,n,a,t,r,l){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var s=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(a=i&~a;0<a;){var u=31-fe(a),d=1<<u;s[u]=0,o[u]=-1;var m=c[u];if(null!==m)for(c[u]=null,u=0;u<m.length;u++){var f=m[u];null!==f&&(f.lane&=-536870913)}a&=~d}0!==t&&ke(e,t,0),0!==l&&0===r&&0!==e.tag&&(e.suspendedLanes|=l&~(i&~n))}(e,a,l|=Et,s,o,c),e===tc&&(rc=tc=null,lc=0),Ec=n,kc=e,Cc=a,Pc=l,Lc=r,zc=t,0!==(10256&n.subtreeFlags)||0!==(10256&n.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(le,function(){return ou(),null})):(e.callbackNode=null,e.callbackPriority=0),t=0!==(13878&n.flags),0!==(13878&n.subtreeFlags)||t){t=A.T,A.T=null,r=R.p,R.p=2,s=ac,ac|=4;try{!function(e,n){if(e=e.containerInfo,nd=am,nt(e=et(e))){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var t=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(t&&0!==t.rangeCount){a=t.anchorNode;var r=t.anchorOffset,l=t.focusNode;t=t.focusOffset;try{a.nodeType,l.nodeType}catch(v){a=null;break e}var s=0,o=-1,c=-1,u=0,d=0,m=e,f=null;n:for(;;){for(var p;m!==a||0!==r&&3!==m.nodeType||(o=s+r),m!==l||0!==t&&3!==m.nodeType||(c=s+t),3===m.nodeType&&(s+=m.nodeValue.length),null!==(p=m.firstChild);)f=m,m=p;for(;;){if(m===e)break n;if(f===a&&++u===r&&(o=s),f===l&&++d===t&&(c=s),null!==(p=m.nextSibling))break;f=(m=f).parentNode}m=p}a=-1===o||-1===c?null:{start:o,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:e,selectionRange:a},am=!1,_o=n;null!==_o;)if(e=(n=_o).child,0!==(1024&n.subtreeFlags)&&null!==e)e.return=n,_o=e;else for(;null!==_o;){switch(l=(n=_o).alternate,e=n.flags,n.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,a=n,r=l.memoizedProps,l=l.memoizedState,t=a.stateNode;try{var h=hs(a.type,r,(a.elementType,a.type));e=t.getSnapshotBeforeUpdate(h,l),t.__reactInternalSnapshotBeforeUpdate=e}catch(g){uu(a,a.return,g)}}break;case 3:if(0!==(1024&e))if(9===(a=(e=n.stateNode.containerInfo).nodeType))hd(e);else if(1===a)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=n.sibling)){e.return=n.return,_o=e;break}_o=n.return}}(e,n)}finally{ac=s,R.p=r,A.T=t}}wc=1,tu(),ru(),lu()}}function tu(){if(1===wc){wc=0;var e=kc,n=Ec,a=0!==(13878&n.flags);if(0!==(13878&n.subtreeFlags)||a){a=A.T,A.T=null;var t=R.p;R.p=2;var r=ac;ac|=4;try{Ao(n,e);var l=ad,i=et(e.containerInfo),s=l.focusedElem,o=l.selectionRange;if(i!==s&&s&&s.ownerDocument&&Za(s.ownerDocument.documentElement,s)){if(null!==o&&nt(s)){var c=o.start,u=o.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,m=d&&d.defaultView||window;if(m.getSelection){var f=m.getSelection(),p=s.textContent.length,h=Math.min(o.start,p),v=void 0===o.end?h:Math.min(o.end,p);!f.extend&&h>v&&(i=v,v=h,h=i);var g=Xa(s,h),b=Xa(s,v);if(g&&b&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==b.node||f.focusOffset!==b.offset)){var y=d.createRange();y.setStart(g.node,g.offset),f.removeAllRanges(),h>v?(f.addRange(y),f.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),f.addRange(y))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}am=!!nd,ad=nd=null}finally{ac=r,R.p=t,A.T=a}}e.current=n,wc=2}}function ru(){if(2===wc){wc=0;var e=kc,n=Ec,a=0!==(8772&n.flags);if(0!==(8772&n.subtreeFlags)||a){a=A.T,A.T=null;var t=R.p;R.p=2;var r=ac;ac|=4;try{So(e,n.alternate,n)}finally{ac=r,R.p=t,A.T=a}}wc=3}}function lu(){if(4===wc||3===wc){wc=0,ee();var e=kc,n=Ec,a=Cc,t=zc;0!==(10256&n.subtreeFlags)||0!==(10256&n.flags)?wc=5:(wc=0,Ec=kc=null,iu(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Sc=null),Pe(a),n=n.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,n,void 0,128===(128&n.current.flags))}catch(o){}if(null!==t){n=A.T,r=R.p,R.p=2,A.T=null;try{for(var l=e.onRecoverableError,i=0;i<t.length;i++){var s=t[i];l(s.value,{componentStack:s.stack})}}finally{A.T=n,R.p=r}}0!==(3&Cc)&&su(),Nu(e),r=e.pendingLanes,0!==(4194090&a)&&0!==(42&r)?e===Tc?Oc++:(Oc=0,Tc=e):Oc=0,_u(0,!1)}}function iu(e,n){0===(e.pooledCacheLanes&=n)&&(null!=(n=e.pooledCache)&&(e.pooledCache=null,Ar(n)))}function su(e){return tu(),ru(),lu(),ou()}function ou(){if(5!==wc)return!1;var e=kc,n=Pc;Pc=0;var a=Pe(Cc),t=A.T,r=R.p;try{R.p=32>a?32:a,A.T=null,a=Lc,Lc=null;var l=kc,s=Cc;if(wc=0,Ec=kc=null,Cc=0,0!==(6&ac))throw Error(i(331));var o=ac;if(ac|=4,Yo(l.current),Bo(l,l.current,s,a),ac=o,_u(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,l)}catch(c){}return!0}finally{R.p=r,A.T=t,iu(e,n)}}function cu(e,n,a){n=St(a,n),null!==(e=ll(e,n=Ns(e.stateNode,n,2),2))&&(we(e,2),Nu(e))}function uu(e,n,a){if(3===e.tag)cu(e,e,a);else for(;null!==n;){if(3===n.tag){cu(n,e,a);break}if(1===n.tag){var t=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof t.componentDidCatch&&(null===Sc||!Sc.has(t))){e=St(a,e),null!==(t=ll(n,a=_s(2),2))&&(Ss(a,t,n,e),we(t,2),Nu(t));break}}n=n.return}}function du(e,n,a){var t=e.pingCache;if(null===t){t=e.pingCache=new nc;var r=new Set;t.set(n,r)}else void 0===(r=t.get(n))&&(r=new Set,t.set(n,r));r.has(a)||(uc=!0,r.add(a),e=mu.bind(null,e,n,a),n.then(e,e))}function mu(e,n,a){var t=e.pingCache;null!==t&&t.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,tc===e&&(lc&a)===a&&(4===mc||3===mc&&(62914560&lc)===lc&&300>ne()-jc?0===(2&ac)&&Bc(e,0):hc|=a,gc===lc&&(gc=0)),Nu(e)}function fu(e,n){0===n&&(n=_e()),null!==(e=zt(e,n))&&(we(e,n),Nu(e))}function pu(e){var n=e.memoizedState,a=0;null!==n&&(a=n.retryLane),fu(e,a)}function hu(e,n){var a=0;switch(e.tag){case 13:var t=e.stateNode,r=e.memoizedState;null!==r&&(a=r.retryLane);break;case 19:t=e.stateNode;break;case 22:t=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==t&&t.delete(n),fu(e,a)}var vu=null,gu=null,bu=!1,yu=!1,xu=!1,ju=0;function Nu(e){e!==gu&&null===e.next&&(null===gu?vu=gu=e:gu=gu.next=e),yu=!0,bu||(bu=!0,dd(function(){0!==(6&ac)?Y(te,Su):wu()}))}function _u(e,n){if(!xu&&yu){xu=!0;do{for(var a=!1,t=vu;null!==t;){if(!n)if(0!==e){var r=t.pendingLanes;if(0===r)var l=0;else{var i=t.suspendedLanes,s=t.pingedLanes;l=(1<<31-fe(42|e)+1)-1,l=201326741&(l&=r&~(i&~s))?201326741&l|1:l?2|l:0}0!==l&&(a=!0,Cu(t,l))}else l=lc,0===(3&(l=ye(t,t===tc?l:0,null!==t.cancelPendingCommit||-1!==t.timeoutHandle)))||xe(t,l)||(a=!0,Cu(t,l));t=t.next}}while(a);xu=!1}}function Su(){wu()}function wu(){yu=bu=!1;var e=0;0!==ju&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=ju),ju=0);for(var n=ne(),a=null,t=vu;null!==t;){var r=t.next,l=ku(t,n);0===l?(t.next=null,null===a?vu=r:a.next=r,null===r&&(gu=a)):(a=t,(0!==e||0!==(3&l))&&(yu=!0)),t=r}_u(e,!1)}function ku(e,n){for(var a=e.suspendedLanes,t=e.pingedLanes,r=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var i=31-fe(l),s=1<<i,o=r[i];-1===o?0!==(s&a)&&0===(s&t)||(r[i]=je(s,n)):o<=n&&(e.expiredLanes|=s),l&=~s}if(a=lc,a=ye(e,e===(n=tc)?a:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),t=e.callbackNode,0===a||e===n&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==t&&null!==t&&X(t),e.callbackNode=null,e.callbackPriority=0;if(0===(3&a)||xe(e,a)){if((n=a&-a)===e.callbackPriority)return n;switch(null!==t&&X(t),Pe(a)){case 2:case 8:a=re;break;case 32:default:a=le;break;case 268435456:a=se}return t=Eu.bind(null,e),a=Y(a,t),e.callbackPriority=n,e.callbackNode=a,n}return null!==t&&null!==t&&X(t),e.callbackPriority=2,e.callbackNode=null,2}function Eu(e,n){if(0!==wc&&5!==wc)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(su()&&e.callbackNode!==a)return null;var t=lc;return 0===(t=ye(e,e===tc?t:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Dc(e,t,n),ku(e,ne()),null!=e.callbackNode&&e.callbackNode===a?Eu.bind(null,e):null)}function Cu(e,n){if(su())return null;Dc(e,n,!0)}function Pu(){return 0===ju&&(ju=Ne()),ju}function Lu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ln(""+e)}function zu(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}for(var Ou=0;Ou<jt.length;Ou++){var Tu=jt[Ou];Nt(Tu.toLowerCase(),"on"+(Tu[0].toUpperCase()+Tu.slice(1)))}Nt(ft,"onAnimationEnd"),Nt(pt,"onAnimationIteration"),Nt(ht,"onAnimationStart"),Nt("dblclick","onDoubleClick"),Nt("focusin","onFocus"),Nt("focusout","onBlur"),Nt(vt,"onTransitionRun"),Nt(gt,"onTransitionStart"),Nt(bt,"onTransitionCancel"),Nt(yt,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),Qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Uu(e,n){n=0!==(4&n);for(var a=0;a<e.length;a++){var t=e[a],r=t.event;t=t.listeners;e:{var l=void 0;if(n)for(var i=t.length-1;0<=i;i--){var s=t[i],o=s.instance,c=s.currentTarget;if(s=s.listener,o!==l&&r.isPropagationStopped())break e;l=s,r.currentTarget=c;try{l(r)}catch(u){vs(u)}r.currentTarget=null,l=o}else for(i=0;i<t.length;i++){if(o=(s=t[i]).instance,c=s.currentTarget,s=s.listener,o!==l&&r.isPropagationStopped())break e;l=s,r.currentTarget=c;try{l(r)}catch(u){vs(u)}r.currentTarget=null,l=o}}}}function Du(e,n){var a=n[Re];void 0===a&&(a=n[Re]=new Set);var t=e+"__bubble";a.has(t)||(qu(n,e,2,!1),a.add(t))}function Mu(e,n,a){var t=0;n&&(t|=4),qu(a,e,t,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function Fu(e){if(!e[Iu]){e[Iu]=!0,Ge.forEach(function(n){"selectionchange"!==n&&(Ru.has(n)||Mu(n,!1,e),Mu(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[Iu]||(n[Iu]=!0,Mu("selectionchange",!1,n))}}function qu(e,n,a,t){switch(cm(n)){case 2:var r=tm;break;case 8:r=rm;break;default:r=lm}a=r.bind(null,n,a,e),r=void 0,!Fn||"touchstart"!==n&&"touchmove"!==n&&"wheel"!==n||(r=!0),t?void 0!==r?e.addEventListener(n,a,{capture:!0,passive:r}):e.addEventListener(n,a,!0):void 0!==r?e.addEventListener(n,a,{passive:r}):e.addEventListener(n,a,!1)}function Hu(e,n,a,t,r){var l=t;if(0===(1&n)&&0===(2&n)&&null!==t)e:for(;;){if(null===t)return;var i=t.tag;if(3===i||4===i){var s=t.stateNode.containerInfo;if(s===r)break;if(4===i)for(i=t.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===r)return;i=i.return}for(;null!==s;){if(null===(i=qe(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){t=l=i;continue e}s=s.parentNode}}t=t.return}Dn(function(){var t=l,r=On(a),i=[];e:{var s=xt.get(e);if(void 0!==s){var c=ea,u=e;switch(e){case"keypress":if(0===Gn(a))break e;case"keydown":case"keyup":c=ha;break;case"focusin":u="focus",c=ia;break;case"focusout":u="blur",c=ia;break;case"beforeblur":case"afterblur":c=ia;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=la;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=ga;break;case ft:case pt:case ht:c=sa;break;case yt:c=ba;break;case"scroll":case"scrollend":c=aa;break;case"wheel":c=ya;break;case"copy":case"cut":case"paste":c=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=va;break;case"toggle":case"beforetoggle":c=xa}var d=0!==(4&n),m=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var p,h=t;null!==h;){var v=h;if(p=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===p||null===f||null!=(v=Mn(h,f))&&d.push(Bu(h,v,p)),m)break;h=h.return}0<d.length&&(s=new c(s,u,null,a,r),i.push({event:s,listeners:d}))}}if(0===(7&n)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||a===zn||!(u=a.relatedTarget||a.fromElement)||!qe(u)&&!u[Ae])&&(c||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=t,null!==(u=(u=a.relatedTarget||a.toElement)?qe(u):null)&&(m=o(u),d=u.tag,u!==m||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=t),c!==u)){if(d=ra,v="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=va,v="onPointerLeave",f="onPointerEnter",h="pointer"),m=null==c?s:Be(c),p=null==u?s:Be(u),(s=new d(v,h+"leave",c,a,r)).target=m,s.relatedTarget=p,v=null,qe(r)===t&&((d=new d(f,h+"enter",u,a,r)).target=p,d.relatedTarget=m,v=d),m=v,c&&u)e:{for(f=u,h=0,p=d=c;p;p=Wu(p))h++;for(p=0,v=f;v;v=Wu(v))p++;for(;0<h-p;)d=Wu(d),h--;for(;0<p-h;)f=Wu(f),p--;for(;h--;){if(d===f||null!==f&&d===f.alternate)break e;d=Wu(d),f=Wu(f)}d=null}else d=null;null!==c&&Gu(i,s,c,d,!1),null!==u&&null!==m&&Gu(i,m,u,d,!0)}if("select"===(c=(s=t?Be(t):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var g=Ma;else if(Oa(s))if(Ia)g=Qa;else{g=Ga;var b=Wa}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?t&&En(t.elementType)&&(g=Ma):g=$a;switch(g&&(g=g(e,t))?Ta(i,g,a,r):(b&&b(e,s,t),"focusout"===e&&t&&"number"===s.type&&null!=t.memoizedProps.value&&yn(s,"number",s.value)),b=t?Be(t):window,e){case"focusin":(Oa(b)||"true"===b.contentEditable)&&(tt=b,rt=t,lt=null);break;case"focusout":lt=rt=tt=null;break;case"mousedown":it=!0;break;case"contextmenu":case"mouseup":case"dragend":it=!1,st(i,a,r);break;case"selectionchange":if(at)break;case"keydown":case"keyup":st(i,a,r)}var y;if(Na)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else La?Ca(e,a)&&(x="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(x="onCompositionStart");x&&(wa&&"ko"!==a.locale&&(La||"onCompositionStart"!==x?"onCompositionEnd"===x&&La&&(y=Wn()):(Bn="value"in(Hn=r)?Hn.value:Hn.textContent,La=!0)),0<(b=Vu(t,x)).length&&(x=new ca(x,e,null,a,r),i.push({event:x,listeners:b}),y?x.data=y:null!==(y=Pa(a))&&(x.data=y))),(y=Sa?function(e,n){switch(e){case"compositionend":return Pa(n);case"keypress":return 32!==n.which?null:(Ea=!0,ka);case"textInput":return(e=n.data)===ka&&Ea?null:e;default:return null}}(e,a):function(e,n){if(La)return"compositionend"===e||!Na&&Ca(e,n)?(e=Wn(),Vn=Bn=Hn=null,La=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return wa&&"ko"!==n.locale?null:n.data}}(e,a))&&(0<(x=Vu(t,"onBeforeInput")).length&&(b=new ca("onBeforeInput","beforeinput",null,a,r),i.push({event:b,listeners:x}),b.data=y)),function(e,n,a,t,r){if("submit"===n&&a&&a.stateNode===r){var l=Lu((r[Te]||null).action),i=t.submitter;i&&null!==(n=(n=i[Te]||null)?Lu(n.formAction):i.getAttribute("formAction"))&&(l=n,i=null);var s=new ea("action","action",null,t,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(t.defaultPrevented){if(0!==ju){var e=i?zu(r,i):new FormData(r);Li(a,{pending:!0,data:e,method:r.method,action:l},null,e)}}else"function"===typeof l&&(s.preventDefault(),e=i?zu(r,i):new FormData(r),Li(a,{pending:!0,data:e,method:r.method,action:l},l,e))},currentTarget:r}]})}}(i,e,t,a,r)}Uu(i,n)})}function Bu(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Vu(e,n){for(var a=n+"Capture",t=[];null!==e;){var r=e,l=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===l||(null!=(r=Mn(e,a))&&t.unshift(Bu(e,r,l)),null!=(r=Mn(e,n))&&t.push(Bu(e,r,l))),3===e.tag)return t;e=e.return}return[]}function Wu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gu(e,n,a,t,r){for(var l=n._reactName,i=[];null!==a&&a!==t;){var s=a,o=s.alternate,c=s.stateNode;if(s=s.tag,null!==o&&o===t)break;5!==s&&26!==s&&27!==s||null===c||(o=c,r?null!=(c=Mn(a,l))&&i.unshift(Bu(a,c,o)):r||null!=(c=Mn(a,l))&&i.push(Bu(a,c,o))),a=a.return}0!==i.length&&e.push({event:n,listeners:i})}var $u=/\r\n?/g,Qu=/\u0000|\uFFFD/g;function Ju(e){return("string"===typeof e?e:""+e).replace($u,"\n").replace(Qu,"")}function Ku(e,n){return n=Ju(n),Ju(e)===n}function Yu(){}function Xu(e,n,a,t,r,l){switch(a){case"children":"string"===typeof t?"body"===n||"textarea"===n&&""===t||_n(e,t):("number"===typeof t||"bigint"===typeof t)&&"body"!==n&&_n(e,""+t);break;case"className":an(e,"class",t);break;case"tabIndex":an(e,"tabindex",t);break;case"dir":case"role":case"viewBox":case"width":case"height":an(e,a,t);break;case"style":kn(e,t,l);break;case"data":if("object"!==n){an(e,"data",t);break}case"src":case"href":if(""===t&&("a"!==n||"href"!==a)){e.removeAttribute(a);break}if(null==t||"function"===typeof t||"symbol"===typeof t||"boolean"===typeof t){e.removeAttribute(a);break}t=Ln(""+t),e.setAttribute(a,t);break;case"action":case"formAction":if("function"===typeof t){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===a?("input"!==n&&Xu(e,n,"name",r.name,r,null),Xu(e,n,"formEncType",r.formEncType,r,null),Xu(e,n,"formMethod",r.formMethod,r,null),Xu(e,n,"formTarget",r.formTarget,r,null)):(Xu(e,n,"encType",r.encType,r,null),Xu(e,n,"method",r.method,r,null),Xu(e,n,"target",r.target,r,null))),null==t||"symbol"===typeof t||"boolean"===typeof t){e.removeAttribute(a);break}t=Ln(""+t),e.setAttribute(a,t);break;case"onClick":null!=t&&(e.onclick=Yu);break;case"onScroll":null!=t&&Du("scroll",e);break;case"onScrollEnd":null!=t&&Du("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=t){if("object"!==typeof t||!("__html"in t))throw Error(i(61));if(null!=(a=t.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=t&&"function"!==typeof t&&"symbol"!==typeof t;break;case"muted":e.muted=t&&"function"!==typeof t&&"symbol"!==typeof t;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==t||"function"===typeof t||"boolean"===typeof t||"symbol"===typeof t){e.removeAttribute("xlink:href");break}a=Ln(""+t),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=t&&"function"!==typeof t&&"symbol"!==typeof t?e.setAttribute(a,""+t):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":t&&"function"!==typeof t&&"symbol"!==typeof t?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":!0===t?e.setAttribute(a,""):!1!==t&&null!=t&&"function"!==typeof t&&"symbol"!==typeof t?e.setAttribute(a,t):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":null!=t&&"function"!==typeof t&&"symbol"!==typeof t&&!isNaN(t)&&1<=t?e.setAttribute(a,t):e.removeAttribute(a);break;case"rowSpan":case"start":null==t||"function"===typeof t||"symbol"===typeof t||isNaN(t)?e.removeAttribute(a):e.setAttribute(a,t);break;case"popover":Du("beforetoggle",e),Du("toggle",e),nn(e,"popover",t);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",t);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",t);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",t);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",t);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",t);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",t);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",t);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",t);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",t);break;case"is":nn(e,"is",t);break;case"innerText":case"textContent":break;default:(!(2<a.length)||"o"!==a[0]&&"O"!==a[0]||"n"!==a[1]&&"N"!==a[1])&&nn(e,a=Cn.get(a)||a,t)}}function Zu(e,n,a,t,r,l){switch(a){case"style":kn(e,t,l);break;case"dangerouslySetInnerHTML":if(null!=t){if("object"!==typeof t||!("__html"in t))throw Error(i(61));if(null!=(a=t.__html)){if(null!=r.children)throw Error(i(60));e.innerHTML=a}}break;case"children":"string"===typeof t?_n(e,t):("number"===typeof t||"bigint"===typeof t)&&_n(e,""+t);break;case"onScroll":null!=t&&Du("scroll",e);break;case"onScrollEnd":null!=t&&Du("scrollend",e);break;case"onClick":null!=t&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:$e.hasOwnProperty(a)||("o"!==a[0]||"n"!==a[1]||(r=a.endsWith("Capture"),n=a.slice(2,r?a.length-7:void 0),"function"===typeof(l=null!=(l=e[Te]||null)?l[a]:null)&&e.removeEventListener(n,l,r),"function"!==typeof t)?a in e?e[a]=t:!0===t?e.setAttribute(a,""):nn(e,a,t):("function"!==typeof l&&null!==l&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,t,r)))}}function ed(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Du("error",e),Du("load",e);var t,r=!1,l=!1;for(t in a)if(a.hasOwnProperty(t)){var s=a[t];if(null!=s)switch(t){case"src":r=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Xu(e,n,t,s,a,null)}}return l&&Xu(e,n,"srcSet",a.srcSet,a,null),void(r&&Xu(e,n,"src",a.src,a,null));case"input":Du("invalid",e);var o=t=s=l=null,c=null,u=null;for(r in a)if(a.hasOwnProperty(r)){var d=a[r];if(null!=d)switch(r){case"name":l=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":t=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,n));break;default:Xu(e,n,r,d,a,null)}}return bn(e,t,o,c,u,s,l,!1),void mn(e);case"select":for(l in Du("invalid",e),r=s=t=null,a)if(a.hasOwnProperty(l)&&null!=(o=a[l]))switch(l){case"value":t=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Xu(e,n,l,o,a,null)}return n=t,a=s,e.multiple=!!r,void(null!=n?xn(e,!!r,n,!1):null!=a&&xn(e,!!r,a,!0));case"textarea":for(s in Du("invalid",e),t=l=r=null,a)if(a.hasOwnProperty(s)&&null!=(o=a[s]))switch(s){case"value":r=o;break;case"defaultValue":l=o;break;case"children":t=o;break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:Xu(e,n,s,o,a,null)}return Nn(e,r,l,t),void mn(e);case"option":for(c in a)if(a.hasOwnProperty(c)&&null!=(r=a[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Xu(e,n,c,r,a,null);return;case"dialog":Du("beforetoggle",e),Du("toggle",e),Du("cancel",e),Du("close",e);break;case"iframe":case"object":Du("load",e);break;case"video":case"audio":for(r=0;r<Au.length;r++)Du(Au[r],e);break;case"image":Du("error",e),Du("load",e);break;case"details":Du("toggle",e);break;case"embed":case"source":case"link":Du("error",e),Du("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&null!=(r=a[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:Xu(e,n,u,r,a,null)}return;default:if(En(n)){for(d in a)a.hasOwnProperty(d)&&(void 0!==(r=a[d])&&Zu(e,n,d,r,a,void 0));return}}for(o in a)a.hasOwnProperty(o)&&(null!=(r=a[o])&&Xu(e,n,o,r,a,null))}var nd=null,ad=null;function td(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,n){if(0===e)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===n?0:e}function id(e,n){return"textarea"===e||"noscript"===e||"string"===typeof n.children||"number"===typeof n.children||"bigint"===typeof n.children||"object"===typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var sd=null;var od="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(md)}:od;function md(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function pd(e,n){var a=n,t=0,r=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&8===l.nodeType)if("/$"===(a=l.data)){if(0<t&&8>t){a=t;var i=e.ownerDocument;if(1&a&&jd(i.documentElement),2&a&&jd(i.body),4&a)for(jd(a=i.head),i=a.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[Ie]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||a.removeChild(i),i=s}}if(0===r)return e.removeChild(l),void Em(n);r--}else"$"===a||"$?"===a||"$!"===a?r++:t=a.charCodeAt(0)-48;else t=0;a=l}while(a);Em(n)}function hd(e){var n=e.firstChild;for(n&&10===n.nodeType&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hd(a),Fe(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===a.rel.toLowerCase())continue}e.removeChild(a)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n||"F!"===n||"F"===n)break;if("/$"===n)return null}}return e}var bd=null;function yd(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===n)return e;n--}else"/$"===a&&n++}e=e.previousSibling}return null}function xd(e,n,a){switch(n=td(a),e){case"html":if(!(e=n.documentElement))throw Error(i(452));return e;case"head":if(!(e=n.head))throw Error(i(453));return e;case"body":if(!(e=n.body))throw Error(i(454));return e;default:throw Error(i(451))}}function jd(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Fe(e)}var Nd=new Map,_d=new Set;function Sd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var wd=R.d;R.d={f:function(){var e=wd.f(),n=qc();return e||n},r:function(e){var n=He(e);null!==n&&5===n.tag&&"form"===n.type?Oi(n):wd.r(e)},D:function(e){wd.D(e),Ed("dns-prefetch",e,null)},C:function(e,n){wd.C(e,n),Ed("preconnect",e,n)},L:function(e,n,a){wd.L(e,n,a);var t=kd;if(t&&e&&n){var r='link[rel="preload"][as="'+vn(n)+'"]';"image"===n&&a&&a.imageSrcSet?(r+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',"string"===typeof a.imageSizes&&(r+='[imagesizes="'+vn(a.imageSizes)+'"]')):r+='[href="'+vn(e)+'"]';var l=r;switch(n){case"style":l=Pd(e);break;case"script":l=Od(e)}Nd.has(l)||(e=m({rel:"preload",href:"image"===n&&a&&a.imageSrcSet?void 0:e,as:n},a),Nd.set(l,e),null!==t.querySelector(r)||"style"===n&&t.querySelector(Ld(l))||"script"===n&&t.querySelector(Td(l))||(ed(n=t.createElement("link"),"link",e),We(n),t.head.appendChild(n)))}},m:function(e,n){wd.m(e,n);var a=kd;if(a&&e){var t=n&&"string"===typeof n.as?n.as:"script",r='link[rel="modulepreload"][as="'+vn(t)+'"][href="'+vn(e)+'"]',l=r;switch(t){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Od(e)}if(!Nd.has(l)&&(e=m({rel:"modulepreload",href:e},n),Nd.set(l,e),null===a.querySelector(r))){switch(t){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Td(l)))return}ed(t=a.createElement("link"),"link",e),We(t),a.head.appendChild(t)}}},X:function(e,n){wd.X(e,n);var a=kd;if(a&&e){var t=Ve(a).hoistableScripts,r=Od(e),l=t.get(r);l||((l=a.querySelector(Td(r)))||(e=m({src:e,async:!0},n),(n=Nd.get(r))&&Dd(e,n),We(l=a.createElement("script")),ed(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},t.set(r,l))}},S:function(e,n,a){wd.S(e,n,a);var t=kd;if(t&&e){var r=Ve(t).hoistableStyles,l=Pd(e);n=n||"default";var i=r.get(l);if(!i){var s={loading:0,preload:null};if(i=t.querySelector(Ld(l)))s.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Nd.get(l))&&Ud(e,a);var o=i=t.createElement("link");We(o),ed(o,"link",e),o._p=new Promise(function(e,n){o.onload=e,o.onerror=n}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Rd(i,n,t)}i={type:"stylesheet",instance:i,count:1,state:s},r.set(l,i)}}},M:function(e,n){wd.M(e,n);var a=kd;if(a&&e){var t=Ve(a).hoistableScripts,r=Od(e),l=t.get(r);l||((l=a.querySelector(Td(r)))||(e=m({src:e,async:!0,type:"module"},n),(n=Nd.get(r))&&Dd(e,n),We(l=a.createElement("script")),ed(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},t.set(r,l))}}};var kd="undefined"===typeof document?null:document;function Ed(e,n,a){var t=kd;if(t&&"string"===typeof n&&n){var r=vn(n);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof a&&(r+='[crossorigin="'+a+'"]'),_d.has(r)||(_d.add(r),e={rel:e,crossOrigin:a,href:n},null===t.querySelector(r)&&(ed(n=t.createElement("link"),"link",e),We(n),t.head.appendChild(n)))}}function Cd(e,n,a,t){var r,l,s,o,c=(c=V.current)?Sd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof a.precedence&&"string"===typeof a.href?(n=Pd(a.href),(t=(a=Ve(c).hoistableStyles).get(n))||(t={type:"style",instance:null,count:0,state:null},a.set(n,t)),t):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===a.rel&&"string"===typeof a.href&&"string"===typeof a.precedence){e=Pd(a.href);var u=Ve(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Ld(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Nd.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nd.set(e,a),u||(r=c,l=e,s=a,o=d.state,r.querySelector('link[rel="preload"][as="style"]['+l+"]")?o.loading=1:(l=r.createElement("link"),o.preload=l,l.addEventListener("load",function(){return o.loading|=1}),l.addEventListener("error",function(){return o.loading|=2}),ed(l,"link",s),We(l),r.head.appendChild(l))))),n&&null===t)throw Error(i(528,""));return d}if(n&&null!==t)throw Error(i(529,""));return null;case"script":return n=a.async,"string"===typeof(a=a.src)&&n&&"function"!==typeof n&&"symbol"!==typeof n?(n=Od(a),(t=(a=Ve(c).hoistableScripts).get(n))||(t={type:"script",instance:null,count:0,state:null},a.set(n,t)),t):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Pd(e){return'href="'+vn(e)+'"'}function Ld(e){return'link[rel="stylesheet"]['+e+"]"}function zd(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function Od(e){return'[src="'+vn(e)+'"]'}function Td(e){return"script[async]"+e}function Ad(e,n,a){if(n.count++,null===n.instance)switch(n.type){case"style":var t=e.querySelector('style[data-href~="'+vn(a.href)+'"]');if(t)return n.instance=t,We(t),t;var r=m({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return We(t=(e.ownerDocument||e).createElement("style")),ed(t,"style",r),Rd(t,a.precedence,e),n.instance=t;case"stylesheet":r=Pd(a.href);var l=e.querySelector(Ld(r));if(l)return n.state.loading|=4,n.instance=l,We(l),l;t=zd(a),(r=Nd.get(r))&&Ud(t,r),We(l=(e.ownerDocument||e).createElement("link"));var s=l;return s._p=new Promise(function(e,n){s.onload=e,s.onerror=n}),ed(l,"link",t),n.state.loading|=4,Rd(l,a.precedence,e),n.instance=l;case"script":return l=Od(a.src),(r=e.querySelector(Td(l)))?(n.instance=r,We(r),r):(t=a,(r=Nd.get(l))&&Dd(t=m({},a),r),We(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",t),e.head.appendChild(r),n.instance=r);case"void":return null;default:throw Error(i(443,n.type))}else"stylesheet"===n.type&&0===(4&n.state.loading)&&(t=n.instance,n.state.loading|=4,Rd(t,a.precedence,e));return n.instance}function Rd(e,n,a){for(var t=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=t.length?t[t.length-1]:null,l=r,i=0;i<t.length;i++){var s=t[i];if(s.dataset.precedence===n)l=s;else if(l!==r)break}l?l.parentNode.insertBefore(e,l.nextSibling):(n=9===a.nodeType?a.head:a).insertBefore(e,n.firstChild)}function Ud(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.title&&(e.title=n.title)}function Dd(e,n){null==e.crossOrigin&&(e.crossOrigin=n.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),null==e.integrity&&(e.integrity=n.integrity)}var Md=null;function Id(e,n,a){if(null===Md){var t=new Map,r=Md=new Map;r.set(a,t)}else(t=(r=Md).get(a))||(t=new Map,r.set(a,t));if(t.has(e))return t;for(t.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var l=a[r];if(!(l[Ie]||l[Oe]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var i=l.getAttribute(n)||"";i=e+i;var s=t.get(i);s?s.push(l):t.set(i,[l])}}return t}function Fd(e,n,a){(e=e.ownerDocument||e).head.insertBefore(a,"title"===n?e.querySelector("head > title"):null)}function qd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Hd=null;function Bd(){}function Vd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Wd=null;function Gd(e,n){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Wd=new Map,n.forEach($d,e),Wd=null,Vd.call(e))}function $d(e,n){if(!(4&n.state.loading)){var a=Wd.get(e);if(a)var t=a.get(null);else{a=new Map,Wd.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var i=r[l];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(a.set(i.dataset.precedence,i),t=i)}t&&a.set(null,t)}i=(r=n.instance).getAttribute("data-precedence"),(l=a.get(i)||t)===t&&a.set(null,r),a.set(i,r),this.count++,t=Vd.bind(this),r.addEventListener("load",t),r.addEventListener("error",t),l?l.parentNode.insertBefore(r,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),n.state.loading|=4}}var Qd={$$typeof:j,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function Jd(e,n,a,t,r,l,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Se(0),this.hiddenUpdates=Se(null),this.identifierPrefix=t,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Kd(e,n,a,t,r,l,i,s,o,c,u,d){return e=new Jd(e,n,a,i,s,o,c,d),n=1,!0===l&&(n|=24),l=Ut(3,null,null,n),e.current=l,l.stateNode=e,(n=Tr()).refCount++,e.pooledCache=n,n.refCount++,l.memoizedState={element:t,isDehydrated:a,cache:n},al(l),e}function Yd(e){return e?e=At:At}function Xd(e,n,a,t,r,l){r=Yd(r),null===t.context?t.context=r:t.pendingContext=r,(t=rl(n)).payload={element:a},null!==(l=void 0===l?null:l)&&(t.callback=l),null!==(a=ll(e,t,n))&&(Uc(a,0,n),il(a,e,n))}function Zd(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<n?a:n}}function em(e,n){Zd(e,n),(e=e.alternate)&&Zd(e,n)}function nm(e){if(13===e.tag){var n=zt(e,67108864);null!==n&&Uc(n,0,67108864),em(e,67108864)}}var am=!0;function tm(e,n,a,t){var r=A.T;A.T=null;var l=R.p;try{R.p=2,lm(e,n,a,t)}finally{R.p=l,A.T=r}}function rm(e,n,a,t){var r=A.T;A.T=null;var l=R.p;try{R.p=8,lm(e,n,a,t)}finally{R.p=l,A.T=r}}function lm(e,n,a,t){if(am){var r=im(t);if(null===r)Hu(e,n,t,sm,a),bm(e,t);else if(function(e,n,a,t,r){switch(n){case"focusin":return dm=ym(dm,e,n,a,t,r),!0;case"dragenter":return mm=ym(mm,e,n,a,t,r),!0;case"mouseover":return fm=ym(fm,e,n,a,t,r),!0;case"pointerover":var l=r.pointerId;return pm.set(l,ym(pm.get(l)||null,e,n,a,t,r)),!0;case"gotpointercapture":return l=r.pointerId,hm.set(l,ym(hm.get(l)||null,e,n,a,t,r)),!0}return!1}(r,e,n,a,t))t.stopPropagation();else if(bm(e,t),4&n&&-1<gm.indexOf(e)){for(;null!==r;){var l=He(r);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var i=be(l.pendingLanes);if(0!==i){var s=l;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var o=1<<31-fe(i);s.entanglements[1]|=o,i&=~o}Nu(l),0===(6&ac)&&(Nc=ne()+500,_u(0,!1))}}break;case 13:null!==(s=zt(l,2))&&Uc(s,0,2),qc(),em(l,2)}if(null===(l=im(t))&&Hu(e,n,t,sm,a),l===r)break;r=l}null!==r&&t.stopPropagation()}else Hu(e,n,t,null,a)}}function im(e){return om(e=On(e))}var sm=null;function om(e){if(sm=null,null!==(e=qe(e))){var n=o(e);if(null===n)e=null;else{var a=n.tag;if(13===a){if(null!==(e=c(n)))return e;e=null}else if(3===a){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return sm=e,null}function cm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ae()){case te:return 2;case re:return 8;case le:case ie:return 32;case se:return 268435456;default:return 32}default:return 32}}var um=!1,dm=null,mm=null,fm=null,pm=new Map,hm=new Map,vm=[],gm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(e,n){switch(e){case"focusin":case"focusout":dm=null;break;case"dragenter":case"dragleave":mm=null;break;case"mouseover":case"mouseout":fm=null;break;case"pointerover":case"pointerout":pm.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hm.delete(n.pointerId)}}function ym(e,n,a,t,r,l){return null===e||e.nativeEvent!==l?(e={blockedOn:n,domEventName:a,eventSystemFlags:t,nativeEvent:l,targetContainers:[r]},null!==n&&(null!==(n=He(n))&&nm(n)),e):(e.eventSystemFlags|=t,n=e.targetContainers,null!==r&&-1===n.indexOf(r)&&n.push(r),e)}function xm(e){var n=qe(e.target);if(null!==n){var a=o(n);if(null!==a)if(13===(n=a.tag)){if(null!==(n=c(a)))return e.blockedOn=n,void function(e,n){var a=R.p;try{return R.p=e,n()}finally{R.p=a}}(e.priority,function(){if(13===a.tag){var e=Ac();e=Ce(e);var n=zt(a,e);null!==n&&Uc(n,0,e),em(a,e)}})}else if(3===n&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function jm(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var a=im(e.nativeEvent);if(null!==a)return null!==(n=He(a))&&nm(n),e.blockedOn=a,!1;var t=new(a=e.nativeEvent).constructor(a.type,a);zn=t,a.target.dispatchEvent(t),zn=null,n.shift()}return!0}function Nm(e,n,a){jm(e)&&a.delete(n)}function _m(){um=!1,null!==dm&&jm(dm)&&(dm=null),null!==mm&&jm(mm)&&(mm=null),null!==fm&&jm(fm)&&(fm=null),pm.forEach(Nm),hm.forEach(Nm)}function Sm(e,n){e.blockedOn===n&&(e.blockedOn=null,um||(um=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_m)))}var wm=null;function km(e){wm!==e&&(wm=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wm===e&&(wm=null);for(var n=0;n<e.length;n+=3){var a=e[n],t=e[n+1],r=e[n+2];if("function"!==typeof t){if(null===om(t||a))continue;break}var l=He(a);null!==l&&(e.splice(n,3),n-=3,Li(l,{pending:!0,data:r,method:a.method,action:t},t,r))}}))}function Em(e){function n(n){return Sm(n,e)}null!==dm&&Sm(dm,e),null!==mm&&Sm(mm,e),null!==fm&&Sm(fm,e),pm.forEach(n),hm.forEach(n);for(var a=0;a<vm.length;a++){var t=vm[a];t.blockedOn===e&&(t.blockedOn=null)}for(;0<vm.length&&null===(a=vm[0]).blockedOn;)xm(a),null===a.blockedOn&&vm.shift();if(null!=(a=(e.ownerDocument||e).$$reactFormReplay))for(t=0;t<a.length;t+=3){var r=a[t],l=a[t+1],i=r[Te]||null;if("function"===typeof l)i||km(a);else if(i){var s=null;if(l&&l.hasAttribute("formAction")){if(r=l,i=l[Te]||null)s=i.formAction;else if(null!==om(r))continue}else s=i.action;"function"===typeof s?a[t+1]=s:(a.splice(t,3),t-=3),km(a)}}}function Cm(e){this._internalRoot=e}function Pm(e){this._internalRoot=e}Pm.prototype.render=Cm.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(i(409));Xd(n.current,Ac(),e,n,null,null)},Pm.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;Xd(e.current,2,null,e,null,null),qc(),n[Ae]=null}},Pm.prototype.unstable_scheduleHydration=function(e){if(e){var n=Le();e={blockedOn:null,target:e,priority:n};for(var a=0;a<vm.length&&0!==n&&n<vm[a].priority;a++);vm.splice(a,0,e),0===a&&xm(e)}};var Lm=r.version;if("19.1.1"!==Lm)throw Error(i(527,Lm,"19.1.1"));R.findDOMNode=function(e){var n=e._reactInternals;if(void 0===n){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var n=e.alternate;if(!n){if(null===(n=o(e)))throw Error(i(188));return n!==e?null:e}for(var a=e,t=n;;){var r=a.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(t=r.return)){a=t;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return u(r),e;if(l===t)return u(r),n;l=l.sibling}throw Error(i(188))}if(a.return!==t.return)a=r,t=l;else{for(var s=!1,c=r.child;c;){if(c===a){s=!0,a=r,t=l;break}if(c===t){s=!0,t=r,a=l;break}c=c.sibling}if(!s){for(c=l.child;c;){if(c===a){s=!0,a=l,t=r;break}if(c===t){s=!0,t=l,a=r;break}c=c.sibling}if(!s)throw Error(i(189))}}if(a.alternate!==t)throw Error(i(190))}if(3!==a.tag)throw Error(i(188));return a.stateNode.current===a?e:n}(n),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var zm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Om.isDisabled&&Om.supportsFiber)try{ue=Om.inject(zm),de=Om}catch(Am){}}n.createRoot=function(e,n){if(!s(e))throw Error(i(299));var a=!1,t="",r=gs,l=bs,o=ys;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(t=n.identifierPrefix),void 0!==n.onUncaughtError&&(r=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(o=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks),n=Kd(e,1,!1,null,0,a,t,r,l,o,0,null),e[Ae]=n.current,Fu(e),new Cm(n)},n.hydrateRoot=function(e,n,a){if(!s(e))throw Error(i(299));var t=!1,r="",l=gs,o=bs,c=ys,u=null;return null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(t=!0),void 0!==a.identifierPrefix&&(r=a.identifierPrefix),void 0!==a.onUncaughtError&&(l=a.onUncaughtError),void 0!==a.onCaughtError&&(o=a.onCaughtError),void 0!==a.onRecoverableError&&(c=a.onRecoverableError),void 0!==a.unstable_transitionCallbacks&&a.unstable_transitionCallbacks,void 0!==a.formState&&(u=a.formState)),(n=Kd(e,1,!0,n,0,t,r,l,o,c,0,u)).context=Yd(null),a=n.current,(r=rl(t=Ce(t=Ac()))).callback=null,ll(a,r,t),a=t,n.current.lanes=a,we(n,a),Nu(n),e[Ae]=n.current,Fu(e),new Pm(n)},n.version="19.1.1"},43:(e,n,a)=>{e.exports=a(288)},288:(e,n)=>{var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,v={};function g(e,n,a){this.props=e,this.context=n,this.refs=v,this.updater=a||p}function b(){}function y(e,n,a){this.props=e,this.context=n,this.refs=v,this.updater=a||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,n){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var x=y.prototype=new b;x.constructor=y,h(x,g.prototype),x.isPureReactComponent=!0;var j=Array.isArray,N={H:null,A:null,T:null,S:null,V:null},_=Object.prototype.hasOwnProperty;function S(e,n,t,r,l,i){return t=i.ref,{$$typeof:a,type:e,key:n,ref:void 0!==t?t:null,props:i}}function w(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var k=/\/+/g;function E(e,n){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return n[e]})}(""+e.key):n.toString(36)}function C(){}function P(e,n,r,l,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var o,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case a:case t:u=!0;break;case m:return P((u=e._init)(e._payload),n,r,l,i)}}if(u)return i=i(e),u=""===l?"."+E(e,0):l,j(i)?(r="",null!=u&&(r=u.replace(k,"$&/")+"/"),P(i,n,r,"",function(e){return e})):null!=i&&(w(i)&&(o=i,c=r+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+u,i=S(o.type,c,void 0,0,0,o.props)),n.push(i)),1;u=0;var d,p=""===l?".":l+":";if(j(e))for(var h=0;h<e.length;h++)u+=P(l=e[h],n,r,s=p+E(l,h),i);else if("function"===typeof(h=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=h.call(e),h=0;!(l=e.next()).done;)u+=P(l=l.value,n,r,s=p+E(l,h++),i);else if("object"===s){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(n){"pending"===e.status&&(e.status="fulfilled",e.value=n)},function(n){"pending"===e.status&&(e.status="rejected",e.reason=n)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),n,r,l,i);throw n=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.")}return u}function L(e,n,a){if(null==e)return e;var t=[],r=0;return P(e,t,"","",function(e){return n.call(a,e,r++)}),t}function z(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){0!==e._status&&-1!==e._status||(e._status=1,e._result=n)},function(n){0!==e._status&&-1!==e._status||(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function T(){}n.Children={map:L,forEach:function(e,n,a){L(e,function(){n.apply(this,arguments)},a)},count:function(e){var n=0;return L(e,function(){n++}),n},toArray:function(e){return L(e,function(e){return e})||[]},only:function(e){if(!w(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=g,n.Fragment=r,n.Profiler=i,n.PureComponent=y,n.StrictMode=l,n.Suspense=u,n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,n.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},n.cache=function(e){return function(){return e.apply(null,arguments)}},n.cloneElement=function(e,n,a){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var t=h({},e.props),r=e.key;if(null!=n)for(l in void 0!==n.ref&&void 0,void 0!==n.key&&(r=""+n.key),n)!_.call(n,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===n.ref||(t[l]=n[l]);var l=arguments.length-2;if(1===l)t.children=a;else if(1<l){for(var i=Array(l),s=0;s<l;s++)i[s]=arguments[s+2];t.children=i}return S(e.type,r,void 0,0,0,t)},n.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},n.createElement=function(e,n,a){var t,r={},l=null;if(null!=n)for(t in void 0!==n.key&&(l=""+n.key),n)_.call(n,t)&&"key"!==t&&"__self"!==t&&"__source"!==t&&(r[t]=n[t]);var i=arguments.length-2;if(1===i)r.children=a;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}if(e&&e.defaultProps)for(t in i=e.defaultProps)void 0===r[t]&&(r[t]=i[t]);return S(e,l,void 0,0,0,r)},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=w,n.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:z}},n.memo=function(e,n){return{$$typeof:d,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=N.T,a={};N.T=a;try{var t=e(),r=N.S;null!==r&&r(a,t),"object"===typeof t&&null!==t&&"function"===typeof t.then&&t.then(T,O)}catch(l){O(l)}finally{N.T=n}},n.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},n.use=function(e){return N.H.use(e)},n.useActionState=function(e,n,a){return N.H.useActionState(e,n,a)},n.useCallback=function(e,n){return N.H.useCallback(e,n)},n.useContext=function(e){return N.H.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e,n){return N.H.useDeferredValue(e,n)},n.useEffect=function(e,n,a){var t=N.H;if("function"===typeof a)throw Error("useEffect CRUD overload is not enabled in this build of React.");return t.useEffect(e,n)},n.useId=function(){return N.H.useId()},n.useImperativeHandle=function(e,n,a){return N.H.useImperativeHandle(e,n,a)},n.useInsertionEffect=function(e,n){return N.H.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return N.H.useLayoutEffect(e,n)},n.useMemo=function(e,n){return N.H.useMemo(e,n)},n.useOptimistic=function(e,n){return N.H.useOptimistic(e,n)},n.useReducer=function(e,n,a){return N.H.useReducer(e,n,a)},n.useRef=function(e){return N.H.useRef(e)},n.useState=function(e){return N.H.useState(e)},n.useSyncExternalStore=function(e,n,a){return N.H.useSyncExternalStore(e,n,a)},n.useTransition=function(){return N.H.useTransition()},n.version="19.1.1"},391:(e,n,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=a(4)},579:(e,n,a)=>{e.exports=a(799)},672:(e,n,a)=>{var t=a(43);function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(r(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},s=Symbol.for("react.portal");var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,n){return"font"===e?"":"string"===typeof n?"use-credentials"===n?n:"":void 0}n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,n.createPortal=function(e,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(r(299));return function(e,n,a){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==t?null:""+t,children:e,containerInfo:n,implementation:a}}(e,n,null,a)},n.flushSync=function(e){var n=o.T,a=i.p;try{if(o.T=null,i.p=2,e)return e()}finally{o.T=n,i.p=a,i.d.f()}},n.preconnect=function(e,n){"string"===typeof e&&(n?n="string"===typeof(n=n.crossOrigin)?"use-credentials"===n?n:"":void 0:n=null,i.d.C(e,n))},n.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},n.preinit=function(e,n){if("string"===typeof e&&n&&"string"===typeof n.as){var a=n.as,t=c(a,n.crossOrigin),r="string"===typeof n.integrity?n.integrity:void 0,l="string"===typeof n.fetchPriority?n.fetchPriority:void 0;"style"===a?i.d.S(e,"string"===typeof n.precedence?n.precedence:void 0,{crossOrigin:t,integrity:r,fetchPriority:l}):"script"===a&&i.d.X(e,{crossOrigin:t,integrity:r,fetchPriority:l,nonce:"string"===typeof n.nonce?n.nonce:void 0})}},n.preinitModule=function(e,n){if("string"===typeof e)if("object"===typeof n&&null!==n){if(null==n.as||"script"===n.as){var a=c(n.as,n.crossOrigin);i.d.M(e,{crossOrigin:a,integrity:"string"===typeof n.integrity?n.integrity:void 0,nonce:"string"===typeof n.nonce?n.nonce:void 0})}}else null==n&&i.d.M(e)},n.preload=function(e,n){if("string"===typeof e&&"object"===typeof n&&null!==n&&"string"===typeof n.as){var a=n.as,t=c(a,n.crossOrigin);i.d.L(e,a,{crossOrigin:t,integrity:"string"===typeof n.integrity?n.integrity:void 0,nonce:"string"===typeof n.nonce?n.nonce:void 0,type:"string"===typeof n.type?n.type:void 0,fetchPriority:"string"===typeof n.fetchPriority?n.fetchPriority:void 0,referrerPolicy:"string"===typeof n.referrerPolicy?n.referrerPolicy:void 0,imageSrcSet:"string"===typeof n.imageSrcSet?n.imageSrcSet:void 0,imageSizes:"string"===typeof n.imageSizes?n.imageSizes:void 0,media:"string"===typeof n.media?n.media:void 0})}},n.preloadModule=function(e,n){if("string"===typeof e)if(n){var a=c(n.as,n.crossOrigin);i.d.m(e,{as:"string"===typeof n.as&&"script"!==n.as?n.as:void 0,crossOrigin:a,integrity:"string"===typeof n.integrity?n.integrity:void 0})}else i.d.m(e)},n.requestFormReset=function(e){i.d.r(e)},n.unstable_batchedUpdates=function(e,n){return e(n)},n.useFormState=function(e,n,a){return o.H.useFormState(e,n,a)},n.useFormStatus=function(){return o.H.useHostTransitionStatus()},n.version="19.1.1"},799:(e,n)=>{var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(e,n,t){var r=null;if(void 0!==t&&(r=""+t),void 0!==n.key&&(r=""+n.key),"key"in n)for(var l in t={},n)"key"!==l&&(t[l]=n[l]);else t=n;return n=t.ref,{$$typeof:a,type:e,key:r,ref:void 0!==n?n:null,props:t}}n.Fragment=t,n.jsx=r,n.jsxs=r},853:(e,n,a)=>{e.exports=a(896)},896:(e,n)=>{function a(e,n){var a=e.length;e.push(n);e:for(;0<a;){var t=a-1>>>1,r=e[t];if(!(0<l(r,n)))break e;e[t]=n,e[a]=r,a=t}}function t(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var n=e[0],a=e.pop();if(a!==n){e[0]=a;e:for(var t=0,r=e.length,i=r>>>1;t<i;){var s=2*(t+1)-1,o=e[s],c=s+1,u=e[c];if(0>l(o,a))c<r&&0>l(u,o)?(e[t]=u,e[c]=a,t=c):(e[t]=o,e[s]=a,t=s);else{if(!(c<r&&0>l(u,a)))break e;e[t]=u,e[c]=a,t=c}}}return n}function l(e,n){var a=e.sortIndex-n.sortIndex;return 0!==a?a:e.id-n.id}if(n.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;n.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();n.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,m=null,f=3,p=!1,h=!1,v=!1,g=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var n=t(u);null!==n;){if(null===n.callback)r(u);else{if(!(n.startTime<=e))break;r(u),n.sortIndex=n.expirationTime,a(c,n)}n=t(u)}}function N(e){if(v=!1,j(e),!h)if(null!==t(c))h=!0,S||(S=!0,_());else{var n=t(u);null!==n&&O(N,n.startTime-e)}}var _,S=!1,w=-1,k=5,E=-1;function C(){return!!g||!(n.unstable_now()-E<k)}function P(){if(g=!1,S){var e=n.unstable_now();E=e;var a=!0;try{e:{h=!1,v&&(v=!1,y(w),w=-1),p=!0;var l=f;try{n:{for(j(e),m=t(c);null!==m&&!(m.expirationTime>e&&C());){var i=m.callback;if("function"===typeof i){m.callback=null,f=m.priorityLevel;var s=i(m.expirationTime<=e);if(e=n.unstable_now(),"function"===typeof s){m.callback=s,j(e),a=!0;break n}m===t(c)&&r(c),j(e)}else r(c);m=t(c)}if(null!==m)a=!0;else{var o=t(u);null!==o&&O(N,o.startTime-e),a=!1}}break e}finally{m=null,f=l,p=!1}a=void 0}}finally{a?_():S=!1}}}if("function"===typeof x)_=function(){x(P)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,z=L.port2;L.port1.onmessage=P,_=function(){z.postMessage(null)}}else _=function(){b(P,0)};function O(e,a){w=b(function(){e(n.unstable_now())},a)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_next=function(e){switch(f){case 1:case 2:case 3:var n=3;break;default:n=f}var a=f;f=n;try{return e()}finally{f=a}},n.unstable_requestPaint=function(){g=!0},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=f;f=e;try{return n()}finally{f=a}},n.unstable_scheduleCallback=function(e,r,l){var i=n.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?i+l:i:l=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>i?(e.sortIndex=l,a(u,e),null===t(c)&&e===t(u)&&(v?(y(w),w=-1):v=!0,O(N,l-i))):(e.sortIndex=s,a(c,e),h||p||(h=!0,S||(S=!0,_()))),e},n.unstable_shouldYield=C,n.unstable_wrapCallback=function(e){var n=f;return function(){var a=f;f=n;try{return e.apply(this,arguments)}finally{f=a}}}},950:(e,n,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}(),e.exports=a(672)}},n={};function a(t){var r=n[t];if(void 0!==r)return r.exports;var l=n[t]={exports:{}};return e[t](l,l.exports,a),l.exports}var t=a(43),r=a(391);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var t=a.call(e,n||"default");if("object"!=l(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}function s(e,n,a){return(n=i(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,t)}return a}function c(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach(function(n){s(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const u=function(){var e;const n="undefined"!==typeof process&&(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://10.12.46.229:8000",REACT_APP_API_BASE_URL:"http://10.12.46.229:8000/api/v1"})||void 0===e?void 0:e.REACT_APP_API_BASE_URL);if(n)return n;const a=window.location.hostname;if("localhost"===a||"127.0.0.1"===a)return"/api/v1";const t=window.location.protocol,r=window.location.port?":".concat(window.location.port):"",l=r&&":80"!==r&&":443"!==r?r:":8000";return"".concat(t,"//").concat(a).concat(l,"/api/v1")}();const d=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;this.baseURL=void 0,this.baseURL=e}getCsrfToken(){const e="csrftoken";let n=null;if(document.cookie&&""!==document.cookie){const a=document.cookie.split(";");for(let t=0;t<a.length;t++){const r=a[t].trim();if(r.substring(0,10)===e+"="){n=decodeURIComponent(r.substring(10));break}}}return n}async request(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a="".concat(this.baseURL).concat(e),t={};n.body instanceof FormData||(t["Content-Type"]="application/json"),n.headers&&Object.entries(n.headers).forEach(e=>{let[n,a]=e;"string"===typeof a&&(t[n]=a)});const r=this.getCsrfToken();r&&n.method&&"GET"!==n.method&&(t["X-CSRFToken"]=r);const l=c({headers:t,credentials:"include"},n);try{const n=await fetch(a,l);if(401===n.status||403===n.status){const a=await n.json().catch(()=>({})),t=(a.detail||a.message||"").toLowerCase(),r=t.includes("credenciales")||t.includes("autenticaci\xf3n")||t.includes("authentication")||t.includes("not authenticated")||t.includes("no autenticado")||t.includes("no se proveyeron")||401===n.status;if(r&&(401===n.status||403===n.status&&r)&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),!window.location.pathname.includes("login")&&!e.includes("/auth/login")&&!e.includes("/auth/csrf")))return setTimeout(()=>{window.location.href="/"},100),{};const l=new Error;throw l.name="ValidationError",l.message=JSON.stringify(a),l.errorData=a,l.status=n.status,l}if(!n.ok){const e=await n.json().catch(()=>({})),a=new Error;throw a.name="ValidationError",a.message=JSON.stringify(e),a.errorData=e,a.status=n.status,a}const t=n.headers.get("content-type");if("0"===n.headers.get("content-length")||null===t||void 0===t||!t.includes("application/json"))return{};try{const e=await n.text();return e&&""!==e.trim()?JSON.parse(e):{}}catch(i){return{}}}catch(s){if(s instanceof Error&&"ValidationError"===s.name)throw s;if(s instanceof Error)throw s;throw new Error("Error de conexi\xf3n con el servidor")}}async getCsrf(){return this.request("/auth/csrf/")}async login(e){await this.getCsrf();const n=await this.request("/auth/login/",{method:"POST",body:JSON.stringify(e)});await new Promise(e=>setTimeout(e,100));try{await this.request("/auth/csrf/")}catch(a){console.warn("Warning: Could not verify session after login",a)}return n}async checkSession(){try{return await this.request("/auth/csrf/"),!0}catch(e){return 401!==e.status&&403!==e.status}}async logout(){return this.request("/auth/logout/",{method:"POST"})}async healthCheck(){return this.request("/health/")}async getApiInfo(){return this.request("/info/")}async getDefaultPassword(){return this.request("/default-password/")}async getUsers(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.search&&n.append("search",e.search),null!==e&&void 0!==e&&e.role&&n.append("role",e.role),void 0!==(null===e||void 0===e?void 0:e.is_active)&&n.append("is_active",e.is_active.toString()),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/".concat(a?"?"+a:""))}async getUser(e){return this.request("/users/".concat(e,"/"))}async getCurrentUser(){return this.request("/users/me/")}async createUser(e){const n=e instanceof FormData?e:JSON.stringify(e);return this.request("/users/",{method:"POST",body:n})}async updateUser(e,n){const a=n instanceof FormData?n:JSON.stringify(n);return this.request("/users/".concat(e,"/"),{method:"PUT",body:a})}async updateUserProfile(e,n){return this.request("/users/".concat(e,"/profile/"),{method:"PATCH",body:n})}async deleteUser(e){return this.request("/users/".concat(e,"/"),{method:"DELETE"})}async deactivateUser(e){return this.request("/users/".concat(e,"/deactivate/"),{method:"POST"})}async activateUser(e){return this.request("/users/".concat(e,"/activate/"),{method:"POST"})}async changeUserPassword(e,n){return this.request("/users/".concat(e,"/change_password/"),{method:"POST",body:JSON.stringify(n)})}async downloadUserTemplate(){const e=this.getCsrfToken(),n={};e&&(n["X-CSRFToken"]=e);const a=await fetch("".concat(u,"/users/bulk-upload/template/"),{method:"GET",credentials:"include",headers:n});if(!a.ok)throw new Error("Error al descargar la plantilla");return a.blob()}async bulkUploadUsers(e,n){const a=new FormData;a.append("file",e),n&&a.append("zip_file",n);const t=this.getCsrfToken(),r={};t&&(r["X-CSRFToken"]=t);const l=await fetch("".concat(u,"/users/bulk-upload/"),{method:"POST",credentials:"include",headers:r,body:a});if(!l.ok){const e=await l.json();throw new Error(e.error||"Error al procesar el archivo")}return l.json()}async getAreas(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.search&&n.append("search",e.search),void 0!==(null===e||void 0===e?void 0:e.is_active)&&n.append("is_active",e.is_active.toString()),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/areas/".concat(a?"?"+a:""))}async getArea(e){return this.request("/users/areas/".concat(e,"/"))}async createArea(e){return this.request("/users/areas/",{method:"POST",body:JSON.stringify(e)})}async updateArea(e,n){return this.request("/users/areas/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async deleteArea(e){try{await this.request("/users/areas/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async deactivateArea(e){return this.request("/users/areas/".concat(e,"/deactivate/"),{method:"POST"})}async activateArea(e){return this.request("/users/areas/".concat(e,"/activate/"),{method:"POST"})}async getGrupos(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.search&&n.append("search",e.search),null!==e&&void 0!==e&&e.area&&n.append("area",e.area.toString()),void 0!==(null===e||void 0===e?void 0:e.is_active)&&n.append("is_active",e.is_active.toString()),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/grupos/".concat(a?"?"+a:""))}async getGrupo(e){return this.request("/users/grupos/".concat(e,"/"))}async createGrupo(e){return this.request("/users/grupos/",{method:"POST",body:JSON.stringify(e)})}async updateGrupo(e,n){return this.request("/users/grupos/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async deleteGrupo(e){try{await this.request("/users/grupos/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async deactivateGrupo(e){return this.request("/users/grupos/".concat(e,"/deactivate/"),{method:"POST"})}async activateGrupo(e){return this.request("/users/grupos/".concat(e,"/activate/"),{method:"POST"})}async getPosiciones(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.search&&n.append("search",e.search),null!==e&&void 0!==e&&e.area&&n.append("area",e.area.toString()),void 0!==(null===e||void 0===e?void 0:e.is_active)&&n.append("is_active",e.is_active.toString()),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/posiciones/".concat(a?"?"+a:""))}async getPosicion(e){return this.request("/users/posiciones/".concat(e,"/"))}async createPosicion(e){return this.request("/users/posiciones/",{method:"POST",body:JSON.stringify(e)})}async updatePosicion(e,n){return this.request("/users/posiciones/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async deletePosicion(e){try{await this.request("/users/posiciones/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async deactivatePosicion(e){return this.request("/users/posiciones/".concat(e,"/deactivate/"),{method:"POST"})}async activatePosicion(e){return this.request("/users/posiciones/".concat(e,"/activate/"),{method:"POST"})}async getNivelesPosicion(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.posicion_id&&n.append("posicion_id",e.posicion_id.toString()),null!==e&&void 0!==e&&e.area_id&&n.append("area_id",e.area_id.toString()),null!==e&&void 0!==e&&e.nivel&&n.append("nivel",e.nivel.toString());const a=n.toString();return this.request("/users/niveles-posicion/".concat(a?"?"+a:""))}async getNivelPosicion(e){return this.request("/users/niveles-posicion/".concat(e,"/"))}async createNivelPosicion(e){return this.request("/users/niveles-posicion/",{method:"POST",body:JSON.stringify(e)})}async updateNivelPosicion(e,n){return this.request("/users/niveles-posicion/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async deleteNivelPosicion(e){try{await this.request("/users/niveles-posicion/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async getListasAsistencia(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.search&&n.append("search",e.search),null!==e&&void 0!==e&&e.area&&n.append("area",e.area.toString()),void 0!==(null===e||void 0===e?void 0:e.is_active)&&n.append("is_active",e.is_active.toString()),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/listas-asistencia/".concat(a?"?"+a:""))}async getListaAsistencia(e){return this.request("/users/listas-asistencia/".concat(e,"/"))}async createListaAsistencia(e){return this.request("/users/listas-asistencia/",{method:"POST",body:JSON.stringify(e)})}async updateListaAsistencia(e,n){return this.request("/users/listas-asistencia/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async deleteListaAsistencia(e){try{await this.request("/users/listas-asistencia/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async deactivateListaAsistencia(e){return this.request("/users/listas-asistencia/".concat(e,"/deactivate/"),{method:"POST"})}async activateListaAsistencia(e){return this.request("/users/listas-asistencia/".concat(e,"/activate/"),{method:"POST"})}async getEvaluaciones(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.area_id&&n.append("area_id",e.area_id.toString()),null!==e&&void 0!==e&&e.posicion_id&&n.append("posicion_id",e.posicion_id.toString()),null!==e&&void 0!==e&&e.supervisor_id&&n.append("supervisor_id",e.supervisor_id.toString()),null!==e&&void 0!==e&&e.nivel&&n.append("nivel",e.nivel.toString()),null!==e&&void 0!==e&&e.nivel_posicion_id&&n.append("nivel_posicion_id",e.nivel_posicion_id.toString()),null!==e&&void 0!==e&&e.plantilla_id&&n.append("plantilla_id",e.plantilla_id.toString()),void 0!==(null===e||void 0===e?void 0:e.es_plantilla)&&n.append("es_plantilla",e.es_plantilla.toString()),null!==e&&void 0!==e&&e.search&&n.append("search",e.search),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/evaluaciones/".concat(a?"?"+a:""))}async getEvaluacion(e){return this.request("/users/evaluaciones/".concat(e,"/"))}async createEvaluacion(e){return this.request("/users/evaluaciones/",{method:"POST",body:JSON.stringify(e)})}async updateEvaluacion(e,n){return this.request("/users/evaluaciones/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async patchEvaluacion(e,n){return this.request("/users/evaluaciones/".concat(e,"/"),{method:"PATCH",body:JSON.stringify(n)})}async createFirmaEvaluacion(e){return this.request("/users/firmas-evaluacion/",{method:"POST",body:JSON.stringify(e)})}async firmarEvaluacionUsuario(e,n){return this.request("/users/evaluaciones-usuario/".concat(e,"/firmar/"),{method:"POST",body:JSON.stringify(n)})}async deleteFirmaEvaluacion(e){await this.request("/users/firmas-evaluacion/".concat(e,"/"),{method:"DELETE"})}async deleteEvaluacion(e){try{await this.request("/users/evaluaciones/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async agregarPuntoEvaluacion(e,n){return this.request("/users/evaluaciones/".concat(e,"/agregar_punto/"),{method:"POST",body:JSON.stringify(n)})}async updatePuntoEvaluacion(e,n){return this.request("/users/puntos-evaluacion/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async deletePuntoEvaluacion(e){try{await this.request("/users/puntos-evaluacion/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async agregarCriterioEvaluacion(e,n){return this.request("/users/evaluaciones/".concat(e,"/agregar_criterio/"),{method:"POST",body:JSON.stringify(n)})}async updateCriterioEvaluacion(e,n){return this.request("/users/criterios-evaluacion/".concat(e,"/"),{method:"PUT",body:JSON.stringify(n)})}async getEvaluacionesUsuario(e){const n=new URLSearchParams;null!==e&&void 0!==e&&e.usuario&&n.append("usuario",e.usuario.toString()),null!==e&&void 0!==e&&e.evaluacion&&n.append("evaluacion",e.evaluacion.toString()),null!==e&&void 0!==e&&e.supervisor&&n.append("supervisor",e.supervisor.toString()),null!==e&&void 0!==e&&e.estado&&n.append("estado",e.estado),null!==e&&void 0!==e&&e.page&&n.append("page",e.page.toString());const a=n.toString();return this.request("/users/evaluaciones-usuario/".concat(a?"?".concat(a):""))}async getEvaluacionUsuario(e){return this.request("/users/evaluaciones-usuario/".concat(e,"/"))}async createEvaluacionUsuario(e){return this.request("/users/evaluaciones-usuario/",{method:"POST",body:JSON.stringify(e)})}async updateEvaluacionUsuario(e,n){return this.request("/users/evaluaciones-usuario/".concat(e,"/"),{method:"PATCH",body:JSON.stringify(n)})}async deleteCriterioEvaluacion(e){try{await this.request("/users/criterios-evaluacion/".concat(e,"/"),{method:"DELETE"})}catch(n){if(n.message&&n.message.includes("Unexpected end of JSON input"))return;throw n}}async obtenerNotificaciones(e){const n=e&&"undefined"!==typeof e.solo_no_leidas?"?solo_no_leidas=".concat(e.solo_no_leidas):"",a=await this.request("/users/notificaciones/".concat(n),{method:"GET"});return Array.isArray(a)?a:a&&Array.isArray(a.results)?a.results:[]}async marcarNotificacionLeida(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.request("/users/notificaciones/".concat(e,"/"),{method:"PATCH",body:JSON.stringify({es_leida:n})})}async eliminarNotificacion(e){await this.request("/users/notificaciones/".concat(e,"/"),{method:"DELETE"})}async getProgresosNivel(e){const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.usuario)&&n.append("usuario",String(e.usuario)),void 0!==(null===e||void 0===e?void 0:e.posicion)&&n.append("posicion",String(e.posicion)),void 0!==(null===e||void 0===e?void 0:e.nivel)&&n.append("nivel",String(e.nivel)),void 0!==(null===e||void 0===e?void 0:e.completado)&&n.append("completado",String(e.completado));const a=n.toString(),t=a?"/users/progresos-nivel/?".concat(a):"/users/progresos-nivel/";return this.request(t,{method:"GET"})}async getReporteComposicionNiveles(e){const n=new URLSearchParams;n.append("area_id",String(e.area_id)),"number"===typeof e.anio&&n.append("anio",String(e.anio)),"number"===typeof e.mes&&n.append("mes",String(e.mes)),"number"===typeof e.nivel_maximo&&n.append("nivel_maximo",String(e.nivel_maximo));const a=n.toString();return this.request("/users/reportes/composicion-niveles/".concat(a?"?".concat(a):""))}async getReporteAvanceMensual(e){const n=new URLSearchParams;n.append("area_id",String(e.area_id)),e.meses.forEach(e=>{n.append("meses",e)});const a=n.toString();return this.request("/users/reportes/avance-mensual/".concat(a?"?".concat(a):""))}async getReporteAvanceAnual(e){const n=new URLSearchParams;n.append("area_id",String(e.area_id));const a=n.toString();return this.request("/users/reportes/avance-anual/".concat(a?"?".concat(a):""))}};function m(e){if(!e)return"";if(e.startsWith("http://")||e.startsWith("https://"))return e;const n=function(){var e;const n="undefined"!==typeof process&&(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"http://10.12.46.229:8000",REACT_APP_API_BASE_URL:"http://10.12.46.229:8000/api/v1"})||void 0===e?void 0:e.REACT_APP_BACKEND_URL);if(n)return n;const a=window.location.hostname;if("localhost"===a||"127.0.0.1"===a)return"";const t=window.location.protocol,r=window.location.port?":".concat(window.location.port):"",l=r&&":80"!==r&&":443"!==r?r:":8000";return"".concat(t,"//").concat(a).concat(l)}();return e.startsWith("/media/")?n?"".concat(n).concat(e):e:n?"".concat(n,"/media/").concat(e):"/media/".concat(e)}var f=a(579);const p=e=>{let{onLoginSuccess:n}=e;const[a,r]=(0,t.useState)(""),[l,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),[c,u]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1);return(0,f.jsx)("div",{className:"login-container",children:(0,f.jsxs)("div",{className:"login-card",children:[(0,f.jsx)("div",{className:"logo-section",children:(0,f.jsx)("img",{src:"/width_800.png",alt:"Avery Dennison Logo",className:"logo",onError:e=>{console.log("Error loading logo:",e),e.currentTarget.style.display="none"}})}),(0,f.jsx)("h1",{className:"welcome-title",children:"BIENVENIDO"}),(0,f.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),u(""),p(!1);try{if(""===a.trim()||""===l.trim())return void u("Por favor, complete todos los campos");const e={username:a.trim(),password:l.trim()},t=await d.login(e);t.success?(p(!0),u(""),t.token&&localStorage.setItem("authToken",t.token),t.user&&localStorage.setItem("user",JSON.stringify(t.user)),setTimeout(async()=>{try{await d.checkSession()&&n?n():(u("Error al establecer la sesi\xf3n. Por favor, intenta de nuevo."),p(!1))}catch(c){console.error("Error verifying session:",c),u("Error al verificar la sesi\xf3n. Por favor, intenta de nuevo."),p(!1)}},500)):u(t.message||"Credenciales inv\xe1lidas")}catch(t){console.error("Error en login:",t),u(t.message||"Error al conectar con el servidor. Verifica que el backend est\xe9 ejecut\xe1ndose.")}finally{o(!1)}},className:"login-form",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"username",className:"form-label",children:"Usuario"}),(0,f.jsx)("input",{type:"text",id:"username",value:a,onChange:e=>r(e.target.value),className:"form-input",required:!0})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"password",className:"form-label",children:"Contrase\xf1a"}),(0,f.jsx)("input",{type:"password",id:"password",value:l,onChange:e=>i(e.target.value),className:"form-input",required:!0}),(0,f.jsx)("button",{type:"button",className:"forgot-password",children:"Olvid\xe9 mi contrase\xf1a"})]}),c&&(0,f.jsx)("div",{className:"error-message",children:c}),m&&(0,f.jsxs)("div",{className:"success-message",children:["\xa1Login exitoso! Bienvenido, ",a]}),(0,f.jsx)("button",{type:"submit",className:"login-button",disabled:s,children:s?"Entrando...":"Entrar"})]})]})})};var h={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},v=t.createContext&&t.createContext(h),g=function(){return g=Object.assign||function(e){for(var n,a=1,t=arguments.length;a<t;a++)for(var r in n=arguments[a])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e},g.apply(this,arguments)},b=function(e,n){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(t=Object.getOwnPropertySymbols(e);r<t.length;r++)n.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(a[t[r]]=e[t[r]])}return a};function y(e){return e&&e.map(function(e,n){return t.createElement(e.tag,g({key:n},e.attr),y(e.child))})}function x(e){return function(n){return t.createElement(j,g({attr:g({},e.attr)},n),y(e.child))}}function j(e){var n=function(n){var a,r=e.attr,l=e.size,i=e.title,s=b(e,["attr","size","title"]),o=l||n.size||"1em";return n.className&&(a=n.className),e.className&&(a=(a?a+" ":"")+e.className),t.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:a,style:g(g({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&t.createElement("title",null,i),e.children)};return void 0!==v?t.createElement(v.Consumer,null,function(e){return n(e)}):n(h)}function N(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function _(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function S(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"}}]})(e)}function w(e){return x({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.82 458.1l-90.62-70.05c.19-1.38.8-2.66.8-4.06.05-7.55-2.61-15.27-8.61-21.71-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84c-40.33 8.38-74.66 31.07-97.59 62.57L45.47 3.37C38.49-2.05 28.43-.8 23.01 6.18L3.37 31.45C-2.05 38.42-.8 48.47 6.18 53.9l588.35 454.73c6.98 5.43 17.03 4.17 22.46-2.81l19.64-25.27c5.42-6.97 4.17-17.02-2.81-22.45zM157.23 251.54c-8.61 67.96-36.41 93.33-52.62 110.75-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h241.92L157.23 251.54zM320 512c35.32 0 63.97-28.65 63.97-64H256.03c0 35.35 28.65 64 63.97 64z"}}]})(e)}function k(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function E(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"}}]})(e)}function C(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"}}]})(e)}function P(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"}}]})(e)}function L(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function z(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"}}]})(e)}function O(e){return x({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function T(e){return x({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function A(e){return x({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function R(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function U(e){return x({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}}]})(e)}function D(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.941 273.941c18.745-18.745 18.745-49.137 0-67.882l-160-160c-18.745-18.745-49.136-18.746-67.883 0l-256 256c-18.745 18.745-18.745 49.137 0 67.882l96 96A48.004 48.004 0 0 0 144 480h356c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12H355.883l142.058-142.059zm-302.627-62.627l137.373 137.373L265.373 416H150.628l-80-80 124.686-124.686z"}}]})(e)}function M(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"}}]})(e)}function I(e){return x({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function F(e){return x({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function q(e){return x({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"}}]})(e)}function H(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"}}]})(e)}function B(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"}}]})(e)}function V(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"}}]})(e)}function W(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function G(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"}}]})(e)}function $(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}}]})(e)}function Q(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function J(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"}}]})(e)}function K(e){return x({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function Y(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"}}]})(e)}function X(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function Z(e){return x({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M630.6 364.9l-90.3-90.2c-12-12-28.3-18.7-45.3-18.7h-79.3c-17.7 0-32 14.3-32 32v79.2c0 17 6.7 33.2 18.7 45.2l90.3 90.2c12.5 12.5 32.8 12.5 45.3 0l92.5-92.5c12.6-12.5 12.6-32.7.1-45.2zm-182.8-21c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24c0 13.2-10.7 24-24 24zm-223.8-88c70.7 0 128-57.3 128-128C352 57.3 294.7 0 224 0S96 57.3 96 128c0 70.6 57.3 127.9 128 127.9zm127.8 111.2V294c-12.2-3.6-24.9-6.2-38.2-6.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 287.9 0 348.1 0 422.3v41.6c0 26.5 21.5 48 48 48h352c15.5 0 29.1-7.5 37.9-18.9l-58-58c-18.1-18.1-28.1-42.2-28.1-67.9z"}}]})(e)}function ee(e){return x({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function ne(e){return x({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function ae(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(-1!==n.indexOf(t))continue;a[t]=e[t]}return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)a=l[t],-1===n.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const te=()=>{const[e,n]=(0,t.useState)([]),a=(0,t.useCallback)(e=>{const a=Math.random().toString(36).substr(2,9),t=c(c({},e),{},{id:a});n(e=>[...e,t])},[]),r=(0,t.useCallback)(e=>{n(n=>n.filter(n=>n.id!==e))},[]),l=(0,t.useCallback)((e,n)=>{a({type:"success",message:e,duration:n})},[a]),i=(0,t.useCallback)((e,n)=>{a({type:"error",message:e,duration:n})},[a]),s=(0,t.useCallback)((e,n)=>{a({type:"info",message:e,duration:n})},[a]);return{toasts:e,addToast:a,removeToast:r,showSuccess:l,showError:i,showInfo:s}},re=e=>{let{id:n,type:a,message:r,duration:l=5e3,onClose:i}=e;(0,t.useEffect)(()=>{const e=setTimeout(()=>{i(n)},l);return()=>clearTimeout(e)},[n,l,i]);return(0,f.jsx)("div",{className:"toast toast-".concat(a),children:(0,f.jsxs)("div",{className:"toast-content",children:[(0,f.jsx)("div",{className:"toast-icon",children:(()=>{switch(a){case"success":return(0,f.jsx)(L,{});case"error":return(0,f.jsx)(M,{});default:return(0,f.jsx)(B,{})}})()}),(0,f.jsx)("div",{className:"toast-message",children:r}),(0,f.jsx)("button",{className:"toast-close",onClick:()=>i(n),children:(0,f.jsx)(K,{})})]})})},le=e=>{let{toasts:n,onRemoveToast:a}=e;return(0,f.jsx)("div",{className:"toast-container",children:n.map(e=>(0,f.jsx)(re,{id:e.id,type:e.type,message:e.message,duration:e.duration,onClose:a},e.id))})},ie=["username"],se=["image/jpeg","image/png"],oe=()=>{const{toasts:e,removeToast:n,showSuccess:a,showError:r}=te(),[l,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[u,p]=(0,t.useState)([]),[h,v]=(0,t.useState)([]),[g,b]=(0,t.useState)(!0),[y,x]=(0,t.useState)(!1),[j,w]=(0,t.useState)(null),[k,E]=(0,t.useState)(""),[P,z]=(0,t.useState)(""),[O,T]=(0,t.useState)(""),[A,D]=(0,t.useState)(1),[M,B]=(0,t.useState)(!1),[G,$]=(0,t.useState)(!1),[J,ne]=(0,t.useState)({}),[re,oe]=(0,t.useState)({}),[ce,ue]=(0,t.useState)({}),[de,me]=(0,t.useState)(!1),[fe,pe]=(0,t.useState)(!1),[he,ve]=(0,t.useState)(!1),[ge,be]=(0,t.useState)(!1),[ye,xe]=(0,t.useState)(null),[je,Ne]=(0,t.useState)(null),[_e,Se]=(0,t.useState)({username:"",email:"",first_name:"",last_name:"",password:"",password_confirm:"",role:"USUARIO",areas:[],posicion:null,grupo:null,numero_empleado:null,fecha_ingreso:null,is_active:!0}),[we,ke]=(0,t.useState)({username:"",email:"",first_name:"",last_name:"",role:"USUARIO",areas:[],posicion:null,grupo:null,numero_empleado:null,fecha_ingreso:null,is_active:!0}),[Ee,Ce]=(0,t.useState)({new_password:"",new_password_confirm:""}),[Pe,Le]=(0,t.useState)(null),[ze,Oe]=(0,t.useState)(null),[Te,Ae]=(0,t.useState)(null),[Re,Ue]=(0,t.useState)(!1),[De,Me]=(0,t.useState)(!1),[Ie,Fe]=(0,t.useState)(null),[qe,He]=(0,t.useState)(!1),[Be,Ve]=(0,t.useState)(!1),[We,Ge]=(0,t.useState)(null),[$e,Qe]=(0,t.useState)(null),[Je,Ke]=(0,t.useState)(!1);(0,t.useEffect)(()=>{tn(),rn(),ln(),cn()},[]),(0,t.useEffect)(()=>{const e=setTimeout(()=>{cn()},500);return()=>clearTimeout(e)},[k,P,O]),(0,t.useEffect)(()=>{(k||P||O)&&x(!0)},[k,P,O]),(0,t.useEffect)(()=>()=>{ze&&ze.startsWith("blob:")&&URL.revokeObjectURL(ze)},[ze]),(0,t.useEffect)(()=>()=>{Ie&&Ie.startsWith("blob:")&&URL.revokeObjectURL(Ie)},[Ie]);const Ye=e=>se.includes(e.type)?!(e.size>2097152)||(r("La foto debe pesar m\xe1ximo 2 MB."),!1):(r("La foto debe ser una imagen JPG o PNG."),!1),Xe=e=>{var n,a;const t=null!==(n=null===(a=e.target.files)||void 0===a?void 0:a[0])&&void 0!==n?n:null;if(ze&&ze.startsWith("blob:")&&URL.revokeObjectURL(ze),!t)return Le(null),void Oe(null);if(!Ye(t))return e.target.value="",Le(null),void Oe(null);const r=URL.createObjectURL(t);Le(t),Oe(r)},Ze=()=>{ze&&ze.startsWith("blob:")&&URL.revokeObjectURL(ze),Le(null),Oe(null)},en=e=>{var n,a;const t=null!==(n=null===(a=e.target.files)||void 0===a?void 0:a[0])&&void 0!==n?n:null;if(Ie&&Ie.startsWith("blob:")&&URL.revokeObjectURL(Ie),!t)return Ae(null),void Fe(null!==ye&&void 0!==ye&&ye.profile_photo?m(ye.profile_photo):null);if(!Ye(t))return e.target.value="",Ae(null),void Fe(null!==ye&&void 0!==ye&&ye.profile_photo?m(ye.profile_photo):null);const r=URL.createObjectURL(t);Ae(t),Fe(r),He(!1)},nn=()=>{Ie&&Ie.startsWith("blob:")&&URL.revokeObjectURL(Ie),Ae(null),Fe(null!==ye&&void 0!==ye&&ye.profile_photo?m(ye.profile_photo):null),He(!1)},an=()=>{Ie&&Ie.startsWith("blob:")&&URL.revokeObjectURL(Ie),Ae(null),Fe(null),He(!0)},tn=async()=>{try{const e=await d.getAreas({is_active:!0});o(e.results)}catch(e){console.error("Error al cargar \xe1reas:",e)}},rn=async()=>{try{const e=await d.getPosiciones({is_active:!0});p(e.results)}catch(e){console.error("Error al cargar posiciones:",e)}},ln=async()=>{try{const e=await d.getGrupos({is_active:!0});v(e.results)}catch(e){console.error("Error al cargar grupos:",e)}},sn=()=>{ze&&ze.startsWith("blob:")&&URL.revokeObjectURL(ze),Ie&&Ie.startsWith("blob:")&&URL.revokeObjectURL(Ie),Le(null),Oe(null),Ae(null),Fe(null),He(!1),B(!1),$(!1),D(1),xe(null),ne({}),oe({})},on=e=>h.filter(n=>n.area===e),cn=async()=>{try{0===l.length?b(!0):x(!0);const e={};k&&(e.search=k),P&&(e.role=P),O&&(e.is_active="active"===O);const n=await d.getUsers(e);i(n.results),w(null)}catch(e){w("Error al cargar usuarios"),console.error(e)}finally{b(!1),x(!1)}},un=async()=>{try{const e=await d.downloadUserTemplate(),n=window.URL.createObjectURL(e),t=document.createElement("a");t.href=n,t.download="plantilla_carga_masiva_usuarios.xlsx",document.body.appendChild(t),t.click(),window.URL.revokeObjectURL(n),document.body.removeChild(t),a("Plantilla descargada exitosamente")}catch(e){r(e.message||"Error al descargar la plantilla")}},dn=()=>{Ce({new_password:"",new_password_confirm:""})},mn=async()=>{try{const e=await d.getDefaultPassword();Se(c(c({},_e),{},{password:e.default_password,password_confirm:e.default_password})),a("Contrase\xf1a por defecto aplicada")}catch(j){console.error("Error al obtener contrase\xf1a por defecto:",j),r("Error al obtener la contrase\xf1a por defecto")}},fn=e=>{switch(e){case"ADMIN":return"badge-admin";case"ENTRENADOR":return"badge-entrenador";case"SUPERVISOR":return"badge-supervisor";default:return"badge-usuario"}},pn=e=>{const n=u.find(n=>n.id===e.posicion);return n?n.name:e.posicion_name?e.posicion_name:"Sin posici\xf3n"},hn=(0,t.useMemo)(()=>{const e=k.trim().toLowerCase();return e?l.filter(n=>{const a=n.numero_empleado?"#".concat(n.numero_empleado):"",t=pn(n),r=(n.areas_list||[]).join(" ").toLowerCase();return n.full_name.toLowerCase().includes(e)||n.username.toLowerCase().includes(e)||(n.email||"").toLowerCase().includes(e)||n.role_display.toLowerCase().includes(e)||a.toLowerCase().includes(e)||t.toLowerCase().includes(e)||r.includes(e)}):l},[l,k,u]),vn=e=>{let{errors:n}=e;return n&&0!==n.length?(0,f.jsx)("div",{className:"field-error",children:n.map((e,n)=>(0,f.jsx)("span",{className:"error-text",children:e},n))}):null};return(0,f.jsxs)("div",{className:"user-management",children:[(0,f.jsxs)("div",{className:"user-management-header",children:[(0,f.jsx)("h1",{children:"Gesti\xf3n de Usuarios"}),(0,f.jsxs)("div",{className:"header-actions",children:[(0,f.jsxs)("button",{className:"btn-secondary",onClick:un,children:[(0,f.jsx)(R,{})," Descargar Plantilla"]}),(0,f.jsxs)("button",{className:"btn-secondary",onClick:()=>Ve(!0),children:[(0,f.jsx)(X,{})," Carga Masiva"]}),(0,f.jsxs)("button",{className:"btn-primary",onClick:()=>{B(!0),$(!1),D(1),Se({username:"",email:"",first_name:"",last_name:"",password:"",password_confirm:"",role:"USUARIO",areas:[],posicion:null,grupo:null,numero_empleado:null,fecha_ingreso:null,is_active:!0}),ne({}),Ze()},children:[(0,f.jsx)(W,{})," Nuevo Usuario"]})]})]}),(0,f.jsxs)("div",{className:"user-management-filters",children:[(0,f.jsxs)("div",{className:"search-box",children:[y?(0,f.jsx)("div",{className:"search-loading",children:(0,f.jsx)("div",{className:"spinner"})}):(0,f.jsx)(Q,{}),(0,f.jsx)("input",{type:"text",placeholder:"Buscar por nombre, usuario o email...",value:k,onChange:e=>E(e.target.value)})]}),(0,f.jsxs)("div",{className:"filter-group",children:[(0,f.jsx)(H,{}),(0,f.jsxs)("select",{value:P,onChange:e=>z(e.target.value),children:[(0,f.jsx)("option",{value:"",children:"Todos los roles"}),(0,f.jsx)("option",{value:"ADMIN",children:"Administrador"}),(0,f.jsx)("option",{value:"ENTRENADOR",children:"Entrenador"}),(0,f.jsx)("option",{value:"SUPERVISOR",children:"Supervisor"}),(0,f.jsx)("option",{value:"USUARIO",children:"Usuario Regular"})]}),(0,f.jsxs)("select",{value:O,onChange:e=>T(e.target.value),children:[(0,f.jsx)("option",{value:"",children:"Todos los estados"}),(0,f.jsx)("option",{value:"active",children:"Activos"}),(0,f.jsx)("option",{value:"inactive",children:"Inactivos"})]})]})]}),j&&(0,f.jsx)("div",{className:"error-message",children:j}),(0,f.jsx)("div",{className:"users-table-container",children:(0,f.jsxs)("table",{className:"users-table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Nombre"}),(0,f.jsx)("th",{children:"Rol"}),(0,f.jsx)("th",{children:"N\xfamero de Empleado"}),(0,f.jsx)("th",{children:"Posici\xf3n"}),(0,f.jsx)("th",{children:"\xc1reas"})]})}),(0,f.jsx)("tbody",{children:hn.map(e=>(0,f.jsxs)("tr",{className:"user-row",onClick:()=>(e=>{xe(e),be(!0)})(e),children:[(0,f.jsx)("td",{className:"user-name-cell",children:(0,f.jsxs)("div",{className:"user-info",children:[(0,f.jsx)("div",{className:"user-avatar",children:e.profile_photo?(0,f.jsx)("img",{src:m(e.profile_photo),alt:"Foto de ".concat(e.full_name)}):(0,f.jsx)(ee,{})}),(0,f.jsxs)("div",{className:"user-data",children:[(0,f.jsx)("span",{className:"user-full-name",children:e.full_name}),(0,f.jsxs)("span",{className:"user-username",children:["@",e.username]})]})]})}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"role-badge ".concat(fn(e.role)),children:e.role_display})}),(0,f.jsx)("td",{children:e.numero_empleado?"#".concat(e.numero_empleado):"Sin asignar"}),(0,f.jsx)("td",{children:pn(e)}),(0,f.jsx)("td",{children:(0,f.jsx)("div",{className:"areas-list",children:e.areas_list&&e.areas_list.length>0?e.areas_list.map((e,n)=>(0,f.jsx)("span",{className:"area-badge",children:e},n)):(0,f.jsx)("span",{className:"no-areas",children:"Sin \xe1reas"})})})]},e.id))})]})}),de&&ye&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>me(!1),children:(0,f.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("h2",{children:["Cambiar contrase\xf1a para ",ye.full_name]}),(0,f.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),ye){ue({});try{await d.changeUserPassword(ye.id,Ee),me(!1),xe(null),dn(),alert("Contrase\xf1a actualizada exitosamente")}catch(n){const e=(e=>{if("ValidationError"===e.name&&"object"===typeof e.message)return e.message;if(e.message&&"object"===typeof e.message)return e.message;if("string"===typeof e.message)try{return JSON.parse(e.message)}catch(n){return{general:[e.message]}}return{general:["Error desconocido"]}})(n);ue(e)}}},children:[(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nueva contrase\xf1a"}),(0,f.jsx)("input",{type:"password",value:Ee.new_password,onChange:e=>Ce(c(c({},Ee),{},{new_password:e.target.value})),required:!0}),(0,f.jsx)(vn,{errors:ce.new_password})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Confirmar contrase\xf1a"}),(0,f.jsx)("input",{type:"password",value:Ee.new_password_confirm,onChange:e=>Ce(c(c({},Ee),{},{new_password_confirm:e.target.value})),required:!0}),(0,f.jsx)(vn,{errors:ce.new_password_confirm})]})]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>me(!1),children:"Cancelar"}),(0,f.jsx)("button",{type:"submit",className:"btn-primary",children:"Guardar"})]})]})]})}),fe&&ye&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>pe(!1),children:(0,f.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("h2",{children:"Eliminar usuario"}),(0,f.jsxs)("p",{children:["\xbfEst\xe1s seguro de que deseas eliminar a ",(0,f.jsx)("strong",{children:ye.full_name}),"? Esta acci\xf3n no se puede deshacer."]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>pe(!1),children:"Cancelar"}),(0,f.jsx)("button",{type:"button",className:"btn-danger",onClick:async()=>{if(ye)try{await d.deleteUser(ye.id),pe(!1),xe(null),cn(),alert("Usuario eliminado exitosamente")}catch(e){alert("Error: ".concat(e.message))}},children:"Eliminar"})]})]})}),he&&ye&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>ve(!1),children:(0,f.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("h2",{children:[ye.is_active?"Desactivar":"Activar"," usuario"]}),(0,f.jsxs)("p",{children:["\xbfSeguro que quieres ",ye.is_active?"desactivar":"activar"," a",(0,f.jsxs)("strong",{children:[" ",ye.full_name]}),"?"]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>ve(!1),children:"Cancelar"}),(0,f.jsx)("button",{type:"button",className:"btn-primary",onClick:async()=>{if(ye)try{ye.is_active?(await d.deactivateUser(ye.id),alert("Usuario desactivado exitosamente")):(await d.activateUser(ye.id),alert("Usuario activado exitosamente")),ve(!1),xe(null),cn()}catch(e){alert("Error: ".concat(e.message))}},children:"Confirmar"})]})]})}),ge&&ye&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>be(!1),children:(0,f.jsxs)("div",{className:"modal-content modal-user-detail",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("button",{className:"modal-close-btn",onClick:()=>be(!1),title:"Cerrar",children:(0,f.jsx)(K,{})}),(0,f.jsx)("div",{className:"user-detail-avatar",children:ye.profile_photo?(0,f.jsx)("img",{src:m(ye.profile_photo),alt:"Foto de ".concat(ye.full_name)}):(0,f.jsx)(ee,{})}),(0,f.jsxs)("div",{className:"user-detail-info",children:[(0,f.jsx)("h2",{children:ye.full_name}),(0,f.jsxs)("span",{className:"user-detail-username",children:["@",ye.username]}),(0,f.jsxs)("div",{className:"user-detail-meta",children:[(0,f.jsx)("span",{className:"role-badge ".concat(fn(ye.role)),children:ye.role_display}),(0,f.jsx)("span",{className:"status-badge ".concat(ye.is_active?"status-active":"status-inactive"),children:ye.is_active?"Activo":"Inactivo"})]})]}),(0,f.jsxs)("div",{className:"user-detail-grid",children:[(0,f.jsxs)("div",{className:"user-detail-field",children:[(0,f.jsx)("span",{className:"label",children:"N\xfamero de empleado"}),(0,f.jsx)("span",{className:"value",children:ye.numero_empleado?"#".concat(ye.numero_empleado):"Sin asignar"})]}),(0,f.jsxs)("div",{className:"user-detail-field",children:[(0,f.jsx)("span",{className:"label",children:"Correo electr\xf3nico"}),(0,f.jsx)("span",{className:"value",children:ye.email})]}),(0,f.jsxs)("div",{className:"user-detail-field",children:[(0,f.jsx)("span",{className:"label",children:"Posici\xf3n"}),(0,f.jsx)("span",{className:"value",children:pn(ye)})]}),(0,f.jsxs)("div",{className:"user-detail-field",children:[(0,f.jsx)("span",{className:"label",children:"\xc1reas"}),(0,f.jsx)("span",{className:"value areas-value",children:ye.areas_list&&ye.areas_list.length>0?ye.areas_list.map((e,n)=>(0,f.jsx)("span",{className:"area-badge",children:e},n)):(0,f.jsx)("span",{className:"no-areas",children:"Sin \xe1reas"})})]})]}),(0,f.jsxs)("div",{className:"modal-actions user-detail-actions",children:[(0,f.jsxs)("button",{className:"btn-secondary",onClick:()=>{be(!1),xe(ye),ve(!0)},children:[ye.is_active?(0,f.jsx)(S,{}):(0,f.jsx)(L,{})," ",ye.is_active?"Desactivar":"Activar"]}),(0,f.jsxs)("button",{className:"btn-secondary",onClick:()=>{be(!1),xe(ye),ue({}),dn(),me(!0)},children:[(0,f.jsx)(V,{})," Cambiar Contrase\xf1a"]}),(0,f.jsxs)("button",{className:"btn-primary",onClick:()=>{var e;be(!1),e=ye,B(!1),$(!0),D(1),xe(e),ke({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,role:e.role,areas:e.areas,posicion:e.posicion,grupo:e.grupo,numero_empleado:e.numero_empleado,fecha_ingreso:e.fecha_ingreso,is_active:e.is_active}),oe({}),Ie&&Ie.startsWith("blob:")&&URL.revokeObjectURL(Ie),Ae(null),Fe(e.profile_photo?m(e.profile_photo):null),He(!1)},children:[(0,f.jsx)(U,{})," Editar Usuario"]}),(0,f.jsxs)("button",{className:"btn-danger",onClick:()=>{be(!1),xe(ye),pe(!0)},children:[(0,f.jsx)(Y,{})," Eliminar"]})]})]})}),(M||G)&&(0,f.jsx)("div",{className:"modal-overlay",children:(0,f.jsxs)("div",{className:"step-modal",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("header",{className:"step-modal__header",children:[(0,f.jsx)("button",{className:"step-modal__close",onClick:sn,title:"Cerrar",children:(0,f.jsx)(K,{})}),(0,f.jsxs)("div",{className:"step-modal__title",children:[(0,f.jsx)("h2",{children:M?"Crear Usuario":"Editar Usuario"}),(0,f.jsxs)("span",{className:"step-modal__subtitle",children:["Paso ",A," de 3"]})]})]}),(0,f.jsxs)("nav",{className:"step-modal__progress",children:[(0,f.jsxs)("button",{type:"button",className:"progress-chip ".concat(1===A?"active":""),onClick:()=>D(1),children:[(0,f.jsx)(ee,{}),(0,f.jsx)("span",{children:"Datos"})]}),(0,f.jsxs)("button",{type:"button",className:"progress-chip ".concat(2===A?"active":""),onClick:()=>D(2),children:[(0,f.jsx)(Z,{}),(0,f.jsx)("span",{children:"Rol"})]}),(0,f.jsxs)("button",{type:"button",className:"progress-chip ".concat(3===A?"active":""),onClick:()=>D(3),children:[(0,f.jsx)(C,{}),(0,f.jsx)("span",{children:"Ubicaci\xf3n"})]})]}),(0,f.jsxs)("section",{className:"step-modal__body",children:[((e,n)=>{const a=[...(null===e||void 0===e?void 0:e.non_field_errors)||(null===e||void 0===e?void 0:e.__all__)||[],...Array.isArray(n)?n:n?[n]:[]];return 0===a.length?null:(0,f.jsx)("div",{className:"step-modal__global-error",children:a.map((e,n)=>(0,f.jsx)("span",{children:e},n))})})(M?J:re,M?J.detail:re.detail),1===A&&(()=>{const e=M?_e:we,n=M?J:re,a=M?ze:Ie;return(0,f.jsxs)("div",{className:"step-content",children:[(0,f.jsx)("h3",{children:"Datos Generales"}),(0,f.jsxs)("div",{className:"step-photo-block",children:[(0,f.jsx)("div",{className:"step-photo-preview",children:a?(0,f.jsx)("img",{src:a,alt:"Foto de perfil"}):(0,f.jsx)("div",{className:"photo-placeholder",children:(0,f.jsx)(ee,{})})}),(0,f.jsxs)("div",{className:"step-photo-actions",children:[(0,f.jsxs)("label",{className:"btn-upload full",children:[(0,f.jsx)("input",{type:"file",accept:"image/jpeg,image/png",onChange:M?Xe:en}),a?"Cambiar foto":"Agregar foto"]}),a&&(0,f.jsx)("button",{type:"button",className:"btn-link",onClick:M?Ze:nn,children:"Quitar foto"}),!M&&(null===ye||void 0===ye?void 0:ye.profile_photo)&&!qe&&(0,f.jsx)("button",{type:"button",className:"btn-link",onClick:an,children:"Eliminar foto actual"}),!M&&qe&&(0,f.jsx)("button",{type:"button",className:"btn-link",onClick:()=>{He(!1),Fe(null!==ye&&void 0!==ye&&ye.profile_photo?m(ye.profile_photo):null)},children:"Restaurar foto"}),!M&&qe&&(0,f.jsx)("p",{className:"photo-remove-note",children:"Se eliminar\xe1 la foto actual al guardar."}),(0,f.jsx)(vn,{errors:n.profile_photo})]})]}),(0,f.jsxs)("div",{className:"form-grid",children:[!M&&(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre de Usuario"}),(0,f.jsx)("input",{type:"text",value:e.username,onChange:e=>{ke(c(c({},we),{},{username:e.target.value}))},className:n.username?"error":"",readOnly:!0,title:"El nombre de usuario se genera autom\xe1ticamente desde el n\xfamero de empleado"}),n.username&&(0,f.jsx)("div",{className:"error-message",children:n.username[0]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Email *"}),(0,f.jsx)("input",{type:"email",value:e.email,onChange:e=>{M?Se(c(c({},_e),{},{email:e.target.value})):ke(c(c({},we),{},{email:e.target.value}))},className:n.email?"error":""}),n.email&&(0,f.jsx)("div",{className:"error-message",children:n.email[0]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre *"}),(0,f.jsx)("input",{type:"text",value:e.first_name,onChange:e=>{M?Se(c(c({},_e),{},{first_name:e.target.value})):ke(c(c({},we),{},{first_name:e.target.value}))},className:n.first_name?"error":""}),n.first_name&&(0,f.jsx)("div",{className:"error-message",children:n.first_name[0]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Apellido *"}),(0,f.jsx)("input",{type:"text",value:e.last_name,onChange:e=>{M?Se(c(c({},_e),{},{last_name:e.target.value})):ke(c(c({},we),{},{last_name:e.target.value}))},className:n.last_name?"error":""}),n.last_name&&(0,f.jsx)("div",{className:"error-message",children:n.last_name[0]})]}),M&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("div",{className:"password-field-header",children:[(0,f.jsx)("label",{children:"Contrase\xf1a *"}),(0,f.jsxs)("button",{type:"button",className:"btn-default-password",onClick:mn,title:"Usar contrase\xf1a por defecto",children:[(0,f.jsx)(V,{})," Usar contrase\xf1a por defecto"]})]}),(0,f.jsxs)("div",{className:"password-input-wrapper",children:[(0,f.jsx)("input",{type:Re?"text":"password",value:_e.password,onChange:e=>Se(c(c({},_e),{},{password:e.target.value})),className:n.password?"error":""}),(0,f.jsx)("button",{type:"button",className:"btn-toggle-password",onClick:()=>Ue(!Re),title:Re?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:Re?(0,f.jsx)(I,{}):(0,f.jsx)(F,{})})]}),n.password&&(0,f.jsx)("div",{className:"error-message",children:n.password[0]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Confirmar Contrase\xf1a *"}),(0,f.jsxs)("div",{className:"password-input-wrapper",children:[(0,f.jsx)("input",{type:De?"text":"password",value:_e.password_confirm,onChange:e=>Se(c(c({},_e),{},{password_confirm:e.target.value})),className:n.password_confirm?"error":""}),(0,f.jsx)("button",{type:"button",className:"btn-toggle-password",onClick:()=>Me(!De),title:De?"Ocultar contrase\xf1a":"Mostrar contrase\xf1a",children:De?(0,f.jsx)(I,{}):(0,f.jsx)(F,{})})]}),n.password_confirm&&(0,f.jsx)("div",{className:"error-message",children:n.password_confirm[0]})]})]})]})]})})(),2===A&&(()=>{const e=M?_e:we,n=M?J:re;return(0,f.jsxs)("div",{className:"step-content",children:[(0,f.jsx)("h3",{children:"Rol y Fechas"}),(0,f.jsxs)("div",{className:"form-grid",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Rol *"}),(0,f.jsxs)("select",{value:e.role,onChange:e=>{M?Se(c(c({},_e),{},{role:e.target.value})):ke(c(c({},we),{},{role:e.target.value}))},className:n.role?"error":"",children:[(0,f.jsx)("option",{value:"USUARIO",children:"Usuario Regular"}),(0,f.jsx)("option",{value:"ENTRENADOR",children:"Entrenador"}),(0,f.jsx)("option",{value:"SUPERVISOR",children:"Supervisor"}),(0,f.jsx)("option",{value:"ADMIN",children:"Administrador"})]}),n.role&&(0,f.jsx)("div",{className:"error-message",children:n.role[0]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{children:["N\xfamero de Empleado ",M?"*":""]}),(0,f.jsx)("input",{type:"text",value:e.numero_empleado||"",onChange:e=>{M?Se(c(c({},_e),{},{numero_empleado:e.target.value||null})):ke(c(c({},we),{},{numero_empleado:e.target.value||null}))},className:n.numero_empleado?"error":"",required:M}),n.numero_empleado&&(0,f.jsx)("div",{className:"error-message",children:n.numero_empleado[0]}),M&&(0,f.jsx)("div",{className:"field-helper",children:"Este n\xfamero se usar\xe1 como nombre de usuario para iniciar sesi\xf3n"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Fecha de Ingreso"}),(0,f.jsx)("input",{type:"date",value:e.fecha_ingreso||"",onChange:e=>{M?Se(c(c({},_e),{},{fecha_ingreso:e.target.value||null})):ke(c(c({},we),{},{fecha_ingreso:e.target.value||null}))},className:n.fecha_ingreso?"error":""}),n.fecha_ingreso&&(0,f.jsx)("div",{className:"error-message",children:n.fecha_ingreso[0]})]}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsxs)("label",{className:"checkbox-label",children:[(0,f.jsx)("input",{type:"checkbox",checked:e.is_active,onChange:e=>{M?Se(c(c({},_e),{},{is_active:e.target.checked})):ke(c(c({},we),{},{is_active:e.target.checked}))}}),"Usuario activo"]})})]})]})})(),3===A&&(()=>{const e=M?_e:we,n=M?J:re;return(0,f.jsxs)("div",{className:"step-content",children:[(0,f.jsx)("h3",{children:"\xc1rea y Posici\xf3n"}),(0,f.jsxs)("div",{className:"form-grid",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"\xc1rea *"}),(0,f.jsxs)("select",{value:e.areas.length>0?e.areas[0]:"",onChange:e=>{const n=parseInt(e.target.value);M?Se(c(c({},_e),{},{areas:n?[n]:[],posicion:null,grupo:null})):ke(c(c({},we),{},{areas:n?[n]:[],posicion:null,grupo:null}))},className:n.areas?"error":"",children:[(0,f.jsx)("option",{value:"",children:"Seleccionar \xe1rea"}),s.map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id))]}),n.areas&&(0,f.jsx)("div",{className:"error-message",children:n.areas[0]})]}),e.areas.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Posici\xf3n"}),(0,f.jsxs)("select",{value:e.posicion||"",onChange:e=>{M?Se(c(c({},_e),{},{posicion:e.target.value?parseInt(e.target.value):null})):ke(c(c({},we),{},{posicion:e.target.value?parseInt(e.target.value):null}))},className:n.posicion?"error":"",children:[(0,f.jsx)("option",{value:"",children:"Seleccionar posici\xf3n"}),(a=e.areas[0],u.filter(e=>e.area===a)).map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id))]}),n.posicion&&(0,f.jsx)("div",{className:"error-message",children:n.posicion[0]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Grupo"}),(0,f.jsxs)("select",{value:e.grupo||"",onChange:e=>{M?Se(c(c({},_e),{},{grupo:e.target.value?parseInt(e.target.value):null})):ke(c(c({},we),{},{grupo:e.target.value?parseInt(e.target.value):null}))},children:[(0,f.jsx)("option",{value:"",children:"Seleccionar grupo"}),on(e.areas[0]).map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})]})]});var a})()]}),(0,f.jsxs)("footer",{className:"step-modal__footer",children:[A>1&&(0,f.jsxs)("button",{className:"btn-secondary",onClick:()=>{A>1&&D(A-1)},children:[(0,f.jsx)(N,{})," Anterior"]}),A<3?(0,f.jsxs)("button",{className:"btn-primary",onClick:()=>{A<3&&D(A+1)},children:["Siguiente ",(0,f.jsx)(_,{})]}):(0,f.jsx)("button",{className:"btn-primary",onClick:async()=>{M?ne({}):oe({});try{if(M){let e;if(Pe){const n=new FormData;n.append("email",_e.email),n.append("first_name",_e.first_name||""),n.append("last_name",_e.last_name||""),n.append("password",_e.password),n.append("password_confirm",_e.password_confirm),n.append("role",_e.role),n.append("is_active",_e.is_active?"true":"false"),_e.numero_empleado&&n.append("numero_empleado",_e.numero_empleado),_e.fecha_ingreso&&n.append("fecha_ingreso",_e.fecha_ingreso),null!==_e.posicion&&n.append("posicion",String(_e.posicion)),null!==_e.grupo&&n.append("grupo",String(_e.grupo)),_e.areas.forEach(e=>n.append("areas",String(e))),n.append("profile_photo",Pe),e=n}else{const{username:n}=_e;e=ae(_e,ie)}await d.createUser(e),a("Usuario creado exitosamente")}else if(G&&ye){let e;if(Te||qe){const n=new FormData;n.append("username",we.username),n.append("email",we.email),n.append("first_name",we.first_name||""),n.append("last_name",we.last_name||""),n.append("role",we.role),n.append("is_active",we.is_active?"true":"false"),we.numero_empleado?n.append("numero_empleado",we.numero_empleado):n.append("numero_empleado",""),we.fecha_ingreso?n.append("fecha_ingreso",we.fecha_ingreso):n.append("fecha_ingreso",""),null!==we.posicion&&n.append("posicion",String(we.posicion)),null!==we.grupo&&n.append("grupo",String(we.grupo)),we.areas.forEach(e=>n.append("areas",String(e))),n.append("remove_profile_photo",qe?"true":"false"),Te&&n.append("profile_photo",Te),e=n}else e=c(c({},we),{},{remove_profile_photo:qe});await d.updateUser(ye.id,e),a("Usuario actualizado exitosamente")}sn(),cn()}catch(n){var e;console.error("Error al guardar usuario:",n);const a=(null===n||void 0===n?void 0:n.errorData)||(null===n||void 0===n||null===(e=n.response)||void 0===e?void 0:e.data);if(a){M?ne(a):oe(a);const e=(e=>{if(!e)return A;const n=new Set(["username","email","first_name","last_name","password","password_confirm","profile_photo"]),a=new Set(["role","numero_empleado","fecha_ingreso","is_active"]),t=new Set(["areas","posicion","grupo"]),r=Object.keys(e).filter(e=>!["detail","non_field_errors","__all__"].includes(e));for(const l of r)if(n.has(l))return 1;for(const l of r)if(a.has(l))return 2;for(const l of r)if(t.has(l))return 3;return e.non_field_errors||e.__all__||e.detail?1:A})(a);e!==A&&D(e);const n=Array.isArray(null===a||void 0===a?void 0:a.non_field_errors)?a.non_field_errors:[],t=null===a||void 0===a?void 0:a.detail,l=[...n,...Array.isArray(t)?t:t?[t]:[]];l.length>0?l.forEach(e=>r(e)):r("Corrige los campos marcados antes de continuar.")}else r("Error al guardar el usuario")}},children:M?"Crear Usuario":"Actualizar Usuario"})]})]})}),Be&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>!Je&&Ve(!1),children:(0,f.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h3",{children:"Carga Masiva de Usuarios"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>Ve(!1),disabled:Je,children:(0,f.jsx)(K,{})})]}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Seleccionar archivo Excel"}),(0,f.jsx)("div",{className:"bulk-upload-actions",children:(0,f.jsxs)("button",{type:"button",className:"btn-secondary",onClick:un,disabled:Je,children:[(0,f.jsx)(R,{})," Descargar Plantilla"]})}),(0,f.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:e=>{var n;const a=(null===(n=e.target.files)||void 0===n?void 0:n[0])||null;if(a){if(!a.name.endsWith(".xlsx")&&!a.name.endsWith(".xls"))return r("El archivo debe ser un Excel (.xlsx o .xls)"),void(e.target.value="");Ge(a)}},disabled:Je,style:{marginTop:"10px"}}),We&&(0,f.jsxs)("p",{className:"file-selected",children:[(0,f.jsx)(q,{})," ",We.name]}),(0,f.jsxs)("p",{className:"field-helper",children:["El archivo debe ser un Excel (.xlsx o .xls). Descarga la plantilla para ver el formato requerido.",(0,f.jsx)("br",{}),(0,f.jsx)("strong",{children:"Nota:"})," Las \xe1reas, posiciones y grupos se crear\xe1n autom\xe1ticamente si no existen."]})]}),(0,f.jsxs)("div",{className:"form-group",style:{marginTop:"1.5rem"},children:[(0,f.jsx)("label",{children:"Seleccionar archivo ZIP con im\xe1genes (Opcional)"}),(0,f.jsx)("input",{type:"file",accept:".zip",onChange:e=>{var n;const a=(null===(n=e.target.files)||void 0===n?void 0:n[0])||null;if(a){if(!a.name.endsWith(".zip"))return r("El archivo debe ser un ZIP (.zip)"),void(e.target.value="");Qe(a)}},disabled:Je}),$e&&(0,f.jsxs)("p",{className:"file-selected",children:[(0,f.jsx)(q,{})," ",$e.name]}),(0,f.jsxs)("p",{className:"field-helper",children:['Sube un archivo ZIP con las im\xe1genes de los usuarios. Los nombres de los archivos deben coincidir con el campo "Nombre de Imagen" del Excel.',(0,f.jsx)("br",{}),"Formatos soportados: JPG, JPEG, PNG, GIF, BMP"]})]})]}),(0,f.jsxs)("div",{className:"modal-footer",children:[(0,f.jsx)("button",{className:"btn-secondary",onClick:()=>{Ve(!1),Ge(null),Qe(null)},disabled:Je,children:"Cancelar"}),(0,f.jsx)("button",{className:"btn-primary",onClick:async()=>{if(We){Ke(!0);try{const e=await d.bulkUploadUsers(We,$e||void 0);let n="Procesamiento completado:\n";n+="\u2713 Usuarios creados: ".concat(e.summary.total_created,"\n"),e.summary.total_errors>0&&(n+="\u2717 Errores: ".concat(e.summary.total_errors,"\n")),e.created_areas.length>0&&(n+="\n\xc1reas creadas: ".concat(e.created_areas.join(", "),"\n")),e.created_posiciones.length>0&&(n+="Posiciones creadas: ".concat(e.created_posiciones.join(", "),"\n")),e.created_grupos.length>0&&(n+="Grupos creados: ".concat(e.created_grupos.join(", "),"\n")),e.summary.images_assigned>0&&(n+="\n\u2713 Im\xe1genes asignadas: ".concat(e.summary.images_assigned,"\n")),e.summary.images_not_found>0&&(n+="\u26a0 Im\xe1genes no encontradas: ".concat(e.summary.images_not_found,"\n"),e.images_not_found&&e.images_not_found.length>0&&(n+="  Usuarios sin imagen: ".concat(e.images_not_found.map(e=>e.username).join(", "),"\n"))),e.errors.length>0&&(n+="\nErrores encontrados:\n",e.errors.forEach(e=>{const a=e.email||e.numero_empleado||"N/A";n+="  Fila ".concat(e.row," (").concat(a,"): ").concat(e.error,"\n")})),e.summary.total_created>0?a(n):e.summary.total_errors>0?r(n):a(n),Ve(!1),Ge(null),Qe(null),cn(),tn(),rn(),ln()}catch(e){r(e.message||"Error al procesar el archivo")}finally{Ke(!1)}}else r("Por favor selecciona un archivo")},disabled:!We||Je,children:Je?"Procesando...":(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(X,{})," Cargar Usuarios"]})})]})]})}),(0,f.jsx)(le,{toasts:e,onRemoveToast:n})]})},ce=e=>e.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-"),ue=()=>{var e,n;const[a,r]=(0,t.useState)([]),[l,i]=(0,t.useState)(!0),[s,o]=(0,t.useState)(!1),[u,m]=(0,t.useState)(null),[p,h]=(0,t.useState)(""),[v,g]=(0,t.useState)(""),[b,y]=(0,t.useState)({}),[x,j]=(0,t.useState)({}),[_,S]=(0,t.useState)(!1),[w,k]=(0,t.useState)(!1),[C,P]=(0,t.useState)(!1),[L,O]=(0,t.useState)("list"),[A,R]=(0,t.useState)(null),[D,M]=(0,t.useState)({}),[I,F]=(0,t.useState)({}),[q,B]=(0,t.useState)([]),[V,G]=(0,t.useState)([]),[$,J]=(0,t.useState)(null),[K,X]=(0,t.useState)({}),[Z,ee]=(0,t.useState)({}),[ae,te]=(0,t.useState)(!1),[re,le]=(0,t.useState)(null),[ie,se]=(0,t.useState)(null),[oe,ue]=(0,t.useState)(null),[de,me]=(0,t.useState)(""),[fe,pe]=(0,t.useState)("70"),[he,ve]=(0,t.useState)(null),[ge,be]=(0,t.useState)([]),[ye,xe]=(0,t.useState)({}),[je,Ne]=(0,t.useState)([]),[_e,Se]=(0,t.useState)(""),[we,ke]=(0,t.useState)(""),[Ee,Ce]=(0,t.useState)("17"),[Pe,Le]=(0,t.useState)("80"),[ze,Oe]=(0,t.useState)(!1),[Te,Ae]=(0,t.useState)(null),[Re,Ue]=(0,t.useState)(""),[De,Me]=(0,t.useState)(null),[Ie,Fe]=(0,t.useState)([]),[qe,He]=(0,t.useState)(17),[Be,Ve]=(0,t.useState)(80),[We,Ge]=(0,t.useState)(null),[$e,Qe]=(0,t.useState)(!1),[Je,Ke]=(0,t.useState)(!1),[Ye,Xe]=(0,t.useState)(!1),[Ze,en]=(0,t.useState)(null),[nn,an]=(0,t.useState)(""),[tn,rn]=(0,t.useState)(""),[ln,sn]=(0,t.useState)([]),[on,cn]=(0,t.useState)([]),[un,dn]=(0,t.useState)(1),[mn,fn]=(0,t.useState)({name:"",is_active:!0,grupos:[],posiciones:[],supervisores:[]}),[pn,hn]=(0,t.useState)({name:"",is_active:!0,grupos:[],posiciones:[],supervisores:[]});(0,t.useEffect)(()=>{const e=setTimeout(()=>{gn()},500);return()=>clearTimeout(e)},[p,v]),(0,t.useEffect)(()=>{(p||v)&&o(!0)},[p,v]);const vn=e=>{if("ValidationError"===e.name&&"object"===typeof e.message)return e.message;if(e.message&&"object"===typeof e.message)return e.message;if("string"===typeof e.message)try{return JSON.parse(e.message)}catch(n){return{general:[e.message]}}return{general:["Error desconocido"]}},gn=async()=>{try{0===a.length?i(!0):o(!0);const e={};p&&(e.search=p),v&&(e.is_active="active"===v);const n=await d.getAreas(e);r(n.results),m(null)}catch(e){m("Error al cargar \xe1reas"),console.error(e)}finally{i(!1),o(!1)}},bn=async()=>{if(!(V.length>0))try{let e=1,n=null;const a=[];do{const t=await d.getUsers({role:"ADMIN,EVALUADOR",is_active:!0,page:e});a.push(...t.results||[]),n=t.next,e+=1}while(n);const t=a.sort((e,n)=>e.full_name.localeCompare(n.full_name,"es",{sensitivity:"base"}));G(t)}catch(e){console.error("Error al cargar supervisores disponibles:",e),G([])}},yn=async e=>{const n={},a={};for(const r of e)try{const e=await d.getNivelesPosicion({posicion_id:r});n[r]=e.results||[];for(const n of e.results||[])try{const e=await d.getEvaluaciones({nivel_posicion_id:n.id,es_plantilla:!1});a[n.id]=e.results||[]}catch(t){console.error("Error al cargar evaluaciones para nivel ".concat(n.id,":"),t),a[n.id]=[]}}catch(t){console.error("Error al cargar niveles para posici\xf3n ".concat(r,":"),t),n[r]=[]}M(n),F(a)},xn=async()=>{try{const e=await d.getEvaluaciones({es_plantilla:!0});B(e.results||[])}catch(e){console.error("Error al cargar evaluaciones plantillas:",e),B([])}},jn=()=>{O("list"),R(null),j({}),hn({name:"",is_active:!0,grupos:[],posiciones:[],supervisores:[]}),M({}),F({}),J(null),X({}),ee({}),te(!1),le(null),se(null),me(""),pe(""),ve(null);const e=parseInt(fe||"",10),n=parseInt(Ee||"",10),a=parseInt(Pe||"",10);Number.isNaN(e)||e<0||e>100?ve("Ingresa un m\xednimo aprobatorio v\xe1lido entre 0 y 100."):Number.isNaN(n)||n<=0?ve("Ingresa un divisor v\xe1lido mayor a cero."):Number.isNaN(a)||a<0?ve("Ingresa un multiplicador v\xe1lido (0 o mayor)."):(ue(null),be([]),xe({}),Ne([]),Se(""),ke(""),pe("70"),Ce("17"),Le("80"))},Nn=(e,n)=>{X(a=>{const t=a.hasOwnProperty(e)?a[e]:n;return c(c({},a),{},{[e]:!t})})},_n=()=>{te(!1),le(null),se(null),me(""),ve(null),ue(null),be([]),xe({}),Ne([]),Se(""),ke(""),pe("70"),Ce("17"),Le("80")},Sn=()=>{Oe(!1),Ae(null),Ue(""),Fe([]),Ge(null),Qe(!1),Ke(!1),Xe(!1),en(null),an(""),rn(""),Me(null),He(17),Ve(80),sn([]),cn([]),dn(1)},wn=async e=>{const n=await d.getEvaluacion(e);return Ue(n.nombre||""),Me(void 0!==n.minimo_aprobatorio&&null!==n.minimo_aprobatorio?n.minimo_aprobatorio:70),He(void 0!==n.formula_divisor&&null!==n.formula_divisor?n.formula_divisor:17),Ve(void 0!==n.formula_multiplicador&&null!==n.formula_multiplicador?n.formula_multiplicador:80),Fe(n.firmas||[]),sn(n.puntos_evaluacion||[]),cn(n.criterios_evaluacion||[]),an(""),rn(""),n},kn=async(e,n,a)=>{try{Ge(null),Ke(!0),dn(1),await wn(e),Ae({evaluacionId:e,nivelId:n,posicionId:a}),Oe(!0)}catch(u){console.error("Error al cargar la evaluaci\xf3n para edici\xf3n:",u),Ge("No se pudieron cargar los datos de la evaluaci\xf3n.")}finally{Ke(!1)}},En=async()=>{if(Te)try{const e=await wn(Te.evaluacionId);Fe(e.firmas||[]),sn(e.puntos_evaluacion||[]),cn(e.criterios_evaluacion||[])}catch(u){console.error("Error al recargar datos de la evaluaci\xf3n:",u),Ge("No se pudieron actualizar las firmas de la evaluaci\xf3n.")}},Cn=async()=>{if(!Te)return;if(Ge(null),!nn.trim())return void Ge("Ingresa el nombre visible de la firma.");const e=ce(nn);if(e)if(Ie.some(n=>n.tipo_firma===e))Ge("Ya existe una firma con ese identificador.");else try{Xe(!0),await d.createFirmaEvaluacion({evaluacion:Te.evaluacionId,tipo_firma:e,nombre:nn.trim()}),await En(),an(""),alert("Firma agregada correctamente")}catch(u){var n,a,t,r,l,i,s,o;console.error("Error al agregar firma:",u);const c=(null===(n=u.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||(null===(t=u.response)||void 0===t||null===(r=t.data)||void 0===r||null===(l=r.non_field_errors)||void 0===l?void 0:l[0])||(null===(i=u.response)||void 0===i||null===(s=i.data)||void 0===s||null===(o=s.tipo_firma)||void 0===o?void 0:o[0])||"Error al agregar la firma";Ge(c)}finally{Xe(!1)}else Ge("El nombre debe contener al menos un car\xe1cter v\xe1lido.")},Pn=(e,n,a)=>{const t="".concat(e,"-").concat(n);ee(e=>{const n=e.hasOwnProperty(t)?e[t]:a;return c(c({},e),{},{[t]:!n})})},Ln=()=>{fn({name:"",is_active:!0,grupos:[],posiciones:[],supervisores:[]})},zn=(e,n)=>{const a=parseInt(n.target.value,10);"create"===e?fn(e=>c(c({},e),{},{supervisores:a?[a]:[]})):hn(e=>c(c({},e),{},{supervisores:a?[a]:[]}))},On=e=>{const n={name:"",is_active:!0};"create"===e?fn(c(c({},mn),{},{grupos:[...mn.grupos,n]})):hn(c(c({},pn),{},{grupos:[...pn.grupos,n]}))},Tn=(e,n)=>{"create"===n?fn(c(c({},mn),{},{grupos:mn.grupos.filter((n,a)=>a!==e)})):hn(c(c({},pn),{},{grupos:pn.grupos.filter((n,a)=>a!==e)}))},An=(e,n,a,t)=>{if("create"===t){const t=[...mn.grupos];t[e]=c(c({},t[e]),{},{[n]:a}),fn(c(c({},mn),{},{grupos:t}))}else{const t=[...pn.grupos];t[e]=c(c({},t[e]),{},{[n]:a}),hn(c(c({},pn),{},{grupos:t}))}},Rn=e=>{const n={name:"",is_active:!0};"create"===e?fn(c(c({},mn),{},{posiciones:[...mn.posiciones,n]})):hn(c(c({},pn),{},{posiciones:[...pn.posiciones,n]}))},Un=(e,n)=>{"create"===n?fn(c(c({},mn),{},{posiciones:mn.posiciones.filter((n,a)=>a!==e)})):hn(c(c({},pn),{},{posiciones:pn.posiciones.filter((n,a)=>a!==e)}))},Dn=(e,n,a,t)=>{if("create"===t){const t=[...mn.posiciones];t[e]=c(c({},t[e]),{},{[n]:a}),fn(c(c({},mn),{},{posiciones:t}))}else{const t=[...pn.posiciones];t[e]=c(c({},t[e]),{},{[n]:a}),hn(c(c({},pn),{},{posiciones:t}))}},Mn=e=>{let{errors:n}=e;return n&&0!==n.length?(0,f.jsx)("div",{className:"field-error",children:n.map((e,n)=>(0,f.jsx)("span",{className:"error-text",children:e},n))}):null},In=(e,n)=>{const a=e=>{if("number"===typeof e)return Number.isFinite(e)?e:null;if("string"===typeof e){const n=e.trim();if(""===n)return null;const a=Number(n);return Number.isNaN(a)?null:a}return null},t=a(e),r=a(n);return{divisorParsed:t,multiplicadorParsed:r,divisorTexto:null!==t?t:"--",multiplicadorTexto:null!==r?r:"--"}},Fn=In(Ee,Pe),qn=In(qe,Be);return l?(0,f.jsx)("div",{className:"area-management-loading",children:"Cargando \xe1reas..."}):(0,f.jsxs)("div",{className:"area-management",children:[(0,f.jsxs)("div",{className:"area-management-header",children:[(0,f.jsx)("h1",{children:"edit"===L?"Editar \xc1rea".concat(A?": ".concat(A.name):""):"Gesti\xf3n de \xc1reas"}),"edit"===L?(0,f.jsxs)("button",{className:"btn-secondary btn-back",onClick:jn,children:[(0,f.jsx)(N,{})," Volver"]}):(0,f.jsxs)("button",{className:"btn-primary",onClick:async()=>{await bn(),y({}),Ln(),S(!0)},children:[(0,f.jsx)(W,{})," Nueva \xc1rea"]})]}),"list"===L?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"area-management-filters",children:[(0,f.jsxs)("div",{className:"search-box",children:[s?(0,f.jsx)("div",{className:"search-loading",children:(0,f.jsx)("div",{className:"spinner"})}):(0,f.jsx)(Q,{}),(0,f.jsx)("input",{type:"text",placeholder:"Buscar por nombre o descripci\xf3n...",value:p,onChange:e=>h(e.target.value)})]}),(0,f.jsxs)("div",{className:"filter-group",children:[(0,f.jsx)(H,{}),(0,f.jsxs)("select",{value:v,onChange:e=>g(e.target.value),children:[(0,f.jsx)("option",{value:"",children:"Todos los estados"}),(0,f.jsx)("option",{value:"active",children:"Activas"}),(0,f.jsx)("option",{value:"inactive",children:"Inactivas"})]})]})]}),u&&(0,f.jsx)("div",{className:"error-message",children:u}),(0,f.jsx)("div",{className:"areas-table-container",children:(0,f.jsxs)("table",{className:"areas-table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Nombre"}),(0,f.jsx)("th",{children:"Estado"}),(0,f.jsx)("th",{children:"Fecha Creaci\xf3n"}),(0,f.jsx)("th",{children:"Acciones"})]})}),(0,f.jsx)("tbody",{children:a.map(e=>(0,f.jsxs)("tr",{className:"area-row-clickable",onClick:()=>(async e=>{var n;R(e),j({});const a=(null!==(n=e.supervisores)&&void 0!==n?n:[]).map(e=>e.id);hn({name:e.name,is_active:e.is_active,grupos:e.grupos||[],posiciones:e.posiciones||[],supervisores:a}),0===V.length&&await bn(),O("edit"),e.posiciones&&e.posiciones.length>0&&await yn(e.posiciones.map(e=>e.id)),await xn()})(e),children:[(0,f.jsx)("td",{children:e.name}),(0,f.jsx)("td",{children:(0,f.jsx)("span",{className:"status-badge ".concat(e.is_active?"status-active":"status-inactive"),children:e.is_active?"Activa":"Inactiva"})}),(0,f.jsx)("td",{children:new Date(e.created_at).toLocaleDateString()}),(0,f.jsx)("td",{className:"actions-cell",onClick:e=>e.stopPropagation(),children:(0,f.jsx)("button",{className:"btn-icon btn-delete",onClick:()=>(e=>{R(e),k(!0)})(e),title:"Eliminar",children:(0,f.jsx)(Y,{})})})]},e.id))})]})})]}):A&&(0,f.jsx)("div",{className:"area-edit-view",children:(0,f.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),A){j({});try{await d.updateArea(A.id,pn),await gn(),jn(),alert("\xc1rea actualizada exitosamente")}catch(n){const e=vn(n);j(e)}}},className:"area-edit-form",children:[(0,f.jsxs)("div",{className:"form-grid",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre *"}),(0,f.jsx)("input",{type:"text",value:pn.name,onChange:e=>hn(c(c({},pn),{},{name:e.target.value})),required:!0,className:x.name?"field-error-input":""}),(0,f.jsx)(Mn,{errors:x.name})]}),(0,f.jsx)("div",{className:"form-group checkbox-group",children:(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{type:"checkbox",checked:pn.is_active,onChange:e=>hn(c(c({},pn),{},{is_active:e.target.checked}))}),"\xc1rea activa"]})}),(0,f.jsxs)("div",{className:"form-group full-width",children:[(0,f.jsx)("label",{children:"Supervisores del \xc1rea"}),0===V.length?(0,f.jsx)("div",{className:"field-helper",children:"No hay supervisores disponibles para asignar."}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("select",{value:(null===(e=pn.supervisores[0])||void 0===e?void 0:e.toString())||"",onChange:e=>zn("edit",e),children:[(0,f.jsx)("option",{value:"",children:"Seleccionar supervisor..."}),V.map(e=>(0,f.jsxs)("option",{value:e.id,children:[e.full_name," \u2014 ",e.role_display]},e.id))]})}),(0,f.jsx)(Mn,{errors:x.supervisores})]})]}),(0,f.jsxs)("div",{className:"edit-sections",children:[(0,f.jsxs)("section",{className:"edit-section grupos-edit",children:[(0,f.jsxs)("div",{className:"section-title",children:[(0,f.jsxs)("h3",{children:[(0,f.jsx)(ne,{})," Grupos"]}),(0,f.jsxs)("button",{type:"button",className:"btn-add-grupo",onClick:()=>On("edit"),children:[(0,f.jsx)(W,{})," Agregar Grupo"]})]}),0===pn.grupos.length?(0,f.jsx)("div",{className:"section-empty",children:"No hay grupos configurados para esta \xe1rea."}):(0,f.jsx)("div",{className:"grupos-tablet-grid",children:pn.grupos.map((e,n)=>(0,f.jsxs)("div",{className:"grupo-card-edit",children:[(0,f.jsxs)("div",{className:"grupo-card-edit-header",children:[(0,f.jsx)("span",{className:"grupo-badge-edit",children:e.name||"Grupo ".concat(n+1)}),(0,f.jsx)("button",{type:"button",className:"btn-remove-grupo",onClick:()=>Tn(n,"edit"),title:"Eliminar grupo",children:(0,f.jsx)(Y,{})})]}),(0,f.jsxs)("div",{className:"grupo-card-edit-body",children:[(0,f.jsx)("label",{children:"Nombre del Grupo *"}),(0,f.jsx)("input",{type:"text",value:e.name,onChange:e=>An(n,"name",e.target.value,"edit"),placeholder:"Ingresa el nombre del grupo",required:!0})]})]},n))})]}),(0,f.jsxs)("section",{className:"edit-section posiciones-edit",children:[(0,f.jsxs)("div",{className:"section-title",children:[(0,f.jsxs)("h3",{children:[(0,f.jsx)(E,{})," Posiciones"]}),(0,f.jsxs)("button",{type:"button",className:"btn-add-posicion",onClick:()=>Rn("edit"),children:[(0,f.jsx)(W,{})," Agregar Posici\xf3n"]})]}),0===pn.posiciones.length?(0,f.jsx)("div",{className:"section-empty",children:"No hay posiciones configuradas para esta \xe1rea."}):(0,f.jsx)("div",{className:"posiciones-tablet-grid",children:pn.posiciones.map((e,n)=>{var a;const t=null!==(a=e.id)&&void 0!==a?a:0,r=D[t]||[],l=e.id?"pos-".concat(e.id):"pos-nuevo-".concat(n),i=!1,s=K.hasOwnProperty(l)?K[l]:i;return(0,f.jsxs)("div",{className:"posicion-card-edit ".concat(s?"open":""),children:[(0,f.jsxs)("div",{className:"posicion-card-edit-header",onClick:e=>((e,n,a)=>{e.target.closest("button")||Nn(n,a)})(e,l,i),children:[(0,f.jsx)("button",{type:"button",className:"posicion-toggle",onClick:e=>{e.stopPropagation(),Nn(l,i)},title:s?"Ocultar detalles de la posici\xf3n":"Mostrar detalles de la posici\xf3n",children:s?(0,f.jsx)(z,{}):(0,f.jsx)(T,{})}),(0,f.jsxs)("div",{className:"posicion-meta",children:[(0,f.jsx)("span",{className:"posicion-badge",children:e.name||"Posici\xf3n ".concat(n+1)}),e.id&&(0,f.jsxs)("span",{className:"posicion-id",children:["ID: ",e.id]})]}),(0,f.jsx)("button",{type:"button",className:"btn-remove-posicion",onClick:e=>{e.stopPropagation(),Un(n,"edit")},title:"Eliminar posici\xf3n",children:(0,f.jsx)(Y,{})})]}),(0,f.jsxs)("div",{className:"posicion-card-edit-content ".concat(s?"open":""),children:[(0,f.jsxs)("div",{className:"posicion-card-edit-body",children:[(0,f.jsx)("label",{children:"Nombre de la Posici\xf3n *"}),(0,f.jsx)("input",{type:"text",value:e.name,onChange:e=>Dn(n,"name",e.target.value,"edit"),placeholder:"Ingresa el nombre de la posici\xf3n",required:!0})]}),0===t?(0,f.jsx)("div",{className:"posicion-alert",children:"Guarda el \xe1rea primero para administrar niveles y evaluaciones."}):(0,f.jsxs)("div",{className:"niveles-wrapper",children:[(0,f.jsx)("h4",{children:"Niveles y Evaluaciones"}),(0,f.jsx)("div",{className:"niveles-grid",children:[1,2,3,4].map(e=>{var n;const a=r.find(n=>n.nivel===e),l=null!==(n=null===a||void 0===a?void 0:a.id)&&void 0!==n?n:0,i=l&&I[l]||[],s="".concat(t,"-").concat(e),o=!!a,u=Z.hasOwnProperty(s)?Z[s]:o;return(0,f.jsxs)("div",{className:"nivel-card ".concat(a?"nivel-activo":"nivel-inactivo"," ").concat(u&&a?"open":""),children:[(0,f.jsxs)("div",{className:"nivel-card-header",onClick:n=>((e,n,a,t)=>{e.target.closest("button")||Pn(n,a,t)})(n,t,e,o),children:[(0,f.jsx)("button",{type:"button",className:"nivel-toggle",onClick:n=>{n.stopPropagation(),a&&Pn(t,e,o)},disabled:!a,title:a?u?"Ocultar detalles":"Mostrar detalles":"Activa el nivel para administrar",children:a&&u?(0,f.jsx)(z,{}):(0,f.jsx)(T,{})}),(0,f.jsxs)("span",{className:"nivel-badge",children:["Nivel ",e]}),(0,f.jsx)("div",{className:"nivel-header-actions",children:a?(0,f.jsx)("button",{type:"button",className:"btn-icon btn-delete",onClick:async e=>{if(e.stopPropagation(),window.confirm("\xbfEst\xe1s seguro de eliminar este nivel?"))try{await d.deleteNivelPosicion(a.id),await yn([t])}catch(n){alert("Error al eliminar nivel: ".concat(n.message))}},title:"Eliminar nivel",children:(0,f.jsx)(Y,{})}):(0,f.jsxs)("button",{type:"button",className:"btn-primary btn-sm",onClick:async n=>{n.stopPropagation();try{await d.createNivelPosicion({posicion:t,nivel:e,is_active:!0}),await yn([t]),ee(e=>c(c({},e),{},{[s]:!0}))}catch(a){alert("Error al crear nivel: ".concat(a.message))}},children:[(0,f.jsx)(W,{})," Activar nivel"]})})]}),a?(0,f.jsxs)("div",{className:"nivel-card-content ".concat(u?"open":""),children:[(0,f.jsxs)("button",{type:"button",className:"btn-primary btn-add-evaluacion",onClick:()=>((e,n)=>{le({nivelId:e,posicionId:n}),se(null),me(""),ve(null),pe("70"),Ce("17"),Le("80"),te(!0)})(a.id,t),children:[(0,f.jsx)(W,{})," Agregar Evaluaci\xf3n"]}),(0,f.jsx)("div",{className:"evaluaciones-list",children:0===i.length?(0,f.jsx)("div",{className:"section-empty small",children:"No hay evaluaciones asignadas a este nivel."}):i.map(e=>(0,f.jsxs)("div",{className:"evaluacion-pill evaluacion-pill-clickable",onClick:()=>kn(e.id,a.id,t),children:[(0,f.jsx)("span",{children:e.nombre}),(0,f.jsxs)("div",{className:"evaluacion-pill-actions",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("button",{type:"button",className:"btn-icon btn-edit-evaluacion",onClick:()=>kn(e.id,a.id,t),title:"Editar evaluaci\xf3n",children:(0,f.jsx)(U,{})}),(0,f.jsx)("button",{type:"button",className:"btn-icon btn-delete-evaluacion",onClick:()=>(async(e,n)=>{if(window.confirm("\xbfEliminar esta evaluaci\xf3n asignada al nivel?"))try{J(e),await d.deleteEvaluacion(e),await yn([n]),alert("Evaluaci\xf3n eliminada correctamente")}catch(a){console.error("Error al eliminar evaluaci\xf3n del nivel:",a),alert("Error al eliminar la evaluaci\xf3n: ".concat(a.message||a))}finally{J(null)}})(e.id,t),disabled:$===e.id,title:"Eliminar evaluaci\xf3n",children:$===e.id?"...":(0,f.jsx)(Y,{})})]})]},e.id))})]}):(0,f.jsx)("p",{className:"nivel-empty",children:"Activa el nivel para asignar evaluaciones."})]},e)})})]})]})]},n)})})]})]}),(0,f.jsx)(Mn,{errors:x.general}),(0,f.jsxs)("div",{className:"edit-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:jn,children:"Cancelar"}),(0,f.jsx)("button",{type:"submit",className:"btn-primary",children:"Guardar Cambios"})]})]})}),_&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>S(!1),children:(0,f.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("h2",{children:"Crear Nueva \xc1rea"}),(0,f.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y({});try{await d.createArea(mn),S(!1),Ln(),gn(),alert("\xc1rea creada exitosamente")}catch(n){const e=vn(n);y(e)}},children:[(0,f.jsxs)("div",{className:"form-grid",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre *"}),(0,f.jsx)("input",{type:"text",value:mn.name,onChange:e=>fn(c(c({},mn),{},{name:e.target.value})),required:!0,className:b.name?"field-error-input":""}),(0,f.jsx)(Mn,{errors:b.name})]}),(0,f.jsx)("div",{className:"form-group checkbox-group",children:(0,f.jsxs)("label",{children:[(0,f.jsx)("input",{type:"checkbox",checked:mn.is_active,onChange:e=>fn(c(c({},mn),{},{is_active:e.target.checked}))}),"\xc1rea activa"]})}),(0,f.jsxs)("div",{className:"form-group full-width",children:[(0,f.jsx)("label",{children:"Supervisores del \xc1rea"}),0===V.length?(0,f.jsx)("div",{className:"field-helper",children:"No hay supervisores disponibles para asignar."}):(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("select",{value:(null===(n=mn.supervisores[0])||void 0===n?void 0:n.toString())||"",onChange:e=>zn("create",e),children:[(0,f.jsx)("option",{value:"",children:"Seleccionar supervisor..."}),V.map(e=>(0,f.jsxs)("option",{value:e.id,children:[e.full_name," \u2014 ",e.role_display]},e.id))]})}),(0,f.jsx)(Mn,{errors:b.supervisores})]})]}),(0,f.jsxs)("div",{className:"grupos-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h3",{children:[(0,f.jsx)(ne,{})," Grupos"]}),(0,f.jsxs)("button",{type:"button",className:"btn-add-grupo",onClick:()=>On("create"),children:[(0,f.jsx)(W,{})," Agregar Grupo"]})]}),mn.grupos.map((e,n)=>(0,f.jsxs)("div",{className:"grupo-form",children:[(0,f.jsxs)("div",{className:"grupo-header",children:[(0,f.jsxs)("h4",{children:["Grupo ",n+1]}),(0,f.jsx)("button",{type:"button",className:"btn-remove-grupo",onClick:()=>Tn(n,"create"),children:(0,f.jsx)(Y,{})})]}),(0,f.jsx)("div",{className:"form-grid",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre del Grupo *"}),(0,f.jsx)("input",{type:"text",value:e.name,onChange:e=>An(n,"name",e.target.value,"create"),required:!0})]})})]},n))]}),(0,f.jsxs)("div",{className:"posiciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h3",{children:[(0,f.jsx)(E,{})," Posiciones"]}),(0,f.jsxs)("button",{type:"button",className:"btn-add-posicion",onClick:()=>Rn("create"),children:[(0,f.jsx)(W,{})," Agregar Posici\xf3n"]})]}),mn.posiciones.map((e,n)=>(0,f.jsxs)("div",{className:"posicion-form",children:[(0,f.jsxs)("div",{className:"posicion-header",children:[(0,f.jsxs)("h4",{children:["Posici\xf3n ",n+1]}),(0,f.jsx)("button",{type:"button",className:"btn-remove-posicion",onClick:()=>Un(n,"create"),children:(0,f.jsx)(Y,{})})]}),(0,f.jsx)("div",{className:"form-grid",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre de la Posici\xf3n *"}),(0,f.jsx)("input",{type:"text",value:e.name,onChange:e=>Dn(n,"name",e.target.value,"create"),required:!0})]})})]},n))]}),(0,f.jsx)(Mn,{errors:b.general}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>S(!1),children:"Cancelar"}),(0,f.jsx)("button",{type:"submit",className:"btn-primary",children:"Crear \xc1rea"})]})]})]})}),w&&A&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>k(!1),children:(0,f.jsxs)("div",{className:"modal-content modal-confirm",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("h2",{children:"Confirmar Eliminaci\xf3n"}),(0,f.jsxs)("p",{children:["\xbfEst\xe1s seguro que deseas eliminar permanentemente el \xe1rea ",(0,f.jsx)("strong",{children:A.name}),"?"]}),(0,f.jsx)("p",{className:"warning-text",children:"Esta acci\xf3n no se puede deshacer."}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>k(!1),children:"Cancelar"}),(0,f.jsx)("button",{type:"button",className:"btn-danger",onClick:async()=>{if(A)try{await d.deleteArea(A.id),k(!1),R(null),gn(),alert("\xc1rea eliminada exitosamente")}catch(e){alert("Error: ".concat(e.message))}},children:"Eliminar \xc1rea"})]})]})}),C&&A&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>P(!1),children:(0,f.jsxs)("div",{className:"modal-content modal-confirm",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("h2",{children:A.is_active?"Confirmar Desactivaci\xf3n":"Confirmar Activaci\xf3n"}),(0,f.jsxs)("p",{children:["\xbfEst\xe1s seguro que deseas ",A.is_active?"desactivar":"activar"," el \xe1rea ",(0,f.jsx)("strong",{children:A.name}),"?"]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>P(!1),children:"Cancelar"}),(0,f.jsxs)("button",{type:"button",className:"btn-primary",onClick:async()=>{if(A)try{A.is_active?(await d.deactivateArea(A.id),alert("\xc1rea desactivada exitosamente")):(await d.activateArea(A.id),alert("\xc1rea activada exitosamente")),P(!1),R(null),gn()}catch(e){alert("Error: ".concat(e.message))}},children:[A.is_active?"Desactivar":"Activar"," \xc1rea"]})]})]})}),ae&&re&&(0,f.jsx)("div",{className:"modal-overlay",onClick:_n,children:(0,f.jsxs)("div",{className:"modal-content modal-medium",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("h2",{children:"Agregar evaluaci\xf3n al nivel"}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Seleccionar Plantilla *"}),(0,f.jsxs)("select",{value:null!==ie&&void 0!==ie?ie:"",onChange:e=>(async e=>{ve(null);const n=e?parseInt(e,10):null;if(se(n),ve(null),n)try{const e=q.find(e=>e.id===n);me(e?e.nombre:"");const a=await d.getEvaluacion(n);ue(a);const t=[...a.firmas||[]];t.some(e=>"empleado"===e.tipo_firma)||t.unshift({id:-1,tipo_firma:"empleado",tipo_firma_display:"Empleado",nombre:"Empleado",usuario:null,usuario_nombre:"",orden:0,esta_firmado:!1,estado_display:"Pendiente de asignaci\xf3n",pendiente_de:null,fecha_firma:null,imagen:null,created_at:"",updated_at:""}),be(t),pe(void 0!==a.minimo_aprobatorio&&null!==a.minimo_aprobatorio?String(a.minimo_aprobatorio):"70"),Ce(void 0!==a.formula_divisor&&null!==a.formula_divisor?String(a.formula_divisor):"17"),Le(void 0!==a.formula_multiplicador&&null!==a.formula_multiplicador?String(a.formula_multiplicador):"80");const r={};t.forEach(e=>{r[e.tipo_firma]=!0}),xe(r),Ne([]),Se(""),ke("")}catch(u){console.error("Error al cargar la plantilla seleccionada:",u),ue(null),be([]),xe({}),Ne([]),Se(""),ke(""),ve("No se pudieron cargar los datos de la plantilla seleccionada")}else me(""),ue(null),be([]),xe({}),Ne([]),Se(""),ke(""),pe("70"),Ce("17"),Le("80")})(e.target.value),children:[(0,f.jsx)("option",{value:"",children:"Seleccionar Plantilla..."}),q.map(e=>(0,f.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre de la Evaluaci\xf3n *"}),(0,f.jsx)("input",{type:"text",value:de,onChange:e=>{me(e.target.value),he&&ve(null)},placeholder:"Nombre de la evaluaci\xf3n"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"M\xednimo aprobatorio (%) *"}),(0,f.jsx)("input",{type:"number",min:"0",max:"100",value:fe,onChange:e=>{pe(e.target.value),he&&ve(null)},placeholder:"Ej. 70"})]}),(0,f.jsxs)("div",{className:"form-grid",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Divisor de f\xf3rmula *"}),(0,f.jsx)("input",{type:"number",min:"1",value:Ee,onChange:e=>{Ce(e.target.value),he&&ve(null)},placeholder:"Ej. 17"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Multiplicador de f\xf3rmula *"}),(0,f.jsx)("input",{type:"number",min:"0",value:Pe,onChange:e=>{Le(e.target.value),he&&ve(null)},placeholder:"Ej. 80"})]})]}),(0,f.jsxs)("div",{className:"formula-preview",children:[(0,f.jsx)("span",{className:"formula-label",children:"Vista previa de f\xf3rmula"}),(0,f.jsxs)("span",{className:"formula-expression",children:["Resultado (%) = ( PUNTOS OBTENIDOS / ",Fn.divisorTexto," ) *"," ",Fn.multiplicadorTexto]}),null!==Fn.divisorParsed&&Fn.divisorParsed>0&&null!==Fn.multiplicadorParsed&&(0,f.jsxs)("span",{className:"formula-hint",children:["Ejemplo con 0 puntos: ( 0 / ",Fn.divisorTexto," ) *"," ",Fn.multiplicadorTexto," = 0.00%"]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Firmas de la plantilla"}),null===ie?(0,f.jsx)("div",{className:"field-helper",children:"Selecciona una plantilla para administrar las firmas."}):0===ge.length?(0,f.jsx)("div",{className:"field-helper",children:"La plantilla seleccionada no tiene firmas configuradas."}):(0,f.jsx)("div",{className:"firmas-checklist",children:ge.map(e=>{var n,a;return(0,f.jsxs)("label",{className:"firma-checkbox",children:[(0,f.jsx)("input",{type:"checkbox",checked:null===(a=ye[e.tipo_firma])||void 0===a||a,onChange:()=>{var n;"empleado"!==(n=e.tipo_firma)&&(xe(e=>c(c({},e),{},{[n]:!e[n]})),ve(null))},disabled:"empleado"===e.tipo_firma}),(0,f.jsxs)("div",{className:"firma-checkbox-info",children:[(0,f.jsx)("span",{className:"firma-checkbox-nombre",children:e.nombre}),(0,f.jsxs)("span",{className:"firma-checkbox-identificador",children:["Identificador: ",e.tipo_firma]})]})]},"".concat(e.tipo_firma,"-").concat(null!==(n=e.id)&&void 0!==n?n:"nuevo"))})})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Firmas adicionales"}),(0,f.jsxs)("div",{className:"firma-extra-form",children:[(0,f.jsx)("div",{className:"firma-extra-inputs",children:(0,f.jsx)("input",{type:"text",value:_e,onChange:e=>Se(e.target.value),placeholder:"Nombre visible"})}),(0,f.jsx)("button",{type:"button",className:"btn-secondary btn-agregar-firma",onClick:()=>{if(!_e.trim())return void ve("Ingresa el nombre visible de la firma adicional.");const e=ce(_e);if(!e)return void ve("El nombre debe contener al menos un car\xe1cter v\xe1lido.");new Set([...ge.map(e=>e.tipo_firma),...je.map(e=>ce(e.identificador||e.nombre))]).has(e)?ve("Ya existe una firma con ese identificador en la evaluaci\xf3n."):(Ne(n=>[...n,{nombre:_e.trim(),identificador:e}]),Se(""),ve(null))},children:"Agregar firma"})]}),je.length>0&&(0,f.jsx)("div",{className:"firma-extra-list",children:je.map((e,n)=>(0,f.jsxs)("div",{className:"firma-extra-item",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"firma-extra-nombre",children:e.nombre}),(0,f.jsxs)("div",{className:"firma-extra-identificador",children:["Identificador: ",e.identificador]})]}),(0,f.jsx)("button",{type:"button",className:"btn-icon btn-remove-firma",onClick:()=>(e=>{Ne(n=>n.filter((n,a)=>a!==e)),ve(null)})(n),title:"Eliminar firma adicional",children:(0,f.jsx)(Y,{})})]},"".concat(e.identificador,"-").concat(n)))})]}),he&&(0,f.jsx)("div",{className:"field-error",children:he})]}),(0,f.jsxs)("div",{className:"modal-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:_n,children:"Cancelar"}),(0,f.jsx)("button",{type:"button",className:"btn-primary",onClick:async()=>{if(!re)return;if(!ie)return void ve("Selecciona una plantilla");if(!de.trim())return void ve("Ingresa un nombre para la evaluaci\xf3n");ve(null);const e=parseInt(fe||"",10),n=parseInt(Ee||"",10),a=parseInt(Pe||"",10);if(Number.isNaN(e)||e<0||e>100)return void ve("Ingresa un m\xednimo aprobatorio v\xe1lido entre 0 y 100.");if(Number.isNaN(n)||n<=0)return void ve("Ingresa un divisor v\xe1lido mayor a cero.");if(Number.isNaN(a)||a<0)return void ve("Ingresa un multiplicador v\xe1lido (0 o mayor).");const t=ge.filter(e=>ye[e.tipo_firma]).map(e=>{var n;return{tipo_firma:e.tipo_firma,nombre:e.nombre,orden:null!==(n=e.orden)&&void 0!==n?n:0}});t.some(e=>"empleado"===e.tipo_firma)||t.unshift({tipo_firma:"empleado",nombre:"Empleado",orden:0});const r=[];for(const o of je){const e=ce(o.identificador||o.nombre);if(!e)return void ve("Cada firma adicional necesita un identificador v\xe1lido.");r.push({tipo_firma:e,nombre:o.nombre.trim(),orden:0})}const l=[...t,...r],i=new Set;for(const o of l){if(!o.nombre.trim())return void ve("Todas las firmas deben tener nombre.");if(i.has(o.tipo_firma))return void ve("Los identificadores de firma deben ser \xfanicos.");i.add(o.tipo_firma)}try{const t=null!==oe&&void 0!==oe?oe:await d.getEvaluacion(ie);await d.createEvaluacion({nombre:de.trim(),es_plantilla:!1,nivel_posicion:re.nivelId,plantilla:ie,supervisor:null,minimo_aprobatorio:e,formula_divisor:n,formula_multiplicador:a,is_active:!0,puntos_evaluacion:t.puntos_evaluacion.map(e=>({pregunta:e.pregunta,orden:e.orden})),criterios_evaluacion:t.criterios_evaluacion.map(e=>({criterio:e.criterio,orden:e.orden})),firmas:l.map((e,n)=>c(c({},e),{},{orden:e.orden&&e.orden>0?e.orden:n+1}))}),await yn([re.posicionId]),_n()}catch(s){const e=(null===s||void 0===s?void 0:s.message)||"Error al agregar la evaluaci\xf3n";ve(e)}},children:"Agregar Evaluaci\xf3n"})]})]})}),ze&&Te&&(0,f.jsx)("div",{className:"modal-overlay",onClick:Sn,children:(0,f.jsxs)("div",{className:"modal-content modal-medium",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("h2",{children:"Editar evaluaci\xf3n"}),(0,f.jsxs)("div",{className:"modal-body",children:[We&&(0,f.jsx)("div",{className:"field-error",children:We}),Je?(0,f.jsx)("div",{className:"section-empty",children:"Cargando informaci\xf3n de la evaluaci\xf3n..."}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"edit-evaluacion-steps",children:[{id:1,titulo:"Datos generales"},{id:2,titulo:"Puntos de Evaluaci\xf3n"},{id:3,titulo:"Criterios de Evaluaci\xf3n"},{id:4,titulo:"Firmas"}].map(e=>(0,f.jsxs)("button",{type:"button",className:"step-pill ".concat(un===e.id?"active":""),onClick:()=>dn(e.id),disabled:$e||Je,children:[(0,f.jsx)("span",{className:"step-number",children:e.id}),(0,f.jsx)("span",{className:"step-title",children:e.titulo})]},e.id))}),1===un?(0,f.jsxs)("div",{className:"step-content step-general",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre de la Evaluaci\xf3n *"}),(0,f.jsx)("input",{type:"text",value:Re,onChange:e=>{Ue(e.target.value),We&&Ge(null)},placeholder:"Nombre de la evaluaci\xf3n"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"M\xednimo aprobatorio (%) *"}),(0,f.jsx)("input",{type:"number",min:"0",max:"100",value:null!==De&&void 0!==De?De:"",onChange:e=>{const n=e.target.value;Me(""===n?null:Math.max(0,Math.min(100,parseInt(n,10)||0))),We&&Ge(null)},placeholder:"Ej. 70"})]}),(0,f.jsxs)("div",{className:"form-grid",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Divisor de f\xf3rmula *"}),(0,f.jsx)("input",{type:"number",min:"1",value:null!==qe&&void 0!==qe?qe:"",onChange:e=>{He(""===e.target.value?null:Math.max(1,parseInt(e.target.value,10)||1)),We&&Ge(null)},placeholder:"Ej. 17"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Multiplicador de f\xf3rmula *"}),(0,f.jsx)("input",{type:"number",min:"0",value:null!==Be&&void 0!==Be?Be:"",onChange:e=>{Ve(""===e.target.value?null:Math.max(0,parseInt(e.target.value,10)||0)),We&&Ge(null)},placeholder:"Ej. 80"})]})]}),(0,f.jsxs)("div",{className:"formula-preview",children:[(0,f.jsx)("span",{className:"formula-label",children:"Vista previa de f\xf3rmula"}),(0,f.jsxs)("span",{className:"formula-expression",children:["Resultado (%) = ( PUNTOS OBTENIDOS / ",qn.divisorTexto," ) *"," ",qn.multiplicadorTexto]}),null!==qn.divisorParsed&&qn.divisorParsed>0&&null!==qn.multiplicadorParsed&&(0,f.jsxs)("span",{className:"formula-hint",children:["Ejemplo con 0 puntos: ( 0 / ",qn.divisorTexto," ) *"," ",qn.multiplicadorTexto," = 0.00%"]})]})]}):2===un?(0,f.jsx)("div",{className:"step-content step-list",children:(0,f.jsxs)("div",{className:"detail-section",children:[(0,f.jsx)("h4",{children:"Puntos de Evaluaci\xf3n"}),ln.length>0?(0,f.jsx)("div",{className:"puntos-list",children:ln.slice().sort((e,n)=>e.orden-n.orden).map((e,n)=>(0,f.jsx)("div",{className:"punto-item",children:(0,f.jsxs)("div",{className:"punto-header",children:[(0,f.jsxs)("span",{className:"punto-orden",children:[n+1,"."]}),(0,f.jsx)("span",{className:"punto-pregunta",children:e.pregunta})]})},e.id))}):(0,f.jsx)("div",{className:"no-items",children:(0,f.jsx)("p",{children:"No hay puntos de evaluaci\xf3n configurados."})}),(0,f.jsx)("div",{className:"field-helper",children:"Los puntos se gestionan desde la secci\xf3n de plantillas."})]})}):3===un?(0,f.jsx)("div",{className:"step-content step-list",children:(0,f.jsxs)("div",{className:"detail-section",children:[(0,f.jsx)("h4",{children:"Criterios de Evaluaci\xf3n"}),on.length>0?(0,f.jsx)("div",{className:"criterios-list",children:on.slice().sort((e,n)=>e.orden-n.orden).map((e,n)=>(0,f.jsx)("div",{className:"criterio-item",children:(0,f.jsxs)("div",{className:"criterio-content",children:[(0,f.jsxs)("span",{className:"criterio-orden",children:[n+1,"."]}),(0,f.jsx)("span",{className:"criterio-texto",children:e.criterio})]})},e.id))}):(0,f.jsx)("div",{className:"no-items",children:(0,f.jsx)("p",{children:"No hay criterios de evaluaci\xf3n configurados."})}),(0,f.jsx)("div",{className:"field-helper",children:"Los criterios se gestionan desde la secci\xf3n de plantillas."})]})}):(0,f.jsxs)("div",{className:"step-content step-firmas",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Firmas configuradas"}),0===Ie.length?(0,f.jsx)("div",{className:"field-helper",children:"No hay firmas configuradas para esta evaluaci\xf3n."}):(0,f.jsx)("div",{className:"firmas-edit-grid",children:Ie.map(e=>(0,f.jsxs)("div",{className:"firma-edit-item ".concat(e.esta_firmado?"firmada":"pendiente"),children:[(0,f.jsxs)("div",{className:"firma-edit-info",children:[(0,f.jsx)("span",{className:"firma-edit-nombre",children:e.nombre}),(0,f.jsxs)("span",{className:"firma-edit-identificador",children:["Identificador: ",e.tipo_firma]}),(0,f.jsx)("span",{className:"firma-edit-estado ".concat(e.esta_firmado?"firmada":"pendiente"),children:e.estado_display||(e.esta_firmado?"Firmada":"Pendiente")})]}),!e.esta_firmado&&"empleado"!==e.tipo_firma&&(0,f.jsx)("button",{type:"button",className:"btn-icon btn-remove-firma",onClick:()=>(async e=>{if(Te)if(Ge(null),"empleado"!==e.tipo_firma){if(e.esta_firmado)Ge("No puedes eliminar una firma que ya ha sido firmada.");else if(window.confirm("\xbfEliminar esta firma de la evaluaci\xf3n?"))try{en(e.id),await d.deleteFirmaEvaluacion(e.id),await En(),alert("Firma eliminada correctamente")}catch(u){var n,a,t,r,l;console.error("Error al eliminar firma:",u);const i=(null===(n=u.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||(null===(t=u.response)||void 0===t||null===(r=t.data)||void 0===r||null===(l=r.non_field_errors)||void 0===l?void 0:l[0])||"Error al eliminar la firma";Ge(i)}finally{en(null)}}else Ge("La firma de empleado es obligatoria y no puede eliminarse.")})(e),disabled:Ze===e.id,title:"Eliminar firma",children:Ze===e.id?"...":(0,f.jsx)(Y,{})})]},e.id))})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Agregar nueva firma"}),(0,f.jsxs)("div",{className:"firma-extra-form",children:[(0,f.jsx)("div",{className:"firma-extra-inputs",children:(0,f.jsx)("input",{type:"text",value:nn,onChange:e=>an(e.target.value),placeholder:"Nombre visible"})}),(0,f.jsx)("button",{type:"button",className:"btn-secondary btn-agregar-firma",onClick:Cn,disabled:Ye,children:Ye?"Agregando...":"Agregar firma"})]})]})]})]})]}),(0,f.jsxs)("div",{className:"modal-actions modal-actions-steps",children:[(0,f.jsxs)("div",{className:"step-navigation",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>dn(e=>e>1?e-1:e),disabled:1===un||$e||Je,children:"Anterior"}),(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>dn(e=>e<4?e+1:e),disabled:4===un||$e||Je,children:"Siguiente"})]}),(0,f.jsxs)("div",{className:"primary-actions",children:[(0,f.jsx)("button",{type:"button",className:"btn-secondary",onClick:Sn,children:"Cancelar"}),(0,f.jsx)("button",{type:"button",className:"btn-primary",onClick:async()=>{if(Te)if(Re.trim())if(null===De||Number.isNaN(De)||De<0||De>100)Ge("Ingresa un m\xednimo aprobatorio v\xe1lido entre 0 y 100.");else if(null===qe||Number.isNaN(qe)||qe<=0)Ge("Ingresa un divisor de f\xf3rmula mayor a cero.");else if(null===Be||Number.isNaN(Be)||Be<0)Ge("Ingresa un multiplicador de f\xf3rmula v\xe1lido (0 o mayor).");else try{Qe(!0),await d.patchEvaluacion(Te.evaluacionId,{nombre:Re.trim(),minimo_aprobatorio:De,formula_divisor:qe,formula_multiplicador:Be}),alert("Evaluaci\xf3n actualizada exitosamente"),await yn([Te.posicionId]),Sn()}catch(u){var e,n,a,t,r;console.error("Error al actualizar la evaluaci\xf3n:",u);const i=(null===(e=u.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.detail)||(null===(a=u.response)||void 0===a||null===(t=a.data)||void 0===t||null===(r=t.non_field_errors)||void 0===r?void 0:r[0])||u.message||"Error al actualizar la evaluaci\xf3n";Ge(i)}finally{Qe(!1)}else Ge("Ingresa el nombre de la evaluaci\xf3n.")},disabled:$e||Je,children:$e?"Guardando...":"Guardar Cambios"})]})]})]})})]})},de=["image/jpeg","image/png"],me=()=>{const[e,n]=(0,t.useState)(null),[a,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)({first_name:"",last_name:"",email:"",numero_empleado:""}),[s,o]=(0,t.useState)(null),[u,p]=(0,t.useState)(null),[h,v]=(0,t.useState)(!1),[g,b]=(0,t.useState)({}),[y,x]=(0,t.useState)(!1),{toasts:j,showSuccess:N,showError:_,removeToast:S}=te(),w="ADMIN"===(null===e||void 0===e?void 0:e.role);(0,t.useEffect)(()=>{k()},[]),(0,t.useEffect)(()=>()=>{u&&u.startsWith("blob:")&&URL.revokeObjectURL(u)},[u]);const k=()=>{const e=localStorage.getItem("user");if(e)try{const a=JSON.parse(e);n(a),i({first_name:a.first_name||"",last_name:a.last_name||"",email:a.email||"",numero_empleado:a.numero_empleado||""}),o(null),p(a.profile_photo?m(a.profile_photo):null),v(!1)}catch(a){console.error("Error parsing user data:",a),_("Error al cargar los datos del usuario")}},E=e=>{const{name:n,value:a}=e.target;i(e=>c(c({},e),{},{[n]:a})),g[n]&&b(e=>c(c({},e),{},{[n]:""}))},C=async a=>{try{const t=await d.updateUserProfile(e.id,a),l=c(c({},e),{},{first_name:t.first_name,last_name:t.last_name,email:t.email,numero_empleado:t.numero_empleado,profile_photo:t.profile_photo});n(l),localStorage.setItem("user",JSON.stringify(l)),o(null),p(t.profile_photo?m(t.profile_photo):null),v(!1),r(!1),N("Perfil actualizado exitosamente")}catch(l){var t;console.error("Error updating profile:",l),null!==(t=l.response)&&void 0!==t&&t.data?b(l.response.data):_("Error al actualizar el perfil")}};return(0,f.jsxs)("div",{className:"user-profile-container",children:[(0,f.jsxs)("div",{className:"user-profile-header",children:[(0,f.jsx)("h1",{children:"Mi Perfil"}),(0,f.jsx)("p",{children:"Gestiona tu informaci\xf3n personal"})]}),(0,f.jsx)("div",{className:"user-profile-content",children:(0,f.jsxs)("div",{className:"profile-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsx)(ee,{className:"section-icon"}),(0,f.jsx)("h2",{children:"Informaci\xf3n Personal"}),!a&&w&&(0,f.jsxs)("button",{className:"btn-edit",onClick:()=>{w&&(r(!0),v(!1),o(null),p(null!==e&&void 0!==e&&e.profile_photo?m(e.profile_photo):null))},children:[(0,f.jsx)(U,{})," Editar"]})]}),(0,f.jsxs)("div",{className:"profile-info",children:[(0,f.jsxs)("div",{className:"profile-photo-section",children:[(0,f.jsx)("div",{className:"profile-photo-preview",children:u?(0,f.jsx)("img",{src:u,alt:"Foto de perfil"}):(0,f.jsx)(ee,{})}),a&&(0,f.jsxs)("div",{className:"profile-photo-actions",children:[(0,f.jsxs)("label",{className:"btn-upload",children:[(0,f.jsx)("input",{type:"file",accept:"image/jpeg,image/png",onChange:n=>{var a,t;const r=null!==(a=null===(t=n.target.files)||void 0===t?void 0:t[0])&&void 0!==a?a:null;if(u&&u.startsWith("blob:")&&URL.revokeObjectURL(u),!r)return o(null),p(null!==e&&void 0!==e&&e.profile_photo?m(e.profile_photo):null),void v(!1);if(!(e=>de.includes(e.type)?!(e.size>2097152)||(_("La foto debe pesar m\xe1ximo 2 MB."),!1):(_("La foto debe ser una imagen JPG o PNG."),!1))(r))return n.target.value="",o(null),p(null!==e&&void 0!==e&&e.profile_photo?m(e.profile_photo):null),void v(!1);const l=URL.createObjectURL(r);o(r),p(l),v(!1)}}),"Cambiar foto"]}),s&&(0,f.jsx)("button",{type:"button",className:"btn-link",onClick:()=>{u&&u.startsWith("blob:")&&URL.revokeObjectURL(u),o(null),p(null!==e&&void 0!==e&&e.profile_photo?m(e.profile_photo):null),v(!1)},children:"Cancelar selecci\xf3n"}),(u||(null===e||void 0===e?void 0:e.profile_photo))&&(0,f.jsx)("button",{type:"button",className:"btn-link",onClick:()=>{u&&u.startsWith("blob:")&&URL.revokeObjectURL(u),o(null),p(null),v(!0)},children:"Eliminar foto"}),h&&(null===e||void 0===e?void 0:e.profile_photo)&&(0,f.jsx)("span",{className:"photo-remove-note",children:"La foto se eliminar\xe1 al guardar."}),g.profile_photo&&(0,f.jsx)("span",{className:"error-message",children:g.profile_photo})]})]}),a?(0,f.jsxs)("div",{className:"profile-form",children:[(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre"}),(0,f.jsx)("input",{type:"text",name:"first_name",value:l.first_name,onChange:E,className:g.first_name?"error":""}),g.first_name&&(0,f.jsx)("span",{className:"error-message",children:g.first_name})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Apellido"}),(0,f.jsx)("input",{type:"text",name:"last_name",value:l.last_name,onChange:E,className:g.last_name?"error":""}),g.last_name&&(0,f.jsx)("span",{className:"error-message",children:g.last_name})]})]}),(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Email"}),(0,f.jsx)("input",{type:"email",name:"email",value:l.email,onChange:E,className:g.email?"error":""}),g.email&&(0,f.jsx)("span",{className:"error-message",children:g.email})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"N\xfamero de Empleado"}),(0,f.jsx)("input",{type:"text",name:"numero_empleado",value:l.numero_empleado,onChange:E})]})]}),(0,f.jsxs)("div",{className:"form-actions",children:[(0,f.jsxs)("button",{className:"btn-secondary",onClick:()=>{r(!1),b({}),k()},disabled:y,children:[(0,f.jsx)(K,{})," Cancelar"]}),(0,f.jsxs)("button",{className:"btn-primary",onClick:async()=>{if(w)try{x(!0),b({});const e={};if(l.first_name.trim()||(e.first_name="El nombre es requerido"),l.last_name.trim()||(e.last_name="El apellido es requerido"),l.email.trim()?/\S+@\S+\.\S+/.test(l.email)||(e.email="El email no es v\xe1lido"):e.email="El email es requerido",Object.keys(e).length>0)return void b(e);const n=new FormData;n.append("first_name",l.first_name),n.append("last_name",l.last_name),n.append("email",l.email),n.append("numero_empleado",l.numero_empleado),s?(n.append("profile_photo",s),n.append("remove_profile_photo","false")):h?n.append("remove_profile_photo","true"):n.append("remove_profile_photo","false"),await C(n)}catch(n){var e;console.error("Error updating profile:",n),null!==(e=n.response)&&void 0!==e&&e.data?b(n.response.data):_("Error al actualizar el perfil")}finally{x(!1)}else _("Solo un administrador puede editar el perfil.")},disabled:y,children:[(0,f.jsx)($,{})," ",y?"Guardando...":"Guardar"]})]})]}):(0,f.jsxs)("div",{className:"profile-display",children:[(0,f.jsxs)("div",{className:"info-item",children:[(0,f.jsx)("label",{children:"Nombre Completo:"}),(0,f.jsx)("span",{children:e?e.first_name&&e.last_name?"".concat(e.first_name," ").concat(e.last_name):e.first_name?e.first_name:e.username:"Usuario"})]}),(0,f.jsxs)("div",{className:"info-item",children:[(0,f.jsx)("label",{children:"Usuario:"}),(0,f.jsx)("span",{children:null===e||void 0===e?void 0:e.username})]}),(0,f.jsxs)("div",{className:"info-item",children:[(0,f.jsx)("label",{children:"Email:"}),(0,f.jsx)("span",{children:null===e||void 0===e?void 0:e.email})]}),(0,f.jsxs)("div",{className:"info-item",children:[(0,f.jsx)("label",{children:"N\xfamero de Empleado:"}),(0,f.jsx)("span",{children:(null===e||void 0===e?void 0:e.numero_empleado)||"No asignado"})]}),(0,f.jsxs)("div",{className:"info-item",children:[(0,f.jsx)("label",{children:"Rol:"}),(0,f.jsx)("span",{className:"role-badge",children:null===e||void 0===e?void 0:e.role_display})]})]})]})]})}),(0,f.jsx)(le,{toasts:j,onRemoveToast:S})]})},fe=e=>e.toLowerCase().trim().replace(/[\s_]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-"),pe=()=>{const{showSuccess:e,showError:n,toasts:a,removeToast:r}=te(),[l,i]=(0,t.useState)([]),[s,o]=(0,t.useState)([]),[u,m]=(0,t.useState)([]),[p,h]=(0,t.useState)([]),[v,g]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[x,j]=(0,t.useState)(!1),[N,_]=(0,t.useState)(!1),[S,w]=(0,t.useState)(!1),[k,E]=(0,t.useState)(!1),[C,P]=(0,t.useState)(null),[L,z]=(0,t.useState)(""),[O,T]=(0,t.useState)(null),[A,R]=(0,t.useState)(null),[D,M]=(0,t.useState)({nombre:"",posicion:null,supervisor:null,nivel:1,minimo_aprobatorio:70,formula_divisor:17,formula_multiplicador:80,fecha_evaluacion:"",is_active:!0,es_plantilla:!0,puntos_evaluacion:[],criterios_evaluacion:[]}),[I,q]=(0,t.useState)({nombre:"",posicion:null,supervisor:null,nivel:1,minimo_aprobatorio:70,formula_divisor:17,formula_multiplicador:80,fecha_evaluacion:"",is_active:!0}),[H,B]=(0,t.useState)({pregunta:"",orden:0}),[V,G]=(0,t.useState)({criterio:"",orden:0}),[$,Q]=(0,t.useState)({nombre:"",identificador:""});(0,t.useEffect)(()=>{J()},[]);const J=async()=>{try{g(!0);const[e,n,a,t]=await Promise.all([d.getEvaluaciones({es_plantilla:!0}),d.getAreas(),d.getPosiciones(),d.getUsers({role:"ADMIN,EVALUADOR",is_active:!0})]);i(e.results),o(n.results),m(a.results),h(t.results)}catch(e){console.error("Error loading data:",e),n("Error al cargar los datos")}finally{g(!1)}},K=()=>{M({nombre:"",posicion:null,supervisor:null,nivel:1,minimo_aprobatorio:70,formula_divisor:17,formula_multiplicador:80,fecha_evaluacion:"",is_active:!0,es_plantilla:!0,puntos_evaluacion:[],criterios_evaluacion:[]})},X=async e=>{try{g(!0);const n=await d.getEvaluacion(e.id);P(n),z(n.nombre||""),j(!0)}catch(a){console.error("Error loading evaluacion details:",a),n("Error al cargar los detalles de la evaluaci\xf3n")}finally{g(!1)}},Z=async()=>{if(!C)return;const a=L.trim();if(a){if(a!==C.nombre)try{g(!0);const n={nombre:a};await d.updateEvaluacion(C.id,n);const t=await d.getEvaluacion(C.id);P(t),J(),e("Nombre actualizado correctamente")}catch(l){var t,r;console.error("Error al actualizar nombre de plantilla:",l),n((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"No se pudo actualizar el nombre")}finally{g(!1)}}else n("El nombre no puede estar vac\xedo")},ee=()=>{B({pregunta:"",orden:0})},ne=()=>{G({criterio:"",orden:0})},ae=()=>{Q({nombre:"",identificador:""})};return(0,f.jsxs)("div",{className:"evaluaciones-management",children:[(0,f.jsxs)("div",{className:"management-header",children:[(0,f.jsx)("h2",{children:"Gesti\xf3n de Plantillas"}),(0,f.jsxs)("button",{className:"btn btn-primary",onClick:()=>y(!0),children:[(0,f.jsx)(W,{})," Nueva Plantilla"]})]}),(0,f.jsx)("div",{className:"evaluaciones-list",children:v?(0,f.jsx)("div",{className:"loading",children:"Cargando..."}):0===l.length?(0,f.jsx)("div",{className:"no-data",children:"No hay evaluaciones disponibles"}):(0,f.jsx)("div",{className:"evaluaciones-grid",children:l.map(a=>(0,f.jsx)("div",{className:"evaluacion-card",children:(0,f.jsxs)("div",{className:"card-header card-header-clickable",onClick:()=>X(a),children:[(0,f.jsx)("h3",{children:a.nombre}),(0,f.jsxs)("div",{className:"card-actions",onClick:e=>e.stopPropagation(),children:[(0,f.jsx)("button",{className:"btn-icon",onClick:()=>X(a),title:"Ver detalles",children:(0,f.jsx)(F,{})}),(0,f.jsx)("button",{className:"btn-icon btn-danger",onClick:()=>(async a=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta evaluaci\xf3n?"))try{g(!0),await d.deleteEvaluacion(a),e("Evaluaci\xf3n eliminada exitosamente"),J()}catch(l){var t,r;console.error("Error deleting evaluacion:",l),n((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al eliminar la evaluaci\xf3n")}finally{g(!1)}})(a.id),title:"Eliminar",children:(0,f.jsx)(Y,{})})]})]})},a.id))})}),b&&(0,f.jsx)("div",{className:"modal-overlay",children:(0,f.jsxs)("div",{className:"modal",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h3",{children:"Nueva Plantilla"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>y(!1),children:"\xd7"})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsx)("div",{className:"form-grid",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre de la Plantilla"}),(0,f.jsx)("input",{type:"text",value:D.nombre,onChange:e=>M(n=>c(c({},n),{},{nombre:e.target.value})),placeholder:"Ej: Evaluaci\xf3n de Competencias - Operador"})]})})}),(0,f.jsxs)("div",{className:"modal-footer",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>y(!1),children:"Cancelar"}),(0,f.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(D.nombre)try{g(!0),await d.createEvaluacion({nombre:D.nombre,es_plantilla:D.es_plantilla,posicion:D.posicion,supervisor:D.supervisor,nivel:D.nivel,minimo_aprobatorio:D.minimo_aprobatorio,formula_divisor:D.formula_divisor,formula_multiplicador:D.formula_multiplicador,fecha_evaluacion:D.fecha_evaluacion||null,is_active:D.is_active,puntos_evaluacion:D.puntos_evaluacion,criterios_evaluacion:D.criterios_evaluacion}),e("Evaluaci\xf3n creada exitosamente"),y(!1),K(),J()}catch(r){var a,t;console.error("Error creating evaluacion:",r),n((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.detail)||"Error al crear la evaluaci\xf3n")}finally{g(!1)}else n("Por favor ingresa el nombre de la evaluaci\xf3n")},disabled:v||!D.nombre,children:v?"Creando...":"Crear"})]})]})}),x&&C&&(0,f.jsx)("div",{className:"modal-overlay",children:(0,f.jsxs)("div",{className:"modal modal-large",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h3",{children:"Detalles de la Plantilla"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>j(!1),children:"\xd7"})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsxs)("div",{className:"detail-sections",children:[(0,f.jsxs)("div",{className:"detail-section",children:[(0,f.jsx)("h4",{children:"Informaci\xf3n General"}),(0,f.jsx)("div",{className:"detail-grid",children:(0,f.jsxs)("div",{className:"detail-item",children:[(0,f.jsx)("label",{children:"Nombre:"}),(0,f.jsx)("input",{type:"text",value:L,onChange:e=>z(e.target.value),onBlur:Z,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Z()),"Escape"===e.key&&z(C.nombre||"")},maxLength:150,disabled:v})]})})]}),(0,f.jsxs)("div",{className:"detail-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsx)("h4",{children:"Puntos de Evaluaci\xf3n"}),(0,f.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{ee(),T(null),_(!0)},children:[(0,f.jsx)(W,{})," Agregar Punto"]})]}),C.puntos_evaluacion&&C.puntos_evaluacion.length>0?(0,f.jsx)("div",{className:"puntos-list",children:C.puntos_evaluacion.map((a,t)=>(0,f.jsxs)("div",{className:"punto-item",children:[(0,f.jsxs)("div",{className:"punto-header",children:[(0,f.jsxs)("span",{className:"punto-orden",children:[t+1,"."]}),(0,f.jsx)("span",{className:"punto-pregunta",children:a.pregunta}),a.puntuacion&&(0,f.jsx)("span",{className:"punto-puntuacion puntuacion-".concat(a.puntuacion),children:1===a.puntuacion?"Bajo":2===a.puntuacion?"Medio":"Alto"})]}),(0,f.jsxs)("div",{className:"punto-actions",children:[(0,f.jsx)("button",{className:"btn-icon",onClick:()=>(e=>{T(e),B({pregunta:e.pregunta,orden:e.orden}),_(!0)})(a),title:"Editar punto",children:(0,f.jsx)(U,{})}),(0,f.jsx)("button",{className:"btn-icon btn-danger",onClick:()=>(async a=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este punto de evaluaci\xf3n?"))try{g(!0),await d.deletePuntoEvaluacion(a),e("Punto de evaluaci\xf3n eliminado exitosamente");const n=await d.getEvaluacion(C.id);P(n)}catch(l){var t,r;console.error("Error deleting punto:",l),n((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al eliminar el punto de evaluaci\xf3n")}finally{g(!1)}})(a.id),title:"Eliminar punto",children:(0,f.jsx)(Y,{})})]})]},a.id))}):(0,f.jsx)("div",{className:"no-items",children:(0,f.jsx)("p",{children:"No hay puntos de evaluaci\xf3n configurados"})})]}),(0,f.jsxs)("div",{className:"detail-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsx)("h4",{children:"Criterios de Evaluaci\xf3n"}),(0,f.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{ne(),R(null),w(!0)},children:[(0,f.jsx)(W,{})," Agregar Criterio"]})]}),C.criterios_evaluacion&&C.criterios_evaluacion.length>0?(0,f.jsx)("div",{className:"criterios-list",children:C.criterios_evaluacion.map((a,t)=>(0,f.jsxs)("div",{className:"criterio-item",children:[(0,f.jsxs)("div",{className:"criterio-content",children:[(0,f.jsxs)("span",{className:"criterio-orden",children:[t+1,"."]}),(0,f.jsx)("span",{className:"criterio-texto",children:a.criterio})]}),(0,f.jsxs)("div",{className:"criterio-actions",children:[(0,f.jsx)("button",{className:"btn-icon",onClick:()=>(e=>{R(e),G({criterio:e.criterio,orden:e.orden}),w(!0)})(a),title:"Editar criterio",children:(0,f.jsx)(U,{})}),(0,f.jsx)("button",{className:"btn-icon btn-danger",onClick:()=>(async a=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este criterio de evaluaci\xf3n?"))try{g(!0),await d.deleteCriterioEvaluacion(a),e("Criterio de evaluaci\xf3n eliminado exitosamente");const n=await d.getEvaluacion(C.id);P(n)}catch(l){var t,r;console.error("Error deleting criterio:",l),n((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al eliminar el criterio de evaluaci\xf3n")}finally{g(!1)}})(a.id),title:"Eliminar criterio",children:(0,f.jsx)(Y,{})})]})]},a.id))}):(0,f.jsx)("div",{className:"no-items",children:(0,f.jsx)("p",{children:"No hay criterios de evaluaci\xf3n configurados"})})]}),(0,f.jsxs)("div",{className:"detail-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsx)("h4",{children:"Firmas"}),(0,f.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{C&&(ae(),E(!0))},children:[(0,f.jsx)(W,{})," Agregar Firma"]})]}),C.firmas&&C.firmas.length>0?(0,f.jsx)("div",{className:"firmas-grid",children:C.firmas.map(a=>(0,f.jsxs)("div",{className:"firma-item ".concat(a.esta_firmado?"firmado":"pendiente"),children:[(0,f.jsxs)("div",{className:"firma-header",children:[(0,f.jsx)("span",{className:"firma-tipo",children:a.tipo_firma_display||a.tipo_firma}),(0,f.jsx)("span",{className:"firma-estado ".concat(a.esta_firmado?"firmado":"pendiente"),children:a.estado_display||(a.esta_firmado?"Firmado":"Pendiente")})]}),(0,f.jsxs)("div",{className:"firma-details",children:[(0,f.jsx)("div",{className:"firma-nombre",children:a.nombre}),a.esta_firmado?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"firma-usuario",children:a.usuario_nombre}),(0,f.jsx)("div",{className:"firma-fecha",children:a.fecha_firma?new Date(a.fecha_firma).toLocaleDateString():""})]}):(0,f.jsxs)("div",{className:"firma-orden",children:["Orden: ",a.orden]})]}),(0,f.jsx)("div",{className:"firma-actions",children:!a.esta_firmado&&(0,f.jsx)("button",{className:"btn-icon btn-danger",onClick:()=>(async(a,t)=>{if(C)if(t)n("No puedes eliminar una firma que ya ha sido firmada.");else if(window.confirm("\xbfEliminar esta firma de la evaluaci\xf3n?"))try{g(!0),await d.deleteFirmaEvaluacion(a),e("Firma eliminada correctamente");const n=await d.getEvaluacion(C.id);P(n)}catch(i){var r,l;console.error("Error eliminando firma:",i),n((null===(r=i.response)||void 0===r||null===(l=r.data)||void 0===l?void 0:l.detail)||"Error al eliminar la firma")}finally{g(!1)}})(a.id,a.esta_firmado),title:"Eliminar firma",children:(0,f.jsx)(Y,{})})})]},a.id))}):(0,f.jsx)("div",{className:"no-items",children:(0,f.jsx)("p",{children:"No hay firmas configuradas"})})]})]})}),(0,f.jsx)("div",{className:"modal-footer",children:(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>j(!1),children:"Cerrar"})})]})}),N&&(0,f.jsx)("div",{className:"modal-overlay",children:(0,f.jsxs)("div",{className:"modal",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h3",{children:O?"Editar Punto de Evaluaci\xf3n":"Nuevo Punto de Evaluaci\xf3n"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>{_(!1),T(null),ee()},children:"\xd7"})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Pregunta"}),(0,f.jsx)("textarea",{value:H.pregunta,onChange:e=>B(n=>c(c({},n),{},{pregunta:e.target.value})),placeholder:"Ingresa la pregunta de evaluaci\xf3n...",rows:4})]})}),(0,f.jsxs)("div",{className:"modal-footer",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>{_(!1),T(null),ee()},children:"Cancelar"}),(0,f.jsx)("button",{className:"btn btn-primary",onClick:O?async()=>{if(O&&H.pregunta.trim())try{g(!0),await d.updatePuntoEvaluacion(O.id,{pregunta:H.pregunta,orden:O.orden||H.orden}),e("Punto de evaluaci\xf3n actualizado exitosamente"),_(!1),T(null),ee();const n=await d.getEvaluacion(C.id);P(n)}catch(r){var a,t;console.error("Error updating punto:",r),n((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.detail)||"Error al actualizar el punto de evaluaci\xf3n")}finally{g(!1)}else n("Por favor ingresa una pregunta")}:async()=>{if(C&&H.pregunta.trim())try{var a;g(!0);const n=((null===(a=C.puntos_evaluacion)||void 0===a?void 0:a.length)||0)+1;await d.agregarPuntoEvaluacion(C.id,{pregunta:H.pregunta,orden:n}),e("Punto de evaluaci\xf3n agregado exitosamente"),_(!1),ee();const t=await d.getEvaluacion(C.id);P(t)}catch(l){var t,r;console.error("Error creating punto:",l),n((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al agregar el punto de evaluaci\xf3n")}finally{g(!1)}else n("Por favor ingresa una pregunta")},disabled:v||!H.pregunta.trim(),children:v?"Guardando...":O?"Actualizar":"Agregar"})]})]})}),S&&(0,f.jsx)("div",{className:"modal-overlay",children:(0,f.jsxs)("div",{className:"modal",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h3",{children:A?"Editar Criterio de Evaluaci\xf3n":"Nuevo Criterio de Evaluaci\xf3n"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>{w(!1),R(null),ne()},children:"\xd7"})]}),(0,f.jsx)("div",{className:"modal-body",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Criterio"}),(0,f.jsx)("textarea",{value:V.criterio,onChange:e=>G(n=>c(c({},n),{},{criterio:e.target.value})),placeholder:"Ingresa el criterio de evaluaci\xf3n...",rows:4})]})}),(0,f.jsxs)("div",{className:"modal-footer",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>{w(!1),R(null),ne()},children:"Cancelar"}),(0,f.jsx)("button",{className:"btn btn-primary",onClick:A?async()=>{if(A&&V.criterio.trim())try{g(!0),await d.updateCriterioEvaluacion(A.id,{criterio:V.criterio,orden:A.orden||V.orden}),e("Criterio de evaluaci\xf3n actualizado exitosamente"),w(!1),R(null),ne();const n=await d.getEvaluacion(C.id);P(n)}catch(r){var a,t;console.error("Error updating criterio:",r),n((null===(a=r.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.detail)||"Error al actualizar el criterio de evaluaci\xf3n")}finally{g(!1)}else n("Por favor ingresa un criterio")}:async()=>{if(C&&V.criterio.trim())try{var a;g(!0);const n=((null===(a=C.criterios_evaluacion)||void 0===a?void 0:a.length)||0)+1;await d.agregarCriterioEvaluacion(C.id,{criterio:V.criterio,orden:n}),e("Criterio de evaluaci\xf3n agregado exitosamente"),w(!1),ne();const t=await d.getEvaluacion(C.id);P(t)}catch(l){var t,r;console.error("Error creating criterio:",l),n((null===(t=l.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||"Error al agregar el criterio de evaluaci\xf3n")}finally{g(!1)}else n("Por favor ingresa un criterio")},disabled:v||!V.criterio.trim(),children:v?"Guardando...":A?"Actualizar":"Agregar"})]})]})}),k&&(0,f.jsx)("div",{className:"modal-overlay",children:(0,f.jsxs)("div",{className:"modal",children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsx)("h3",{children:"Nueva Firma"}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>{E(!1),ae()},children:"\xd7"})]}),(0,f.jsxs)("div",{className:"modal-body",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Nombre visible *"}),(0,f.jsx)("input",{type:"text",value:$.nombre,onChange:e=>Q(n=>c(c({},n),{},{nombre:e.target.value,identificador:n.identificador?n.identificador:fe(e.target.value)})),placeholder:"Ej. Firma del Supervisor"})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{children:"Identificador (sin espacios) *"}),(0,f.jsx)("input",{type:"text",value:$.identificador,onChange:e=>Q(n=>c(c({},n),{},{identificador:fe(e.target.value)})),placeholder:"Ej. supervisor-produccion"}),(0,f.jsx)("small",{className:"field-helper",children:"Debe ser \xfanico dentro de la evaluaci\xf3n. Se genera autom\xe1ticamente a partir del nombre, pero puedes ajustarlo."})]})]}),(0,f.jsxs)("div",{className:"modal-footer",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>{E(!1),ae()},children:"Cancelar"}),(0,f.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(!C)return;if(!$.nombre.trim())return void n("Ingresa el nombre visible de la firma");const a=fe($.identificador||$.nombre);if(a)try{g(!0),await d.createFirmaEvaluacion({evaluacion:C.id,tipo_firma:a,nombre:$.nombre.trim()}),e("Firma agregada exitosamente"),E(!1),ae();const n=await d.getEvaluacion(C.id);P(n)}catch(m){var t,r,l,i,s,o,c,u;console.error("Error agregando firma:",m);const e=(null===(t=m.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||(null===(l=m.response)||void 0===l||null===(i=l.data)||void 0===i||null===(s=i.non_field_errors)||void 0===s?void 0:s[0])||(null===(o=m.response)||void 0===o||null===(c=o.data)||void 0===c||null===(u=c.tipo_firma)||void 0===u?void 0:u[0]);n(e||"Error al agregar la firma")}finally{g(!1)}else n("Ingresa un identificador v\xe1lido para la firma")},disabled:v||!$.nombre.trim(),children:v?"Guardando...":"Agregar Firma"})]})]})}),(0,f.jsx)(le,{toasts:a,onRemoveToast:r})]})},he=e=>{let{userRole:n}=e;const[a,r]=(0,t.useState)("main"),l=(0,t.useMemo)(()=>"ADMIN"===n?["profile","users","areas","plantillas"]:["profile"],[n]);(0,t.useEffect)(()=>{"main"===a||l.includes(a)||r("main")},[a,l]);const i=()=>(0,f.jsxs)("div",{className:"access-denied",children:[(0,f.jsx)("h2",{children:"Acceso restringido"}),(0,f.jsx)("p",{children:"No tienes permisos para ver esta secci\xf3n."})]});return(0,f.jsxs)("div",{className:"settings-container",children:["main"===a?null:(0,f.jsxs)("div",{className:"settings-nav",children:[(0,f.jsxs)("button",{className:"back-button",onClick:()=>r("main"),children:[(0,f.jsx)(N,{})," Volver a Ajustes"]}),(0,f.jsxs)("div",{className:"settings-nav-title",children:["profile"===a&&"Mi Perfil","users"===a&&"Gesti\xf3n de Usuarios","areas"===a&&"Gesti\xf3n de \xc1reas","plantillas"===a&&"Gesti\xf3n de Plantillas"]})]}),(()=>{switch(a){case"users":return l.includes("users")?(0,f.jsx)(oe,{}):i();case"areas":return l.includes("areas")?(0,f.jsx)(ue,{}):i();case"plantillas":return l.includes("plantillas")?(0,f.jsx)(pe,{}):i();case"profile":return(0,f.jsx)(me,{});default:return(0,f.jsxs)("div",{className:"settings-main",children:[(0,f.jsxs)("div",{className:"settings-header",children:[(0,f.jsx)("h1",{children:"Ajustes del Sistema"}),(0,f.jsx)("p",{children:"Gestiona la configuraci\xf3n del sistema de evaluaciones"})]}),(0,f.jsxs)("div",{className:"settings-grid",children:[l.includes("profile")&&(0,f.jsxs)("div",{className:"settings-card",onClick:()=>r("profile"),children:[(0,f.jsx)("div",{className:"settings-card-icon",children:(0,f.jsx)(ee,{})}),(0,f.jsxs)("div",{className:"settings-card-content",children:[(0,f.jsx)("h3",{children:"Mi Perfil"}),(0,f.jsx)("p",{children:"Edita tu informaci\xf3n personal"})]}),(0,f.jsx)("div",{className:"settings-card-arrow",children:"\u2192"})]}),l.includes("users")&&(0,f.jsxs)("div",{className:"settings-card",onClick:()=>r("users"),children:[(0,f.jsx)("div",{className:"settings-card-icon",children:(0,f.jsx)(ne,{})}),(0,f.jsxs)("div",{className:"settings-card-content",children:[(0,f.jsx)("h3",{children:"Gesti\xf3n de Usuarios"}),(0,f.jsx)("p",{children:"Administra usuarios, roles y permisos del sistema"})]}),(0,f.jsx)("div",{className:"settings-card-arrow",children:"\u2192"})]}),l.includes("areas")&&(0,f.jsxs)("div",{className:"settings-card",onClick:()=>r("areas"),children:[(0,f.jsx)("div",{className:"settings-card-icon",children:(0,f.jsx)(C,{})}),(0,f.jsxs)("div",{className:"settings-card-content",children:[(0,f.jsx)("h3",{children:"Gesti\xf3n de \xc1reas"}),(0,f.jsx)("p",{children:"Crea y administra las \xe1reas de trabajo"})]}),(0,f.jsx)("div",{className:"settings-card-arrow",children:"\u2192"})]}),l.includes("plantillas")&&(0,f.jsxs)("div",{className:"settings-card",onClick:()=>r("plantillas"),children:[(0,f.jsx)("div",{className:"settings-card-icon",children:(0,f.jsx)(P,{})}),(0,f.jsxs)("div",{className:"settings-card-content",children:[(0,f.jsx)("h3",{children:"Gesti\xf3n de Plantillas"}),(0,f.jsx)("p",{children:"Crea y administra plantillas de evaluaci\xf3n"})]}),(0,f.jsx)("div",{className:"settings-card-arrow",children:"\u2192"})]})]})]})}})()]})},ve=(e,n)=>{const a={};e.forEach(e=>{var t,r,l;const i=null!==(t=null!==(r=null===(l=e.nivel_posicion_data)||void 0===l?void 0:l.nivel)&&void 0!==r?r:e.nivel)&&void 0!==t?t:null;if("number"!==typeof i)return;a[i]||(a[i]={total:0,completadas:0}),a[i].total+=1;const s=n[e.id],o=((null===s||void 0===s?void 0:s.estado)||"").toLowerCase();!("firmas_completas"===((null===s||void 0===s?void 0:s.estado_firmas_usuario)||"").toLowerCase())||"completada"!==o&&null===e.resultado||(a[i].completadas+=1)});const t={};return Object.entries(a).forEach(e=>{let[n,a]=e;const r=Number(n);t[r]=a.total>0&&a.total===a.completadas}),{stats:a,completados:t}},ge=e=>{var n;let{userRole:a,currentUser:r}=e;const{toasts:l,removeToast:s,showSuccess:o,showError:u}=te(),[p,h]=(0,t.useState)("areas"),[v,g]=(0,t.useState)(null),[b,y]=(0,t.useState)(null),[x,j]=(0,t.useState)(null),[_,S]=(0,t.useState)(null),[w,k]=(0,t.useState)([]),[E,C]=(0,t.useState)([]),[P,L]=(0,t.useState)([]),[z,M]=(0,t.useState)([]),[I,F]=(0,t.useState)([]),[q,H]=(0,t.useState)([]),[B,V]=(0,t.useState)([]),[J,Y]=(0,t.useState)([]),[X,Z]=(0,t.useState)([]),[ee,re]=(0,t.useState)([]),[ie,se]=(0,t.useState)(null),[oe,ce]=(0,t.useState)([]),[ue,de]=(0,t.useState)({}),[me,fe]=(0,t.useState)(null),[pe,he]=(0,t.useState)(!1),[ge,be]=(0,t.useState)(null),[ye,xe]=(0,t.useState)([]),[je,Ne]=(0,t.useState)(null),[_e,Se]=(0,t.useState)({}),[we,ke]=(0,t.useState)({}),[Ee,Ce]=(0,t.useState)(!1),[Pe,Le]=(0,t.useState)({}),[ze,Oe]=(0,t.useState)("todos"),Te=(0,t.useRef)(null),[Ae,Re]=(0,t.useState)(!1),[Ue,De]=(0,t.useState)({}),[Me,Ie]=(0,t.useState)({}),[Fe,qe]=(0,t.useState)({}),[He,Be]=(0,t.useState)({}),[Ve,We]=(0,t.useState)(null),[Ge,$e]=(0,t.useState)(null),[Qe,Je]=(0,t.useState)(null),[Ke,Ye]=(0,t.useState)(""),[Xe,Ze]=(0,t.useState)(!1),[en,nn]=(0,t.useState)(null),[an,tn]=(0,t.useState)({nombre:"",supervisor:null,instructor:null,usuarios_regulares:[],area:0,is_active:!0}),[rn,ln]=(0,t.useState)([]),[sn,on]=(0,t.useState)({}),[cn,un]=(0,t.useState)(!1),[dn,mn]=(0,t.useState)(null),fn=(0,t.useMemo)(()=>a||(null===r||void 0===r?void 0:r.role)||"USUARIO",[a,r]),pn="USUARIO"===fn,hn=null!==(n=null===r||void 0===r?void 0:r.id)&&void 0!==n?n:null;(0,t.useEffect)(()=>{pn||jn()},[pn]),(0,t.useEffect)(()=>{const e=((null===ge||void 0===ge?void 0:ge.estado)||"").toLowerCase(),n=((null===ge||void 0===ge?void 0:ge.estado_firmas_usuario)||"").toLowerCase(),a=((null===ie||void 0===ie?void 0:ie.estado_firmas)||"").toLowerCase();"completada"!==e&&"firmas_completas"!==n&&"firmas_completas"!==a||he(!0)},[ge,ie]),(0,t.useEffect)(()=>{const e=Te.current;if(!e)return;const n=e.getContext("2d");n&&(n.strokeStyle="#e12026",n.lineWidth=2,n.lineCap="round",n.lineJoin="round")},[]);const vn=e=>{if(!Ve)return;const n=Te.current;if(!n)return;const a=n.getBoundingClientRect(),t=n.getContext("2d");t&&(t.beginPath(),t.moveTo(e.clientX-a.left,e.clientY-a.top),Re(!0))},gn=e=>{if(!Ae||!Ve)return;const n=Te.current;if(!n)return;const a=n.getBoundingClientRect(),t=n.getContext("2d");t&&(t.lineTo(e.clientX-a.left,e.clientY-a.top),t.stroke(),De(e=>c(c({},e),{},{[Ve.tipo]:!0})))},bn=()=>{if(!Ae||!Ve)return;Re(!1);const e=Te.current;if(e&&Ue[Ve.tipo]){const n=e.toDataURL("image/png");Ie(e=>c(c({},e),{},{[Ve.tipo]:n}))}},yn=e=>{var n,a;We({tipo:e.tipo_firma,nombre:e.nombre});const t=null!==(n=Fe[e.tipo_firma])&&void 0!==n?n:null,r=null!==(a=He[e.tipo_firma])&&void 0!==a?a:null;var l;"empleado"===e.tipo_firma?$e(null!==(l=null===_||void 0===_?void 0:_.id)&&void 0!==l?l:null):void 0!==(null===r||void 0===r?void 0:r.usuario)&&null!==(null===r||void 0===r?void 0:r.usuario)?$e(r.usuario):null!==t&&void 0!==t&&t.usuario?$e(t.usuario):e.usuario?$e(e.usuario):me?$e(me):q.length>0?$e(q[0].id):$e(null);setTimeout(()=>{var n,a,l;const i=Te.current;if(!i)return;const s=i.getContext("2d");if(!s)return;s.clearRect(0,0,i.width,i.height);const o=null!==(n=null!==(a=null!==(l=Me[e.tipo_firma])&&void 0!==l?l:null===t||void 0===t?void 0:t.imagen)&&void 0!==a?a:null===r||void 0===r?void 0:r.imagen)&&void 0!==n?n:null;if(o){const n=new Image;n.onload=()=>{s.clearRect(0,0,i.width,i.height),s.drawImage(n,0,0),De(n=>c(c({},n),{},{[e.tipo_firma]:Boolean(o)}))},n.src=o}else De(n=>c(c({},n),{},{[e.tipo_firma]:!1}))},0)},xn=()=>{if(!Ve)return;const e=Te.current;if(!e)return;const n=e.getContext("2d");n&&(n.clearRect(0,0,e.width,e.height),De(e=>c(c({},e),{},{[Ve.tipo]:!1})),Ie(e=>c(c({},e),{},{[Ve.tipo]:null})),Be(e=>{if(ge)return e;const n=Ve.tipo,{[n]:a}=e;return ae(e,[n].map(i))}))};(0,t.useEffect)(()=>{if(Ke){const e=I.filter(e=>e.full_name.toLowerCase().includes(Ke.toLowerCase())||e.username.toLowerCase().includes(Ke.toLowerCase())||e.email.toLowerCase().includes(Ke.toLowerCase()));ln(e)}else ln(I)},[Ke,I]),(0,t.useEffect)(()=>{var e;if(!ie||!ie.firmas)return We(null),$e(null),Ie({}),De({}),qe({}),void Be({});const n=null!==(e=null===ge||void 0===ge?void 0:ge.firmas_usuario)&&void 0!==e?e:[],a={};n.forEach(e=>{a[e.tipo_firma]=e}),ge&&Be({});const t={},r={},l={};ie.firmas.forEach(e=>{var n,i;const s=e.tipo_firma,o=null!==(n=a[s])&&void 0!==n?n:null;l[s]=o;const c=null!==(i=null===o||void 0===o?void 0:o.imagen)&&void 0!==i?i:null;t[s]=c,r[s]=Boolean((null===o||void 0===o?void 0:o.esta_firmado)&&c)}),qe(l),Ie(t),De(r)},[ie,ge]),(0,t.useEffect)(()=>{if("usuarios"===p&&Ke){const e=z.filter(e=>{const n=e.posicion===(null===x||void 0===x?void 0:x.id),a=e.areas.includes((null===v||void 0===v?void 0:v.id)||0),t=e.grupo===(null===b||void 0===b?void 0:b.id),r="USUARIO"===e.role;return n&&a&&t&&r}).filter(e=>e.full_name.toLowerCase().includes(Ke.toLowerCase())||e.username.toLowerCase().includes(Ke.toLowerCase())||e.email.toLowerCase().includes(Ke.toLowerCase()));Z(e)}else if("usuarios"===p&&!Ke){const e=z.filter(e=>{const n=e.posicion===(null===x||void 0===x?void 0:x.id),a=e.areas.includes((null===v||void 0===v?void 0:v.id)||0),t=e.grupo===(null===b||void 0===b?void 0:b.id),r="USUARIO"===e.role;return n&&a&&t&&r});Z(e)}},[Ke,p,z,v,b,x]),(0,t.useEffect)(()=>{if("usuarios"!==p)return;const e=X.filter(e=>!we[e.id]);if(0===e.length)return;let n=!1;return(async()=>{for(const t of e)try{const[e,a]=await Promise.all([d.getEvaluaciones({area_id:t.areas[0],posicion_id:t.posicion||void 0,es_plantilla:!1}),d.getEvaluacionesUsuario({usuario:t.id})]);if(n)return;const r={};(a.results||[]).forEach(e=>{r[e.evaluacion]=e});const{completados:l}=ve(e.results||[],r);ke(e=>c(c({},e),{},{[t.id]:l}))}catch(a){console.error("Error al precargar resumen de niveles para el usuario",t.id,a)}})(),()=>{n=!0}},[p,X,we]),(0,t.useEffect)(()=>{if(!_)return;const e=we[_.id];e&&Se(e)},[_,we]);const jn=async()=>{try{Ze(!0);const[e,n,a,t,r]=await Promise.all([d.getAreas({is_active:!0}),d.getGrupos({is_active:!0}),d.getPosiciones({is_active:!0}),d.getUsers({is_active:!0}),d.getListasAsistencia({is_active:!0})]);k(e.results),C(n.results),L(a.results),M(t.results),F(t.results.filter(e=>"USUARIO"===e.role));const l=e=>"ADMIN"===e||"ENTRENADOR"===e||"SUPERVISOR"===e;H(t.results.filter(e=>l(e.role))),V(t.results.filter(e=>l(e.role))),Y(r.results)}catch(e){nn(e.message)}finally{Ze(!1)}},Nn=e=>{Je("number"===typeof e?e:_?_.id:null),h("onboarding")},_n=async e=>{try{Ze(!0);const n=Array.isArray(e.areas)&&e.areas.length>0?e.areas[0]:void 0,a={es_plantilla:!1};n&&(a.area_id=n),e.posicion&&(a.posicion_id=e.posicion);const[t,r]=await Promise.all([d.getEvaluaciones(a),d.getEvaluacionesUsuario({usuario:e.id})]),l={};(r.results||[]).forEach(e=>{l[e.evaluacion]=e}),re(t.results),de(l);const i=new Set;(t.results||[]).forEach(e=>{var n,a,t;const r=null!==(n=null!==(a=null===(t=e.nivel_posicion_data)||void 0===t?void 0:t.nivel)&&void 0!==a?a:e.nivel)&&void 0!==n?n:null;"number"===typeof r&&i.add(r)});const s=Array.from(i).sort((e,n)=>e-n);xe(s),Ne(e=>e&&s.includes(e)?e:s.length>0?s[0]:null);const{completados:o}=ve(t.results||[],l);Se(o),ke(n=>c(c({},n),{},{[e.id]:o}))}catch(en){console.error("Error loading evaluaciones:",en),u("Error al cargar las evaluaciones del usuario"),re([]),de({}),xe([]),Ne(null),Se({}),ke(n=>{if(!(e.id in n))return n;const a=c({},n);return delete a[e.id],a})}finally{Ze(!1)}};(0,t.useEffect)(()=>{if(!pn)return;(async()=>{try{const e=await d.getCurrentUser();S(e),await _n(e),he(!0),h("usuario-detalle")}catch(e){console.error("Error al cargar evaluaciones del usuario",e),u("No se pudieron cargar tus evaluaciones")}})()},[pn]);const Sn=async e=>{try{const n=e?{posicion:e}:void 0,a=await d.getProgresosNivel(n),t=Array.isArray(a)?a:Array.isArray(null===a||void 0===a?void 0:a.results)?a.results:[];if(0===t.length)return;const r={},l={};t.forEach(e=>{r[e.usuario]||(r[e.usuario]={}),r[e.usuario][e.nivel]=e,l[e.usuario]||(l[e.usuario]={}),l[e.usuario][e.nivel]=e.completado}),Le(e=>c(c({},e),r)),ke(e=>c(c({},e),l))}catch(en){console.error("Error al cargar progresos de nivel:",en)}},wn=(e,n)=>{pe||ce(a=>a.map(a=>a.punto_evaluacion===e?c(c({},a),{},{puntuacion:n}):a))},kn=async()=>{if(!_||!ie||!me)return void u("Por favor selecciona un supervisor");if(ue[ie.id])return void u('Esta evaluaci\xf3n ya tiene un resultado guardado. Utiliza el bot\xf3n "Ver" para consultarlo.');if(oe.filter(e=>null===e.puntuacion).length>0)u("Por favor eval\xfaa todos los puntos de evaluaci\xf3n");else try{Ze(!0);const e=await d.createEvaluacionUsuario({evaluacion:ie.id,usuario:_.id,supervisor:me,resultados_puntos:oe.map(e=>({punto_evaluacion:e.punto_evaluacion,puntuacion:e.puntuacion,observaciones:e.observaciones||""}))});null!==e&&void 0!==e&&e.id&&await(async e=>{const n=c({},He);ie&&ie.firmas.forEach(e=>{const a=e.tipo_firma;if(!n[a]){var t,r;const u=null!==(t=Me[a])&&void 0!==t?t:null,d=null!==(r=Fe[a])&&void 0!==r?r:null,m=Boolean((null===d||void 0===d?void 0:d.esta_firmado)||e.esta_firmado);if(u&&!m){var l,i,s,o,c;const t=null!==(l=null!==(i=null===d||void 0===d?void 0:d.usuario)&&void 0!==i?i:e.usuario)&&void 0!==l?l:"empleado"===a&&null!==(s=null===_||void 0===_?void 0:_.id)&&void 0!==s?s:null,r=null!==(o=null!==(c=null===d||void 0===d?void 0:d.usuario_nombre)&&void 0!==c?c:e.usuario_nombre)&&void 0!==o?o:"empleado"===a&&((null===_||void 0===_?void 0:_.full_name)||(null===_||void 0===_?void 0:_.username))||null;n[a]={imagen:u,usuario:t,usuarioNombre:r,nombre:(null===d||void 0===d?void 0:d.nombre)||e.nombre}}}});const a=Object.entries(n);if(0===a.length)return;const t={},r={};for(const[s,o]of a)try{var l;const n=await d.firmarEvaluacionUsuario(e,{tipo_firma:s,nombre:o.nombre,usuario:null!==(l=o.usuario)&&void 0!==l?l:void 0,imagen:o.imagen||void 0});r[s]=n}catch(en){console.error("Error al registrar la firma pendiente ".concat(s),en),u(null!==en&&void 0!==en&&en.message?"Error al registrar la firma ".concat(s,": ").concat(en.message):"Error al registrar la firma ".concat(s,".")),t[s]=o}if(Object.keys(r).length>0&&(qe(e=>c(c({},e),r)),Ie(e=>{const n=c({},e);return Object.entries(r).forEach(a=>{var t,r;let[l,i]=a;n[l]=null!==(t=null!==(r=i.imagen)&&void 0!==r?r:e[l])&&void 0!==t?t:null}),n}),De(e=>{const n=c({},e);return Object.entries(r).forEach(e=>{let[a,t]=e;n[a]=Boolean(t.imagen)}),n})),Be(t),0===Object.keys(t).length)try{const n=await d.getEvaluacionUsuario(e);be(n),de(e=>c(c({},e),{},{[n.evaluacion]:n}))}catch(i){console.error("Error al refrescar la evaluaci\xf3n del usuario tras registrar firmas pendientes",i)}})(e.id),o("Evaluaci\xf3n guardada exitosamente"),await _n(_),null!==x&&void 0!==x&&x.id?await Sn(x.id):await Sn(),h("usuario-detalle")}catch(en){console.error("Error guardando evaluaci\xf3n:",en),u(en.message||"Error al guardar la evaluaci\xf3n")}finally{Ze(!1)}},En=()=>{tn(e=>c(c({},e),{},{area:(null===v||void 0===v?void 0:v.id)||0})),un(!1),mn(null),h("lista-asistencia-form")},Cn=()=>{if(pn)"usuario-evaluacion"===p&&(h("usuario-detalle"),se(null),ce([]),fe(null),he(!0),Ie({}),De({}),qe({}),Be({}));else switch(p){case"grupos":h("areas"),g(null);break;case"posiciones":h("grupos"),y(null);break;case"usuarios":h("posiciones"),j(null);break;case"usuario-detalle":null!==x&&void 0!==x&&x.id?Sn(x.id):Sn(),S(null),h("usuarios");break;case"usuario-evaluacion":h("usuario-detalle"),se(null),ce([]),fe(null),Ie({}),De({}),qe({}),Be({}),null!==x&&void 0!==x&&x.id?Sn(x.id):Sn();break;case"onboarding":if(Qe){let e=_&&_.id===Qe?_:null;e||(e=z.find(e=>e.id===Qe)||null),!e&&_&&(e=_),e?(S(e),h("usuario-detalle"),null!==x&&void 0!==x&&x.id?Sn(x.id):Sn()):h("grupos"),Je(null)}else h("grupos");break;case"lista-asistencia-form":h(Qe?"onboarding":"grupos"),tn({nombre:"",supervisor:null,instructor:null,usuarios_regulares:[],area:0,is_active:!0}),ln([]),on({}),un(!1),mn(null),null!==x&&void 0!==x&&x.id?Sn(x.id):Sn()}},Pn=(e,n)=>{tn(a=>c(c({},a),{},{[e]:n}))},Ln=e=>{an.usuarios_regulares.includes(e.id)?(tn(n=>c(c({},n),{},{usuarios_regulares:n.usuarios_regulares.filter(n=>n!==e.id)})),on(n=>{const a=c({},n);return delete a[e.id],a})):(tn(n=>c(c({},n),{},{usuarios_regulares:[...n.usuarios_regulares,e.id]})),on(n=>c(c({},n),{},{[e.id]:(new Date).toISOString().split("T")[0]})))},zn=async()=>{try{Ze(!0);const e={};an.usuarios_regulares.forEach(n=>{sn[n]&&(e[n.toString()]=sn[n])});const n={nombre:an.nombre,supervisor:an.supervisor,instructor:an.instructor,usuarios_regulares:an.usuarios_regulares,usuarios_fechas:e,area:an.area,is_active:an.is_active};cn&&dn?(await d.updateListaAsistencia(dn,n),o("Lista de asistencia actualizada exitosamente")):(await d.createListaAsistencia(n),o("Lista de asistencia creada exitosamente")),await jn(),h("onboarding")}catch(en){console.error("Error al guardar lista de asistencia:",en),u("Error al guardar la lista de asistencia")}finally{Ze(!1)}};return Xe?(0,f.jsx)("div",{className:"evaluaciones-container",children:(0,f.jsx)("div",{className:"loading",children:"Cargando..."})}):en?(0,f.jsx)("div",{className:"evaluaciones-container",children:(0,f.jsxs)("div",{className:"error",children:["Error: ",en]})}):(0,f.jsxs)("div",{className:"evaluaciones-container",children:[(0,f.jsxs)("div",{className:"evaluaciones-header",children:[pn?(0,f.jsx)("div",{className:"breadcrumb",children:(0,f.jsx)("span",{children:"Mis Evaluaciones"})}):(()=>{const e=(()=>{const e=[{label:"\xc1reas",onClick:()=>{h("areas"),g(null),y(null),j(null),S(null)},isClickable:"areas"!==p}];return v&&(e.push({label:v.name,onClick:()=>{h("grupos"),y(null),j(null),S(null)},isClickable:"grupos"!==p&&"areas"!==p}),"grupos"===p?e.push({label:"Grupos",isClickable:!1}):"posiciones"===p||"usuarios"===p||"usuario-detalle"===p||"usuario-evaluacion"===p?(e.push({label:"Grupos",onClick:()=>{h("grupos"),j(null),S(null)},isClickable:!0}),b&&e.push({label:b.name,onClick:()=>{h("posiciones"),j(null),S(null)},isClickable:"posiciones"!==p}),e.push({label:"Posiciones",onClick:()=>{h("posiciones"),S(null)},isClickable:"posiciones"!==p}),!x||"usuarios"!==p&&"usuario-detalle"!==p&&"usuario-evaluacion"!==p||(e.push({label:x.name,onClick:()=>{h("usuarios"),S(null)},isClickable:"usuarios"!==p}),e.push({label:"Usuarios",onClick:()=>{h("usuarios"),S(null)},isClickable:"usuarios"!==p}),!_||"usuario-detalle"!==p&&"usuario-evaluacion"!==p||e.push({label:_.full_name||"Usuario",onClick:()=>{h("usuario-detalle"),se(null),ce([]),fe(null),he(!0),Ie({}),De({}),qe({}),Be({})},isClickable:"usuario-detalle"!==p}))):"onboarding"===p?e.push({label:"ONBOARDING",isClickable:!1}):"lista-asistencia-form"===p&&(e.push({label:"ONBOARDING",onClick:()=>{h("onboarding")},isClickable:!0}),e.push({label:"Crear Lista de Asistencia",isClickable:!1}))),e})();return(0,f.jsx)("div",{className:"breadcrumb",children:e.map((n,a)=>(0,f.jsxs)(t.Fragment,{children:[n.isClickable&&n.onClick?(0,f.jsx)("button",{type:"button",className:"breadcrumb-link",onClick:n.onClick,children:n.label}):(0,f.jsx)("span",{className:"breadcrumb-text",children:n.label}),a<e.length-1&&(0,f.jsx)("span",{className:"breadcrumb-separator",children:" > "})]},a))})})(),!pn&&"areas"!==p&&(0,f.jsxs)("button",{className:"back-button",onClick:Cn,children:[(0,f.jsx)(N,{})," Volver"]}),pn&&"usuario-evaluacion"===p&&(0,f.jsxs)("button",{className:"back-button",onClick:Cn,children:[(0,f.jsx)(N,{})," Volver"]})]}),(0,f.jsxs)("div",{className:"evaluaciones-content",children:[!pn&&"areas"===p&&(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsx)("h2",{children:"\xc1reas"}),(0,f.jsx)("p",{children:"Selecciona un \xe1rea para continuar"})]}),(0,f.jsx)("div",{className:"areas-grid",children:w.map(e=>(0,f.jsx)("div",{className:"area-card ".concat((null===v||void 0===v?void 0:v.id)===e.id?"active":""),onClick:()=>(e=>{g(e),h("grupos")})(e),children:(0,f.jsx)("div",{className:"card-content",children:(0,f.jsx)("h3",{children:e.name})})},e.id))})]}),!pn&&"grupos"===p&&(()=>{var e,n,a;const t=E.filter(e=>e.area===(null===v||void 0===v?void 0:v.id));e=null!==(n=null===ie||void 0===ie?void 0:ie.nivel)&&void 0!==n?n:null===ie||void 0===ie||null===(a=ie.nivel_posicion_data)||void 0===a?void 0:a.nivel;return(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h2",{children:["Grupos - ",null===v||void 0===v?void 0:v.name]}),(0,f.jsx)("p",{children:"Selecciona un grupo para ver sus posiciones o ONBOARDING para listas de asistencia"})]}),(0,f.jsxs)("div",{className:"grupos-grid",children:[(0,f.jsx)("div",{className:"grupo-card onboarding-card",onClick:()=>Nn(null),children:(0,f.jsxs)("div",{className:"card-content",children:[(0,f.jsx)("h3",{children:"ONBOARDING"}),(0,f.jsx)("p",{children:"Listas de Asistencia"})]})}),t.map(e=>(0,f.jsx)("div",{className:"grupo-card ".concat((null===b||void 0===b?void 0:b.id)===e.id?"active":""," ").concat(e.is_active?"":"inactive"),onClick:()=>(e=>{y(e),h("posiciones")})(e),children:(0,f.jsx)("div",{className:"card-content",children:(0,f.jsx)("h3",{children:e.name})})},e.id))]})]})})(),!pn&&"posiciones"===p&&(()=>{const e=P.filter(e=>e.area===(null===v||void 0===v?void 0:v.id));return(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h2",{children:["Posiciones - ",null===v||void 0===v?void 0:v.name]}),(0,f.jsx)("p",{children:"Selecciona una posici\xf3n para ver los usuarios asignados"})]}),(0,f.jsx)("div",{className:"posiciones-grid",children:e.map(e=>(0,f.jsx)("div",{className:"posicion-card ".concat((null===x||void 0===x?void 0:x.id)===e.id?"active":""," ").concat(e.is_active?"":"inactive"),onClick:()=>(e=>{j(e),h("usuarios"),Oe("todos");const n=z.filter(n=>{const a=n.posicion===e.id,t=n.areas.includes((null===v||void 0===v?void 0:v.id)||0),r=n.grupo===(null===b||void 0===b?void 0:b.id),l="USUARIO"===n.role;return a&&t&&r&&l});Z(n),Sn(e.id)})(e),children:(0,f.jsx)("div",{className:"card-content",children:(0,f.jsx)("h3",{children:e.name})})},e.id))})]})})(),!pn&&"usuarios"===p&&(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h2",{children:["Usuarios - ",null===v||void 0===v?void 0:v.name," > ",null===b||void 0===b?void 0:b.name," > ",null===x||void 0===x?void 0:x.name]}),(0,f.jsx)("p",{children:"Usuarios asignados a esta posici\xf3n"}),(0,f.jsxs)("div",{className:"search-filters",children:[(0,f.jsxs)("div",{className:"search-bar",children:[(0,f.jsx)(Q,{}),(0,f.jsx)("input",{type:"text",placeholder:"Buscar usuarios...",value:Ke,onChange:e=>Ye(e.target.value)})]}),(0,f.jsxs)("div",{className:"nivel-filter",children:[(0,f.jsx)("label",{htmlFor:"nivel-filter-select",children:"Nivel"}),(0,f.jsxs)("select",{id:"nivel-filter-select",value:"todos"===ze?"todos":ze.toString(),onChange:e=>{const n=e.target.value;if("todos"===n)Oe("todos");else{const e=parseInt(n,10);Oe(Number.isNaN(e)?"todos":e)}},children:[(0,f.jsx)("option",{value:"todos",children:"Todos los niveles"}),[1,2,3,4].map(e=>(0,f.jsxs)("option",{value:e,children:["Nivel ",e]},e))]})]})]})]}),(0,f.jsx)("div",{className:"usuarios-list",children:(()=>{const e=X.filter(e=>{if("todos"===ze)return!0;const n=Pe[e.id];if(!n)return!1;const a=n[ze];return!!a&&a.completado});return e.length>0?e.map(e=>(0,f.jsxs)("div",{className:"usuario-item clickeable",onClick:()=>(e=>{S(e),h("usuario-detalle"),_n(e)})(e),children:[(0,f.jsx)("div",{className:"usuario-avatar",children:e.profile_photo?(0,f.jsx)("img",{src:m(e.profile_photo),alt:"Foto de ".concat(e.full_name)}):(0,f.jsx)(ne,{})}),(0,f.jsxs)("div",{className:"usuario-info",children:[(0,f.jsx)("h3",{children:e.full_name}),e.numero_empleado&&(0,f.jsxs)("p",{className:"numero-empleado",children:["#",e.numero_empleado]}),e.fecha_ingreso&&(0,f.jsx)("p",{className:"fecha-ingreso",children:new Date(e.fecha_ingreso).toLocaleDateString("es-ES")})]}),(0,f.jsx)("div",{className:"usuario-cuadro",children:[4,1,3,2].map(n=>{const a=we[e.id]||{},t=["cuadro-item",Boolean(a[n])?"cuadro-completado":"",(null===_||void 0===_?void 0:_.id)===e.id&&je===n?"cuadro-activo":""].filter(Boolean).join(" ");return(0,f.jsx)("div",{className:t},n)})}),(0,f.jsx)("div",{className:"usuario-arrow",children:(0,f.jsx)(N,{style:{transform:"rotate(180deg)"}})})]},e.id)):(0,f.jsxs)("div",{className:"no-results",children:[(0,f.jsx)(ne,{}),(0,f.jsx)("h3",{children:"No hay usuarios asignados"}),(0,f.jsx)("p",{children:"No se encontraron usuarios asignados para esta \xe1rea, grupo y posici\xf3n"})]})})()})]}),"usuario-detalle"===p&&(()=>{if(!_)return null;const e=je,n=(new Date).toLocaleDateString("es-ES"),a=_&&we[_.id]||_e,t=e?ye.findIndex(n=>n===e):-1,r=t>0,l=-1!==t&&t<ye.length-1,i=n=>{if(null===e)return;const a=ye.findIndex(n=>n===e);if(-1===a)return;const t="anterior"===n?a-1:a+1;t<0||t>=ye.length||Ne(ye[t])},s=ee.filter(n=>{var a,t,r;if(null===e)return!0;return(null!==(a=null!==(t=null===(r=n.nivel_posicion_data)||void 0===r?void 0:r.nivel)&&void 0!==t?t:n.nivel)&&void 0!==a?a:null)===e}),o=e=>{if(!_)return!1;const n=Object.values(ue).filter(e=>e.usuario===_.id),t=ee.filter(n=>{var a,t,r;return(null!==(a=null!==(t=null===(r=n.nivel_posicion_data)||void 0===r?void 0:r.nivel)&&void 0!==t?t:n.nivel)&&void 0!==a?a:null)===e});return t.length>0?t.every(e=>{const a=n.find(n=>n.evaluacion===e.id);if(!a)return!1;const t=(a.estado||"").toLowerCase();return"firmas_completas"===(a.estado_firmas_usuario||"").toLowerCase()&&("completada"===t||null!==a.resultado_final)}):Boolean(a[e])};return(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsx)("div",{className:"usuario-detalle-header",children:(0,f.jsxs)("div",{className:"usuario-info-header",children:[(0,f.jsx)("div",{className:"usuario-avatar-large",children:_.profile_photo?(0,f.jsx)("img",{src:m(_.profile_photo),alt:"Foto de ".concat(_.full_name)}):(0,f.jsx)(ne,{})}),(0,f.jsxs)("div",{className:"usuario-details",children:[(0,f.jsx)("h2",{children:_.full_name}),(0,f.jsxs)("p",{className:"usuario-id",children:["#",_.numero_empleado||_.id]})]}),(0,f.jsxs)("div",{className:"usuario-actions",children:[(0,f.jsx)("button",{className:"action-btn",children:(0,f.jsx)(R,{})}),(0,f.jsx)("button",{className:"action-btn",children:(0,f.jsx)(G,{})})]}),(0,f.jsxs)("div",{className:"usuario-controles",children:[!pn&&(0,f.jsx)("button",{className:"btn-onboarding",type:"button",onClick:()=>{var e;return Nn(null!==(e=null===_||void 0===_?void 0:_.id)&&void 0!==e?e:null)},children:"Onboarding"}),(0,f.jsx)("span",{className:"usuario-fecha",children:n}),(0,f.jsxs)("div",{className:"nivel-navegacion",children:[(0,f.jsx)("button",{type:"button",className:"nivel-arrow",onClick:()=>i("anterior"),disabled:!r,"aria-label":"Nivel anterior",children:(0,f.jsx)(O,{})}),(0,f.jsx)("div",{className:"status-grid",children:[4,1,3,2].map(n=>(0,f.jsx)("div",{className:"status-item nivel-".concat(n," ").concat(o(n)?"completed":""," ").concat(e===n?"active":""),"aria-label":"Nivel ".concat(n).concat(e===n?" seleccionado":"")},n))}),(0,f.jsx)("button",{type:"button",className:"nivel-arrow",onClick:()=>i("siguiente"),disabled:!l,"aria-label":"Nivel siguiente",children:(0,f.jsx)(T,{})})]}),(0,f.jsx)("div",{className:"nivel-indicador",children:e?"Nivel ".concat(e):"Sin nivel"})]})]})}),(0,f.jsx)("div",{className:"usuario-info-content",children:(0,f.jsxs)("div",{className:"info-section",children:[(0,f.jsx)("h3",{children:"Evaluaciones Asignadas"}),Xe?(0,f.jsx)("div",{className:"loading-message",children:(0,f.jsx)("p",{children:"Cargando evaluaciones..."})}):s.length>0?(0,f.jsx)("div",{className:"evaluaciones-list",children:s.map(e=>{const n=ue[e.id],a=Boolean(n),t=(null===n||void 0===n?void 0:n.estado_firmas_usuario)||"pendiente_firmas",r=(null===n||void 0===n?void 0:n.estado_firmas_usuario_display)||"Pendiente de firmas",l="firmas_completas"===t,i=a&&("completada"===(null===n||void 0===n?void 0:n.estado)||l),s=a&&!l;return(0,f.jsx)("div",{className:"evaluacion-item-simple ".concat(i?"completada":a?"en-proceso":"pendiente"),children:(0,f.jsxs)("div",{className:"evaluacion-content",children:[(0,f.jsxs)("div",{className:"evaluacion-header",children:[(0,f.jsx)("h4",{children:e.nombre}),(0,f.jsx)("span",{className:"evaluacion-status ".concat(s?"status-pendiente-firmas":i?"status-completada":"status-pendiente"),children:s?r:i?"Completada":"Pendiente"})]}),(0,f.jsx)("div",{className:"evaluacion-actions",children:i?(0,f.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>((e,n)=>{var a,t,r,l,i;se(e),he(!0),be(n),fe(n.supervisor||null);const s=null!==(a=null!==(t=e.nivel)&&void 0!==t?t:null===(r=e.nivel_posicion_data)||void 0===r?void 0:r.nivel)&&void 0!==a?a:null;"number"===typeof s&&Ne(s);const o=null!==(l=null===(i=e.puntos_evaluacion)||void 0===i?void 0:i.map(e=>{var a,t;const r=n.resultados_puntos.find(n=>n.punto_evaluacion===e.id);return{punto_evaluacion:e.id,puntuacion:null!==(a=null===r||void 0===r?void 0:r.puntuacion)&&void 0!==a?a:null,observaciones:null!==(t=null===r||void 0===r?void 0:r.observaciones)&&void 0!==t?t:""}}))&&void 0!==l?l:[];ce(o),h("usuario-evaluacion")})(e,n),children:"Ver"}):(0,f.jsx)("button",{className:"btn btn-".concat(pn?"secondary":"primary"," btn-sm"),onClick:()=>(async e=>{try{var n,a,t,r;Ze(!0),se(e),he(pn),be(null);const l=null!==(n=null!==(a=e.nivel)&&void 0!==a?a:null===(t=e.nivel_posicion_data)||void 0===t?void 0:t.nivel)&&void 0!==n?n:null;"number"===typeof l&&Ne(l);const i="ADMIN,ENTRENADOR,SUPERVISOR",s=await d.getUsers({role:i,is_active:!0});H(s.results);let o=null;e.supervisor?o=e.supervisor:!pn&&null!==v&&void 0!==v&&v.supervisores&&v.supervisores.length>0&&(o=v.supervisores[0].id),o&&s.results.some(e=>e.id===o)?fe(o):fe(null);const c=(null===(r=e.puntos_evaluacion)||void 0===r?void 0:r.map(e=>({punto_evaluacion:e.id,puntuacion:null,observaciones:""})))||[];ce(c),h("usuario-evaluacion")}catch(en){console.error("Error iniciando evaluaci\xf3n:",en),u("Error al iniciar la evaluaci\xf3n")}finally{Ze(!1)}})(e),children:pn?"Firmar":"Evaluar"})})]})},e.id)})}):(0,f.jsx)("div",{className:"no-evaluations",children:(0,f.jsx)("p",{children:"No hay evaluaciones asignadas para este usuario"})})]})})]})})(),"usuario-evaluacion"===p&&(()=>{var e,n,a,t,r;if(!_||!ie)return null;const l=null!==(e=null!==(n=ie.nivel)&&void 0!==n?n:null===(a=ie.nivel_posicion_data)||void 0===a?void 0:a.nivel)&&void 0!==e?e:null,s=null!==(t=null===ge||void 0===ge?void 0:ge.resultado_final)&&void 0!==t?t:null,m=null!==ge&&void 0!==ge&&ge.fecha_completada?new Date(ge.fecha_completada).toLocaleString("es-ES"):null;return(0,f.jsx)("div",{className:"evaluaciones-section",children:(0,f.jsx)("div",{className:"evaluation-content",children:(0,f.jsxs)("div",{className:"evaluation-form ".concat(pe?"read-only":""),children:[(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h4",{children:ie.nombre}),(0,f.jsx)("div",{className:"evaluation-info-table-container",children:(0,f.jsx)("table",{className:"evaluation-info-table",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:["Nombre del empleado: ",_.full_name]}),(0,f.jsxs)("td",{children:["No empleado: ",_.numero_empleado?"#".concat(_.numero_empleado):"No asignado"]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:["Puesto: ",ie.posicion_name]}),(0,f.jsxs)("td",{children:["Fecha de Ingreso: ",_.fecha_ingreso?new Date(_.fecha_ingreso).toLocaleDateString("es-ES"):"No asignada"]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:["\xc1rea: ",ie.area_name]}),(0,f.jsxs)("td",{children:["Nombre de la operaci\xf3n y/o habilidad a evaluar: ",ie.nombre]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{children:["Nivel de la habilidad a evaluar: ",ie.nivel_display]}),(0,f.jsx)("td",{rowSpan:2,className:"nivel-status-cell",children:(0,f.jsxs)("div",{className:"nivel-status-container",children:[(0,f.jsx)("div",{className:"nivel-box",children:ie.nivel_display}),(0,f.jsx)("div",{className:"status-grid",children:[{pos:1,nivel:4},{pos:2,nivel:1},{pos:3,nivel:3},{pos:4,nivel:2}].map(e=>{let{pos:n,nivel:a}=e;return(0,f.jsx)("div",{className:"status-item nivel-".concat(a," ").concat(l===a?"active":""),"aria-label":"Nivel ".concat(a).concat(l===a?" seleccionado":"")},n)})})]})})]}),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{children:"Se recomienda Observar al operador durante 5 ciclos"})})]})})}),ge&&(0,f.jsxs)("div",{className:"evaluation-result-summary",children:[(0,f.jsxs)("span",{className:"summary-badge",children:["Resultado final:"," ",null!==s?"".concat(s,"%"):"Sin resultado"]}),m&&(0,f.jsxs)("span",{className:"summary-badge",children:["Registrado: ",m]})]})]}),(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h4",{children:"Supervisor"}),(0,f.jsx)("div",{className:"form-group",children:(0,f.jsxs)("select",{value:me||"",onChange:e=>fe(parseInt(e.target.value)||null),className:"form-control",disabled:pe,children:[(0,f.jsx)("option",{value:"",children:"Selecciona un supervisor"}),q.map(e=>(0,f.jsx)("option",{value:e.id,children:e.full_name},e.id))]})})]}),(0,f.jsx)("div",{className:"puntos-evaluacion-table-container",children:(0,f.jsxs)("table",{className:"puntos-evaluacion-table",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{children:"Puntos a Evaluar"}),(0,f.jsx)("th",{className:"calificacion-header",children:"Bajo (1)"}),(0,f.jsx)("th",{className:"calificacion-header",children:"Medio (2)"}),(0,f.jsx)("th",{className:"calificacion-header",children:"Alto (3)"})]})}),(0,f.jsx)("tbody",{children:null===(r=ie.puntos_evaluacion)||void 0===r?void 0:r.map((e,n)=>{const a=oe.find(n=>n.punto_evaluacion===e.id);return(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:"punto-pregunta",children:[(0,f.jsxs)("span",{className:"punto-numero",children:[n+1,"."]}),e.pregunta]}),[1,2,3].map(n=>(0,f.jsx)("td",{className:"punto-calificacion ".concat((null===a||void 0===a?void 0:a.puntuacion)===n?"selected":""),onClick:()=>{pe||wn(e.id,n)},children:(0,f.jsxs)("label",{className:"puntuacion-option",children:[(0,f.jsx)("input",{type:"radio",name:"puntuacion-".concat(e.id),value:n,checked:(null===a||void 0===a?void 0:a.puntuacion)===n,onChange:()=>wn(e.id,n),disabled:pe}),(null===a||void 0===a?void 0:a.puntuacion)===n&&(0,f.jsx)("span",{className:"checkmark",children:"\u2713"})]})},n))]},e.id)})})]})}),(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h4",{children:"Criterios de Evaluaci\xf3n"}),(0,f.jsx)("div",{className:"criterios-evaluacion-table-container",children:(0,f.jsx)("table",{className:"criterios-evaluacion-table",children:(0,f.jsx)("tbody",{children:ie.criterios_evaluacion&&ie.criterios_evaluacion.length>0?(0,f.jsxs)(f.Fragment,{children:[ie.criterios_evaluacion.map(e=>(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"criterio-definition",children:(0,f.jsx)("span",{className:"criterio-texto",children:e.criterio})})},e.id)),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"criterio-formula",children:(0,f.jsx)("strong",{children:"EVALUACI\xd3N = ( PUNTOS OBTENIDOS / 17 ) * 80"})})})]}):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"criterio-definition",children:(0,f.jsx)("span",{className:"criterio-texto",children:"No hay criterios definidos"})})})})})})]}),(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h4",{children:"Resultado"}),(0,f.jsx)("div",{className:"resultado-evaluacion",children:((e,n,a)=>{const t=oe.reduce((e,n)=>e+(n.puntuacion||0),0),r=null!==(e=ie.formula_divisor)&&void 0!==e?e:(null===(n=ie.puntos_evaluacion)||void 0===n?void 0:n.length)||1,l=null!==(a=ie.formula_multiplicador)&&void 0!==a?a:100,i=r>0?t/r*l:0;return(0,f.jsxs)("div",{className:"resultado-content",children:[(0,f.jsxs)("div",{className:"resultado-formula",children:[(0,f.jsx)("span",{className:"resultado-label",children:"Puntos Obtenidos:"}),(0,f.jsx)("span",{className:"resultado-value",children:t})]}),(0,f.jsxs)("div",{className:"resultado-formula",children:[(0,f.jsx)("span",{className:"resultado-label",children:"F\xf3rmula:"}),(0,f.jsxs)("span",{className:"resultado-value",children:["( ",t," / ",r," ) * ",l," = ",i.toFixed(2),"%"]})]}),(0,f.jsx)("div",{className:"resultado-final",children:(0,f.jsxs)("strong",{children:["Resultado: ",i.toFixed(2),"%"]})}),(0,f.jsxs)("div",{className:"minimo-aprobatorio",children:["M\xednimo aprobatorio para este nivel: ",ie.minimo_aprobatorio||80,"%"]}),(0,f.jsxs)("div",{className:"fecha-evaluacion",children:["Fecha de evaluaci\xf3n: ",(new Date).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})]})]})})()})]}),(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h4",{children:"Firmas"}),(0,f.jsx)("div",{className:"firmas-container",children:ie.firmas&&ie.firmas.length>0?ie.firmas.map(e=>{var n,a,t,r,l,i,s,o,c,u,d,m,p;const h=e.tipo_firma,v=e.nombre||e.tipo_firma_display||h,g=null!==(n=Fe[h])&&void 0!==n?n:null,b=null!==(a=He[h])&&void 0!==a?a:null,y=null!==(t=null!==(r=null!==(l=Me[h])&&void 0!==l?l:null===g||void 0===g?void 0:g.imagen)&&void 0!==r?r:null===b||void 0===b?void 0:b.imagen)&&void 0!==t?t:null,x=Boolean(y),j=null!==(i=null===g||void 0===g?void 0:g.esta_firmado)&&void 0!==i?i:Boolean(null===b||void 0===b?void 0:b.imagen),N=null!==(s=null!==(o=null!==(c=null===g||void 0===g?void 0:g.usuario_nombre)&&void 0!==c?c:null===b||void 0===b?void 0:b.usuarioNombre)&&void 0!==o?o:e.usuario_nombre)&&void 0!==s?s:null,S=(null===g||void 0===g?void 0:g.estado_display)||(b?b.imagen?"Firma capturada (".concat(b.usuarioNombre||"sin firmante asignado",")"):b.usuarioNombre?"Pendiente de firma de ".concat(b.usuarioNombre):"Pendiente de asignaci\xf3n":N?"Pendiente de firma de ".concat(N):"Pendiente de asignaci\xf3n"),w="completada"===((null===ge||void 0===ge?void 0:ge.estado)||"").toLowerCase()||"firmas_completas"===((null===ge||void 0===ge?void 0:ge.estado_firmas_usuario)||"").toLowerCase()||"firmas_completas"===(ie.estado_firmas||"").toLowerCase(),k=null!==(u=null!==(d=null!==(m=null===g||void 0===g?void 0:g.usuario)&&void 0!==m?m:null===b||void 0===b?void 0:b.usuario)&&void 0!==d?d:e.usuario)&&void 0!==u?u:"empleado"===e.tipo_firma&&null!==(p=null===_||void 0===_?void 0:_.id)&&void 0!==p?p:null,E=null!==hn&&k===hn&&!j||!pe&&!w;return(0,f.jsxs)("div",{className:"firma-item",children:[(0,f.jsx)("label",{className:"firma-label",children:v}),(0,f.jsx)("span",{className:"firma-estado ".concat(j?"firmada":"pendiente"),children:S}),x?(0,f.jsxs)("div",{className:"firma-preview-container",children:[(0,f.jsx)("div",{className:"firma-preview",children:(0,f.jsx)("img",{src:y||"",alt:"Firma ".concat(v)})}),E&&(0,f.jsxs)("button",{type:"button",className:"btn-editar-firma",onClick:()=>yn(e),children:[(0,f.jsx)(U,{})," Editar Firma"]})]}):E&&(0,f.jsxs)("button",{type:"button",className:"btn-agregar-firma",onClick:()=>yn(e),children:[(0,f.jsx)(W,{})," Agregar Firma"]})]},h)}):(0,f.jsx)("div",{className:"field-helper",children:"Esta evaluaci\xf3n no tiene firmas configuradas."})})]}),Ve&&(0,f.jsx)("div",{className:"modal-overlay",onClick:()=>{Re(!1),We(null),$e(null)},children:(0,f.jsxs)("div",{className:"modal modal-firma",onClick:e=>e.stopPropagation(),children:[(0,f.jsxs)("div",{className:"modal-header",children:[(0,f.jsxs)("h3",{children:["Firma - ",Ve.nombre]}),(0,f.jsx)("button",{className:"modal-close",onClick:()=>{Re(!1),We(null),$e(null)},children:"\xd7"})]}),(0,f.jsxs)("div",{className:"modal-body",children:["empleado"===Ve.tipo?(0,f.jsxs)("div",{className:"firma-firmante-info",children:["Firmante: ",(0,f.jsx)("strong",{children:(null===_||void 0===_?void 0:_.full_name)||"Empleado"})]}):(0,f.jsxs)("div",{className:"firma-firmante-select",children:[(0,f.jsx)("label",{children:"Selecciona firmante"}),q.length>0?(0,f.jsxs)("select",{value:null!==Ge&&void 0!==Ge?Ge:"",onChange:e=>$e(e.target.value?parseInt(e.target.value,10):null),children:[(0,f.jsx)("option",{value:"",children:"Selecciona un firmante"}),q.filter(e=>"USUARIO"!==e.role).map(e=>(0,f.jsx)("option",{value:e.id,children:e.full_name},e.id))]}):(0,f.jsx)("div",{className:"firma-firmante-info",children:"No hay supervisores disponibles para firmar."})]}),(0,f.jsx)("div",{className:"firma-canvas-wrapper",children:(0,f.jsx)("canvas",{ref:Te,width:600,height:250,className:"firma-canvas",onMouseDown:vn,onMouseMove:gn,onMouseUp:bn,onMouseLeave:bn})}),(0,f.jsxs)("div",{className:"firma-controls",children:[(0,f.jsxs)("button",{type:"button",className:"btn-clear-firma",onClick:xn,disabled:!Ve||!Ue[Ve.tipo],children:[(0,f.jsx)(D,{})," Limpiar"]}),(0,f.jsxs)("button",{type:"button",className:"btn-guardar-firma",onClick:async()=>{bn(),await(async()=>{if(!Ve||!ie)return;const e=Ve.tipo,n="empleado"===e;if(n&&!_)return void u("No se pudo identificar al empleado para asignar la firma.");if(!n&&!Ge)return void u("Selecciona a la persona que debe firmar.");const a=Te.current;let t=null;if(Ue[e]&&a?t=a.toDataURL("image/png"):Me[e]&&(t=Me[e]),!n||t)try{var r;Ce(!0);const a={tipo_firma:e},u=n?null!==(r=null===_||void 0===_?void 0:_.id)&&void 0!==r?r:null:null!==Ge&&void 0!==Ge?Ge:null;var l;n?a.usuario=null!==(l=null===_||void 0===_?void 0:_.id)&&void 0!==l?l:null:Ge&&(a.usuario=Ge),t&&(a.imagen=t),Ve.nombre&&(a.nombre=Ve.nombre);const m=(()=>{if(n)return(null===_||void 0===_?void 0:_.full_name)||(null===_||void 0===_?void 0:_.username)||null;const e=q.find(e=>e.id===u);return(null===e||void 0===e?void 0:e.full_name)||(null===e||void 0===e?void 0:e.username)||null})();if(!ge)return Be(n=>{var a;return c(c({},n),{},{[e]:{imagen:null!==(a=t)&&void 0!==a?a:null,usuario:u,usuarioNombre:m,nombre:Ve.nombre}})}),Ie(n=>{var a;return c(c({},n),{},{[e]:null!==(a=t)&&void 0!==a?a:null})}),De(n=>c(c({},n),{},{[e]:Boolean(t)})),Re(!1),We(null),$e(null),void o(t?"Firma guardada localmente. Guarda la evaluaci\xf3n para registrarla definitivamente.":"Asignaci\xf3n guardada localmente. Guarda la evaluaci\xf3n para registrar la firma.");const f=await d.firmarEvaluacionUsuario(ge.id,a);se(e=>{if(!e)return e;const n=e.firmas.map(e=>e.tipo_firma===f.tipo_firma?c(c({},e),{},{nombre:f.nombre,usuario:f.usuario,usuario_nombre:f.usuario_nombre}):e);return c(c({},e),{},{firmas:n})}),qe(e=>c(c({},e),{},{[f.tipo_firma]:f})),Be(e=>{const n=f.tipo_firma,{[n]:a}=e;return ae(e,[n].map(i))}),Ie(e=>{var n,a;return c(c({},e),{},{[f.tipo_firma]:null!==(n=null!==(a=t)&&void 0!==a?a:f.imagen)&&void 0!==n?n:null})}),De(e=>{var n;return c(c({},e),{},{[f.tipo_firma]:Boolean(null!==(n=t)&&void 0!==n?n:f.imagen)})});try{const e=await d.getEvaluacionUsuario(ge.id);be(e),de(n=>c(c({},n),{},{[e.evaluacion]:e}))}catch(s){console.error("Error al actualizar la evaluaci\xf3n del usuario tras firmar",s)}null!==x&&void 0!==x&&x.id?await Sn(x.id):await Sn(),Re(!1),We(null),$e(null);const p=f.esta_firmado?"Firma guardada correctamente.":"Firmante asignado y marcado como pendiente.";o(p)}catch(en){console.error("Error al guardar la firma",en),u(en.message||"Error al guardar la firma")}finally{Ce(!1)}else u("Debes capturar la firma del empleado.")})()},disabled:Ee||!(Ve&&("empleado"===Ve.tipo?Boolean(Ue[Ve.tipo]):Boolean(Ge))),children:[(0,f.jsx)($,{})," ",Ee?"Guardando...":"Guardar Firma"]})]})]})]})}),(0,f.jsxs)("div",{className:"evaluation-actions",children:[(0,f.jsx)("button",{className:"btn btn-secondary",onClick:()=>{he(!1),be(null),h("usuario-detalle")},children:pe?"Volver":"Cancelar"}),!pe&&(0,f.jsx)("button",{className:"btn btn-primary",onClick:kn,disabled:Xe,children:Xe?"Guardando...":"Guardar Evaluaci\xf3n"})]})]})})})})(),!pn&&"onboarding"===p&&(()=>{const e=J.filter(e=>e.area===(null===v||void 0===v?void 0:v.id)),n=Qe&&z.find(e=>e.id===Qe)||null,a=e.filter(e=>{if(n&&!e.usuarios_regulares.includes(n.id))return!1;if(Ke){return e.nombre.toLowerCase().includes(Ke.toLowerCase())}return!0}),t=!Qe&&null!==v;return(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h2",{children:["ONBOARDING - ",null===v||void 0===v?void 0:v.name,n?" / ".concat(n.full_name):""]}),n&&(0,f.jsx)("p",{className:"onboarding-subtitle",children:"Listas de asistencia en las que participa el empleado seleccionado."})]}),(0,f.jsxs)("div",{className:"onboarding-actions",children:[t&&(0,f.jsx)("div",{className:"btn-crear-lista-card",onClick:En,children:(0,f.jsxs)("div",{className:"card-content",children:[(0,f.jsx)(W,{}),(0,f.jsx)("h3",{children:"A\xf1adir nueva lista"})]})}),(0,f.jsx)("div",{className:"search-container",children:(0,f.jsxs)("div",{className:"search-bar",children:[(0,f.jsx)(Q,{}),(0,f.jsx)("input",{type:"text",placeholder:"Buscar...",value:Ke,onChange:e=>Ye(e.target.value)})]})})]}),(0,f.jsx)("div",{className:"listas-grid",children:a.length>0?a.map(e=>{const a=n&&e.usuarios_fechas?e.usuarios_fechas[n.id.toString()]:null;return(0,f.jsx)("div",{className:"lista-card-simple",onClick:()=>(e=>{tn({nombre:e.nombre,supervisor:e.supervisor,instructor:e.instructor,usuarios_regulares:e.usuarios_regulares,area:e.area,is_active:e.is_active}),un(!0),mn(e.id),h("lista-asistencia-form");const n=I.filter(n=>e.usuarios_regulares.includes(n.id));ln(n);const a={};e.usuarios_fechas&&Object.keys(e.usuarios_fechas).forEach(n=>{const t=parseInt(n);a[t]=e.usuarios_fechas[n]}),n.forEach(e=>{a[e.id]||(a[e.id]=(new Date).toISOString().split("T")[0])}),on(a)})(e),children:(0,f.jsxs)("div",{className:"card-content",children:[(0,f.jsx)("h3",{children:e.nombre}),a&&(0,f.jsxs)("div",{className:"lista-fecha-usuario",children:[(0,f.jsx)("span",{className:"fecha-label",children:"Fecha:"}),(0,f.jsx)("span",{className:"fecha-value",children:new Date(a).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]})]})},e.id)}):(0,f.jsxs)("div",{className:"no-results",children:[(0,f.jsx)(A,{}),(0,f.jsx)("h3",{children:"No hay listas de asistencia"}),(0,f.jsx)("p",{children:n?"Este empleado no est\xe1 asignado a listas de asistencia en esta \xe1rea.":"No se encontraron listas de asistencia para esta \xe1rea."})]})})]})})(),!pn&&"lista-asistencia-form"===p&&(()=>{const e=I.filter(e=>an.usuarios_regulares.includes(e.id)),n=I.filter(e=>!an.usuarios_regulares.includes(e.id));return(0,f.jsxs)("div",{className:"evaluaciones-section",children:[(0,f.jsxs)("div",{className:"section-header",children:[(0,f.jsxs)("h2",{children:[cn?"Editar Lista de Asistencia":"Crear Lista de Asistencia"," - ",null===v||void 0===v?void 0:v.name]}),(0,f.jsxs)("p",{children:["Completa los datos para ",cn?"actualizar":"crear"," la lista de asistencia"]})]}),(0,f.jsxs)("div",{className:"lista-form-container",children:[(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h3",{children:"Informaci\xf3n de la Lista"}),(0,f.jsx)("div",{className:"form-row",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"nombre",children:"Nombre de la lista de asistencia:"}),(0,f.jsx)("input",{type:"text",id:"nombre",value:an.nombre,onChange:e=>Pn("nombre",e.target.value),placeholder:"Ej: Lista de Asistencia - Enero 2024",className:"form-input"})]})}),(0,f.jsxs)("div",{className:"form-row",children:[(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"supervisor",children:"Supervisor:"}),(0,f.jsxs)("select",{id:"supervisor",value:an.supervisor||"",onChange:e=>Pn("supervisor",e.target.value?parseInt(e.target.value):null),className:"form-select",children:[(0,f.jsx)("option",{value:"",children:"Seleccionar supervisor"}),q.map(e=>(0,f.jsx)("option",{value:e.id,children:e.full_name},e.id))]})]}),(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsx)("label",{htmlFor:"instructor",children:"Instructor:"}),(0,f.jsxs)("select",{id:"instructor",value:an.instructor||"",onChange:e=>Pn("instructor",e.target.value?parseInt(e.target.value):null),className:"form-select",children:[(0,f.jsx)("option",{value:"",children:"Seleccionar instructor"}),B.map(e=>(0,f.jsx)("option",{value:e.id,children:e.full_name},e.id))]})]})]})]}),(0,f.jsxs)("div",{className:"form-section",children:[(0,f.jsx)("h3",{children:"Usuarios"}),(0,f.jsxs)("div",{className:"search-bar",children:[(0,f.jsx)(Q,{}),(0,f.jsx)("input",{type:"text",placeholder:"Buscar usuarios regulares...",value:Ke,onChange:e=>Ye(e.target.value)})]}),(0,f.jsxs)("div",{className:"usuarios-lista",children:[e.map(e=>{var n;return(0,f.jsxs)("div",{className:"usuario-card-item usuario-asignado",children:[(0,f.jsxs)("div",{className:"usuario-info-lista",children:[(0,f.jsxs)("span",{className:"usuario-nombre",children:[e.full_name," (",e.posicion&&(null===(n=P.find(n=>n.id===e.posicion))||void 0===n?void 0:n.name)||"Sin posici\xf3n",")"]}),("ADMIN"===fn||"ENTRENADOR"===fn)&&(0,f.jsxs)("div",{className:"usuario-fecha-input",children:[(0,f.jsx)("label",{children:"Fecha:"}),(0,f.jsx)("input",{type:"date",value:sn[e.id]||(new Date).toISOString().split("T")[0],onChange:n=>{return a=e.id,t=n.target.value,void on(e=>c(c({},e),{},{[a]:t}));var a,t},className:"fecha-usuario-input"})]}),"ADMIN"!==fn&&"ENTRENADOR"!==fn&&(0,f.jsx)("div",{className:"usuario-fecha-display",children:(0,f.jsxs)("span",{children:["Fecha: ",sn[e.id]?new Date(sn[e.id]).toLocaleDateString("es-ES"):(new Date).toLocaleDateString("es-ES")]})})]}),(0,f.jsx)("button",{className:"btn-quitar-usuario",onClick:()=>Ln(e),title:"Quitar de la lista",children:(0,f.jsx)(K,{})})]},e.id)}),n.filter(e=>e.full_name.toLowerCase().includes(Ke.toLowerCase())||e.email.toLowerCase().includes(Ke.toLowerCase())).map(e=>{var n;return(0,f.jsxs)("div",{className:"usuario-card-item",children:[(0,f.jsx)("div",{className:"usuario-info-lista",children:(0,f.jsxs)("span",{className:"usuario-nombre",children:[e.full_name," (",e.posicion&&(null===(n=P.find(n=>n.id===e.posicion))||void 0===n?void 0:n.name)||"Sin posici\xf3n",")"]})}),(0,f.jsx)("button",{className:"btn-agregar-usuario",onClick:()=>Ln(e),title:"Agregar a la lista",children:(0,f.jsx)(W,{})})]},e.id)}),0===e.length&&0===n.length&&(0,f.jsx)("div",{className:"no-usuarios",children:(0,f.jsx)("p",{children:"No hay usuarios disponibles"})})]})]}),(0,f.jsxs)("div",{className:"form-actions",children:[(0,f.jsx)("button",{className:"btn-cancelar",onClick:Cn,children:"Cancelar"}),(0,f.jsxs)("button",{className:"btn-guardar",onClick:zn,disabled:!an.nombre||!an.supervisor||!an.instructor||0===an.usuarios_regulares.length,children:[(0,f.jsx)($,{})," Guardar"]})]})]})]})})()]}),(0,f.jsx)(le,{toasts:l,onRemoveToast:s})]})},be=()=>{const[e,n]=(0,t.useState)([]),[a,r]=(0,t.useState)(!1),[l,i]=(0,t.useState)(!1),{toasts:s,removeToast:o,showError:u,showSuccess:m}=te(),p=(0,t.useCallback)(async()=>{try{r(!0);const e=await d.obtenerNotificaciones({solo_no_leidas:l});n(e)}catch(e){console.error("Error cargando notificaciones",e),u(e.message||"No se pudieron cargar las notificaciones.")}finally{r(!1)}},[l,u]);(0,t.useEffect)(()=>{p()},[p]);const h=e=>e.es_leida?(0,f.jsx)(L,{className:"estado-icono leida",title:"Notificaci\xf3n le\xedda"}):(0,f.jsx)(k,{className:"estado-icono pendiente",title:"Notificaci\xf3n pendiente"});return(0,f.jsxs)("div",{className:"notificaciones-container",children:[(0,f.jsx)(le,{toasts:s,onRemoveToast:o}),(0,f.jsxs)("div",{className:"notificaciones-header",children:[(0,f.jsx)("h2",{children:"Notificaciones"}),(0,f.jsxs)("div",{className:"notificaciones-actions",children:[(0,f.jsxs)("label",{className:"filtro-checkbox",children:[(0,f.jsx)("input",{type:"checkbox",checked:l,onChange:e=>i(e.target.checked)}),"Mostrar solo no le\xeddas"]}),(0,f.jsxs)("button",{type:"button",className:"btn-recargar",onClick:p,disabled:a,children:[(0,f.jsx)(J,{})," ",a?"Actualizando...":"Actualizar"]})]})]}),(0,f.jsxs)("div",{className:"notificaciones-lista",children:[a&&0===e.length?(0,f.jsxs)("div",{className:"notificaciones-placeholder",children:[(0,f.jsx)(k,{className:"placeholder-icon"}),(0,f.jsx)("p",{children:"Cargando notificaciones..."})]}):null,a||0!==e.length?null:(0,f.jsxs)("div",{className:"notificaciones-placeholder",children:[(0,f.jsx)(w,{className:"placeholder-icon"}),(0,f.jsx)("p",{children:"No hay notificaciones por el momento."})]}),e.map(e=>(0,f.jsxs)("div",{className:"notificacion-item ".concat(e.es_leida?"leida":"pendiente"),children:[(0,f.jsx)("div",{className:"notificacion-estado",children:h(e)}),(0,f.jsxs)("div",{className:"notificacion-contenido",children:[(0,f.jsx)("h3",{className:"notificacion-titulo",children:e.titulo}),(0,f.jsx)("p",{className:"notificacion-mensaje",children:e.mensaje}),(0,f.jsxs)("div",{className:"notificacion-detalles",children:[e.evaluacion_nombre?(0,f.jsxs)("span",{className:"detalle",children:["Evaluaci\xf3n: ",(0,f.jsx)("strong",{children:e.evaluacion_nombre})]}):null,e.firma_tipo_display?(0,f.jsxs)("span",{className:"detalle",children:["Tipo de firma: ",(0,f.jsx)("strong",{children:e.firma_tipo_display})]}):null,(0,f.jsxs)("span",{className:"detalle",children:["Fecha: ",new Date(e.created_at).toLocaleString("es-MX")]})]})]}),(0,f.jsxs)("div",{className:"notificacion-acciones",children:[(0,f.jsx)("button",{type:"button",className:"btn-estado",onClick:()=>(async(e,a)=>{try{await d.marcarNotificacionLeida(e.id,a),n(n=>n.map(n=>n.id===e.id?c(c({},n),{},{es_leida:a}):n)),m(a?"Notificaci\xf3n marcada como le\xedda.":"Notificaci\xf3n marcada como no le\xedda.")}catch(t){console.error("Error actualizando notificaci\xf3n",t),u(t.message||"No se pudo actualizar la notificaci\xf3n.")}})(e,!e.es_leida),children:e.es_leida?"Marcar como no le\xedda":"Marcar como le\xedda"}),(0,f.jsxs)("button",{type:"button",className:"btn-eliminar",onClick:()=>(async e=>{try{await d.eliminarNotificacion(e.id),n(n=>n.filter(n=>n.id!==e.id)),m("Notificaci\xf3n eliminada.")}catch(a){console.error("Error eliminando notificaci\xf3n",a),u(a.message||"No se pudo eliminar la notificaci\xf3n.")}})(e),children:[(0,f.jsx)(Y,{})," Eliminar"]})]})]},e.id))]})]})},ye={onboarding:"#e12026",nivel_1:"#1F77B4",nivel_2:"#FF7F0E",nivel_3:"#2CA02C",nivel_4:"#9467BD"},xe={onboarding:"#ffffff",nivel_1:"#ffffff",nivel_2:"#1f1f1f",nivel_3:"#ffffff",nivel_4:"#ffffff"},je=["onboarding","nivel_1","nivel_2","nivel_3","nivel_4"],Ne={onboarding:"Onboarding",nivel_1:"Nivel 1",nivel_2:"Nivel 2",nivel_3:"Nivel 3",nivel_4:"Nivel 4"},_e=()=>{const e=new Date,n=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0");return"".concat(n,"-").concat(a)},Se=e=>{const n=[],a=new Date;for(let t=0;t<e;t+=1){const e=new Date(a.getFullYear(),a.getMonth()-t,1),r=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0");n.push("".concat(r,"-").concat(l))}return n},we=()=>{const[e,n]=(0,t.useState)([]),[a,r]=(0,t.useState)(null),[l,i]=(0,t.useState)(()=>_e()),[s,o]=(0,t.useState)(null),[u,m]=(0,t.useState)(!1),[p,h]=(0,t.useState)(!1),[v,g]=(0,t.useState)(null),b=(0,t.useMemo)(()=>Se(12),[]),[y,x]=(0,t.useState)(null),[j,N]=(0,t.useState)(()=>Se(12).slice(0,3).sort()),[_,S]=(0,t.useState)(null),[w,k]=(0,t.useState)(!1),[E,C]=(0,t.useState)(null),[P,L]=(0,t.useState)(null),[z,O]=(0,t.useState)(null),[T,A]=(0,t.useState)(null),[R,U]=(0,t.useState)(!1),[D,M]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{m(!0),g(null);try{const e=await d.getAreas({is_active:!0}),a=[{id:0,name:"Todas las \xe1reas"},...(e.results||[]).map(e=>({id:e.id,name:e.name})).sort((e,n)=>e.name.localeCompare(n.name))];n(a),a.length>0&&(r(e=>null===e?a[0].id:e),x(e=>null===e?a[0].id:e),O(e=>null===e?a[0].id:e))}catch(e){g("No se pudieron cargar las \xe1reas. Intenta m\xe1s tarde.")}finally{m(!1)}})()},[]),(0,t.useEffect)(()=>{"number"===typeof a&&l&&(async(e,n)=>{h(!0),g(null);try{const[a,t]=n.split("-"),r=Number(a),l=Number(t);if(!r||!l)return g("Selecciona un mes v\xe1lido para consultar el reporte."),o(null),void h(!1);const i=await d.getReporteComposicionNiveles({area_id:e,anio:r,mes:l});o(i)}catch(a){g("No se pudo cargar el reporte de composici\xf3n. Intenta nuevamente."),o(null)}finally{h(!1)}})(a,l)},[a,l]),(0,t.useEffect)(()=>{"number"===typeof y&&j.length>0?(async(e,n)=>{k(!0),C(null);try{const a=[...n].sort(),t=await d.getReporteAvanceMensual({area_id:e,meses:a});S(t)}catch(a){C("No se pudo cargar el avance mensual de entrenamiento. Intenta nuevamente."),S(null)}finally{k(!1)}})(y,j):(S(null),0===j.length&&C("Selecciona al menos un mes para visualizar la tendencia."))},[y,j]),(0,t.useEffect)(()=>{"number"===typeof z?(async e=>{U(!0),M(null);try{const n=await d.getReporteAvanceAnual({area_id:e});A(n)}catch(n){A(null),M("No se pudo cargar el avance anual de entrenamiento. Intenta nuevamente.")}finally{U(!1)}})(z):A(null)},[z]);const I=(0,t.useMemo)(()=>{var e;return null!==s&&void 0!==s&&null!==(e=s.niveles)&&void 0!==e&&e.length?s.niveles.map(e=>e.clave):je},[s]),F=(0,t.useMemo)(()=>{const e=c({},Ne);return null!==s&&void 0!==s&&s.niveles&&s.niveles.forEach(n=>{e[n.clave]=n.etiqueta}),e},[s]),q=(e,n)=>new Date(e,n-1,1).toLocaleDateString("es-MX",{month:"long",year:"numeric"}),H=e=>{const[n,a]=e.split("-"),t=Number(n),r=Number(a);return t&&r?q(t,r):e};return(0,f.jsxs)("section",{className:"reportes-contenedor",children:[(0,f.jsxs)("header",{className:"reportes-encabezado",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("h2",{children:"Avance por posici\xf3n"}),(0,f.jsx)("p",{className:"reportes-descripcion",children:"Visualiza la distribuci\xf3n de usuarios por nivel alcanzado dentro de cada posici\xf3n del \xe1rea seleccionada."})]}),(0,f.jsxs)("div",{className:"reportes-filtros",children:[(0,f.jsxs)("div",{className:"reportes-select-wrapper",children:[(0,f.jsx)("label",{className:"reportes-select__label",htmlFor:"area-select",children:"\xc1rea"}),(0,f.jsx)("select",{id:"area-select",className:"reportes-select",value:null!==a&&void 0!==a?a:"",onChange:e=>{const n=e.target.value;if(!n)return r(null),void o(null);r(Number(n))},disabled:u,children:e.map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,f.jsxs)("div",{className:"reportes-select-wrapper",children:[(0,f.jsx)("label",{className:"reportes-select__label",htmlFor:"mes-select",children:"Mes"}),(0,f.jsx)("input",{id:"mes-select",className:"reportes-input",type:"month",value:l,onChange:e=>{const n=e.target.value;i(n)},max:_e()})]})]})]}),(0,f.jsx)("div",{className:"reportes-contenido",children:v?(0,f.jsx)("div",{className:"reportes-mensaje error",role:"alert",children:v}):u||p?(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"Cargando informaci\xf3n..."}):e.length?s&&s.posiciones.length?(0,f.jsxs)(f.Fragment,{children:[s&&(0,f.jsxs)("div",{className:"reportes-periodo",children:["Periodo seleccionado: ",(0,f.jsx)("strong",{children:q(s.anio,s.mes)})]}),(0,f.jsx)("div",{className:"reportes-legend",children:I.map(e=>(0,f.jsxs)("div",{className:"reportes-legend__item",children:[(0,f.jsx)("span",{className:"reportes-legend__swatch",style:{backgroundColor:ye[e]}}),(0,f.jsx)("span",{children:F[e]})]},e))}),(0,f.jsxs)("div",{className:"reportes-total",children:["Total de usuarios en el \xe1rea: ",(0,f.jsx)("strong",{children:s.total_usuarios})]}),(0,f.jsx)("div",{className:"reportes-grafica",children:s.posiciones.map(e=>{const n=(e=>{const n=[],a=e.total_usuarios;return a<=0||I.forEach(t=>{const r=((e,n)=>{switch(n){case"onboarding":return e.onboarding;case"nivel_1":return e.nivel_1;case"nivel_2":return e.nivel_2;case"nivel_3":return e.nivel_3;case"nivel_4":return e.nivel_4;default:return 0}})(e,t);if(!r)return;const l=r/a*100;n.push({clave:t,etiqueta:F[t],cantidad:r,porcentaje:l,color:ye[t],textoColor:xe[t]})}),n})(e);return(0,f.jsxs)("div",{className:"reportes-grafica__fila",children:[(0,f.jsxs)("div",{className:"reportes-grafica__encabezado",children:[(0,f.jsx)("span",{className:"reportes-grafica__posicion",children:e.posicion_nombre}),(0,f.jsxs)("span",{className:"reportes-grafica__total",children:[e.total_usuarios," usuario",1===e.total_usuarios?"":"s"]})]}),(0,f.jsx)("div",{className:"reportes-grafica__barra",role:"group","aria-label":"Distribuci\xf3n por niveles para ".concat(e.posicion_nombre),children:0===n.length?(0,f.jsx)("div",{className:"reportes-grafica__barra--vacia",children:"Sin informaci\xf3n"}):n.map(e=>{const n=e.porcentaje>=10?Math.round(e.porcentaje):Math.round(10*e.porcentaje)/10;return(0,f.jsx)("div",{className:"reportes-grafica__segmento",style:{width:"".concat(e.porcentaje,"%"),backgroundColor:e.color,color:e.textoColor},title:"".concat(e.etiqueta,": ").concat(e.cantidad," usuario").concat(1===e.cantidad?"":"s"," (").concat(n,"%)"),"aria-label":"".concat(e.etiqueta,": ").concat(e.cantidad," usuario").concat(1===e.cantidad?"":"s"," (").concat(n,"%)"),children:e.porcentaje>=12?"".concat(n,"%"):""},e.clave)})})]},e.posicion_id)})})]}):(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"No se encontraron usuarios con posiciones asignadas en esta \xe1rea."}):(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"No hay \xe1reas disponibles para mostrar."})}),(0,f.jsxs)("section",{className:"reportes-linea",children:[(0,f.jsx)("header",{className:"reportes-linea__cabecera",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{children:"Avance Mensual de Entrenamiento"}),(0,f.jsxs)("p",{children:["Selecciona un \xe1rea y hasta ",3," meses para visualizar la tendencia."]})]})}),(0,f.jsxs)("div",{className:"reportes-linea__filtros",children:[(0,f.jsxs)("div",{className:"reportes-select-wrapper",children:[(0,f.jsx)("label",{className:"reportes-select__label",htmlFor:"area-avance-select",children:"\xc1rea"}),(0,f.jsx)("select",{id:"area-avance-select",className:"reportes-select",value:null!==y&&void 0!==y?y:"",onChange:e=>{const n=e.target.value;if(!n)return x(null),void S(null);x(Number(n)),L(null),C(null)},disabled:u,children:e.map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},"avance-".concat(e.id)))})]}),(0,f.jsxs)("div",{className:"reportes-linea__meses",children:[(0,f.jsx)("label",{className:"reportes-linea__meses-label",htmlFor:"meses-avance-select",children:"Meses"}),(0,f.jsx)("select",{id:"meses-avance-select",className:"reportes-linea__meses-select",multiple:!0,size:6,value:j,onChange:e=>{const n=Array.from(e.target.selectedOptions).map(e=>e.value);if(n.length>3)return L("Solo puedes seleccionar hasta ".concat(3," meses a la vez.")),void Array.from(e.target.options).forEach(e=>{e.selected=j.includes(e.value)});L(null),0===n.length?C("Selecciona al menos un mes para visualizar la tendencia."):C(null),N(n.sort())},children:b.map(e=>(0,f.jsx)("option",{value:e,children:H(e)},e))}),(0,f.jsxs)("span",{className:"reportes-linea__meses-nota",children:["Puedes activar hasta ",3," meses a la vez."]})]})]}),P&&(0,f.jsx)("div",{className:"reportes-mensaje error",role:"alert",children:P}),(0,f.jsx)("div",{className:"reportes-linea__contenido",children:(()=>{if(w)return(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"Cargando evoluci\xf3n mensual..."});if(E)return(0,f.jsx)("div",{className:"reportes-mensaje error",role:"alert",children:E});if(!_||0===_.serie.length)return(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"No se registran niveles completados en los meses seleccionados."});const e=_.serie,n=Math.max(...e.map(e=>e.niveles_completados),0),a=620,t=260,r=45,l=e.map((a,t)=>{const l=1===e.length?310:r+t/(e.length-1)*530,i=215-170*(0===n?0:a.niveles_completados/n);return c(c({},a),{},{x:l,y:i})}),i=l.map((e,n)=>"".concat(0===n?"M":"L"," ").concat(e.x," ").concat(e.y)).join(" "),s="M ".concat(r," ").concat(215," L ").concat(575," ").concat(215),o="M ".concat(r," ").concat(r," L ").concat(r," ").concat(215);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("svg",{className:"reportes-linea__svg",viewBox:"0 0 ".concat(a," ").concat(t),role:"img","aria-label":"Avance Mensual de Entrenamiento",children:[(0,f.jsx)("path",{d:s,className:"reportes-linea__eje"}),(0,f.jsx)("path",{d:o,className:"reportes-linea__eje"}),n>0&&(0,f.jsx)("text",{className:"reportes-linea__eje-texto",x:33,y:49,textAnchor:"end",children:n}),(0,f.jsx)("path",{d:i,className:"reportes-linea__trazo"}),l.map(e=>{const n=Math.min(e.y-12,209);return(0,f.jsxs)("g",{children:[(0,f.jsx)("circle",{className:"reportes-linea__punto",cx:e.x,cy:e.y,r:5}),(0,f.jsx)("text",{className:"reportes-linea__valor",x:e.x,y:n,textAnchor:"middle",children:e.niveles_completados}),(0,f.jsx)("text",{className:"reportes-linea__etiqueta",x:e.x,y:239,textAnchor:"middle",children:H(e.mes)})]},"punto-".concat(e.mes))})]}),(0,f.jsxs)("div",{className:"reportes-linea__resumen",children:["Total de niveles completados en el periodo:"," ",(0,f.jsx)("strong",{children:_.total_niveles})]})]})})()})]}),(0,f.jsxs)("section",{className:"reportes-linea",children:[(0,f.jsx)("header",{className:"reportes-linea__cabecera",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{children:"Avance Anual de Entrenamiento"}),(0,f.jsx)("p",{children:"Observa la evoluci\xf3n de los niveles completados en los \xfaltimos tres a\xf1os."})]})}),(0,f.jsx)("div",{className:"reportes-linea__filtros",children:(0,f.jsxs)("div",{className:"reportes-select-wrapper",children:[(0,f.jsx)("label",{className:"reportes-select__label",htmlFor:"area-anual-select",children:"\xc1rea"}),(0,f.jsx)("select",{id:"area-anual-select",className:"reportes-select",value:null!==z&&void 0!==z?z:"",onChange:e=>{const n=e.target.value;if(!n)return O(null),void A(null);O(Number(n))},disabled:u,children:e.map(e=>(0,f.jsx)("option",{value:e.id,children:e.name},"anual-".concat(e.id)))})]})}),(0,f.jsx)("div",{className:"reportes-linea__contenido",children:(()=>{if(R)return(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"Cargando avance anual..."});if(D)return(0,f.jsx)("div",{className:"reportes-mensaje error",role:"alert",children:D});if(!T||0===T.serie.length)return(0,f.jsx)("div",{className:"reportes-mensaje",role:"status","aria-live":"polite",children:"No se registran niveles completados en los \xfaltimos a\xf1os."});const e=T.serie,n=Math.max(...e.map(e=>e.niveles_completados),0),a=620,t=260,r=45,l=e.map((a,t)=>{const l=1===e.length?310:r+t/(e.length-1)*530,i=215-170*(0===n?0:a.niveles_completados/n);return c(c({},a),{},{x:l,y:i})}),i=l.map((e,n)=>"".concat(0===n?"M":"L"," ").concat(e.x," ").concat(e.y)).join(" "),s="M ".concat(r," ").concat(215," L ").concat(575," ").concat(215),o="M ".concat(r," ").concat(r," L ").concat(r," ").concat(215);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("svg",{className:"reportes-linea__svg",viewBox:"0 0 ".concat(a," ").concat(t),role:"img","aria-label":"Avance Anual de Entrenamiento",children:[(0,f.jsx)("path",{d:s,className:"reportes-linea__eje"}),(0,f.jsx)("path",{d:o,className:"reportes-linea__eje"}),n>0&&(0,f.jsx)("text",{className:"reportes-linea__eje-texto",x:33,y:49,textAnchor:"end",children:n}),(0,f.jsx)("path",{d:i,className:"reportes-linea__trazo"}),l.map(e=>{const n=Math.min(e.y-12,209);return(0,f.jsxs)("g",{children:[(0,f.jsx)("circle",{className:"reportes-linea__punto",cx:e.x,cy:e.y,r:5}),(0,f.jsx)("text",{className:"reportes-linea__valor",x:e.x,y:n,textAnchor:"middle",children:e.niveles_completados}),(0,f.jsx)("text",{className:"reportes-linea__etiqueta",x:e.x,y:239,textAnchor:"middle",children:e.anio})]},"punto-anual-".concat(e.anio))})]}),(0,f.jsxs)("div",{className:"reportes-linea__resumen",children:["Total de niveles completados en estos a\xf1os:"," ",(0,f.jsx)("strong",{children:T.total_niveles})]})]})})()})]})]})},ke={ADMIN:["home","evaluaciones","reportes","notificaciones","mensajes","ajustes"],ENTRENADOR:["evaluaciones","notificaciones","ajustes"],SUPERVISOR:["evaluaciones","notificaciones","ajustes"],USUARIO:["evaluaciones","notificaciones","ajustes"]},Ee=[{key:"evaluaciones",label:"Evaluaciones",icon:A},{key:"reportes",label:"Reportes",icon:P},{key:"notificaciones",label:"Notificaciones",icon:k},{key:"mensajes",label:"Mensajes",icon:function(e){return x({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}},{key:"ajustes",label:"Ajustes",icon:function(e){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}}],Ce=e=>{let{onLogout:n}=e;const[a,r]=(0,t.useState)(null),[l,i]=(0,t.useState)("home"),s=(null===a||void 0===a?void 0:a.role)||"USUARIO",o=(0,t.useMemo)(()=>ke[s]||ke.USUARIO,[s]);(0,t.useEffect)(()=>{const e=localStorage.getItem("user");if(e)try{r(JSON.parse(e))}catch(n){console.error("Error parsing user data:",n)}},[]),(0,t.useEffect)(()=>{if(0!==o.length&&!o.includes(l)){const e=o.includes("home")?"home":o[0];l!==e&&i(e)}},[o,l]);const c=e=>(0,f.jsx)("div",{className:"dashboard-content",children:(0,f.jsxs)("div",{className:"access-denied",children:[(0,f.jsx)("h2",{children:"Acceso restringido"}),(0,f.jsx)("p",{children:e||"No tienes permisos para ver esta secci\xf3n."})]})});return(0,f.jsxs)("div",{className:"dashboard-container",children:[("home"===l||"ajustes"===l||"evaluaciones"===l||"reportes"===l)&&(0,f.jsxs)("header",{className:"dashboard-header",children:[(0,f.jsx)("div",{className:"welcome-message",children:(0,f.jsxs)("h1",{children:["Hola ",a?a.first_name&&a.last_name?"".concat(a.first_name," ").concat(a.last_name):a.first_name?a.first_name:a.username:"Usuario",", \xbfqu\xe9 quieres hacer hoy?"]})}),(0,f.jsx)("button",{onClick:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),n&&n()},className:"logout-button",children:"Cerrar Sesi\xf3n"})]}),(0,f.jsx)("main",{className:"dashboard-main",children:(()=>{switch(l){case"evaluaciones":return o.includes("evaluaciones")?(0,f.jsx)(ge,{userRole:s,currentUser:a}):c();case"ajustes":return o.includes("ajustes")?(0,f.jsx)(he,{userRole:s}):c();case"notificaciones":return o.includes("notificaciones")?(0,f.jsx)(be,{}):c();case"reportes":return o.includes("reportes")?(0,f.jsx)(we,{}):c();case"mensajes":return o.includes("mensajes")?(0,f.jsx)("div",{className:"dashboard-content",children:(0,f.jsx)("p",{children:"El m\xf3dulo de mensajes estar\xe1 disponible pr\xf3ximamente."})}):c();default:return(0,f.jsx)("div",{className:"dashboard-content",children:(0,f.jsx)("p",{children:"Contenido del dashboard aqu\xed..."})})}})()}),(0,f.jsx)("nav",{className:"bottom-menu",children:Ee.filter(e=>o.includes(e.key)).map(e=>(0,f.jsxs)("div",{className:"menu-item ".concat(l===e.key?"active":""),onClick:()=>i(e.key),children:[(0,f.jsx)(e.icon,{className:"menu-icon"}),(0,f.jsx)("span",{children:e.label})]},e.key))})]})};const Pe=function(){const[e,n]=(0,t.useState)(!1),[a,r]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{if(localStorage.getItem("user"))try{await d.checkSession()?n(!0):(localStorage.removeItem("authToken"),localStorage.removeItem("user"),n(!1))}catch(e){localStorage.removeItem("authToken"),localStorage.removeItem("user"),n(!1)}else n(!1)}catch(e){console.error("Error checking authentication:",e),n(!1)}finally{r(!1)}})()},[]),a?(0,f.jsx)("div",{className:"App",children:(0,f.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",color:"#e12026",fontSize:"1.2rem"},children:"Cargando..."})}):(0,f.jsx)("div",{className:"App",children:e?(0,f.jsx)(Ce,{onLogout:()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),n(!1)}}):(0,f.jsx)(p,{onLoginSuccess:()=>{n(!0)}})})};r.createRoot(document.getElementById("root")).render((0,f.jsx)(t.StrictMode,{children:(0,f.jsx)(Pe,{})}))})();
//# sourceMappingURL=main.83169bf7.js.map